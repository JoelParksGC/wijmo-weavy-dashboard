/*! For license information please see 913.abcefe8ce2724d9f57ab.js.LICENSE.txt */
"use strict";(self.webpackChunkwijmo_weavy=self.webpackChunkwijmo_weavy||[]).push([[913],{913:(t,e,n)=>{n.r(e),n.d(e,{AutoComplete:()=>O,Calendar:()=>b,ClickAction:()=>m,CollectionViewNavigator:()=>u,ColorPicker:()=>h,ComboBox:()=>P,DateSelectionMode:()=>d,DropDown:()=>w,FormatItemEventArgs:()=>p,InputColor:()=>I,InputDate:()=>E,InputDateRange:()=>D,InputDateTime:()=>A,InputMask:()=>l,InputNumber:()=>a,InputTime:()=>S,ListBox:()=>c,Menu:()=>k,MultiAutoComplete:()=>j,MultiSelect:()=>T,MultiSelectListBox:()=>g,Popup:()=>x,PopupBoundsChangingEventArgs:()=>C,PopupTrigger:()=>y,ShowMonthPicker:()=>_});var i,r=n(664),o=n(913),s=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});(0,r._addCultureInfo)("InputNumber",{ariaLabels:{incVal:"Increase Value",decVal:"Decrease Value"}});var a=function(t){function e(e,n){var i=t.call(this,e)||this;i._value=null,i._min=null,i._max=null,i._format="",i._step=null,i._showBtn=!0,i._readOnly=!1,i._handleWheel=!0,i._oldText="",i._fromKb=!0,i.textChanged=new r.Event,i.valueChanged=new r.Event;var o=i.hostElement;(0,r.setAttribute)(o,"role","spinbutton",!0);var s=i.getTemplate();i.applyTemplate("wj-control wj-content wj-inputnumber",s,{_tbx:"input",_btnUp:"btn-inc",_btnDn:"btn-dec"},"input");var a=r.culture.InputNumber.ariaLabels;(0,r.setAriaLabel)(i._btnUp.querySelector("button"),a.incVal),(0,r.setAriaLabel)(i._btnDn.querySelector("button"),a.decVal),i._tbx.type.match(/number/i)&&(i.inputType="");var l=i._tbx;l.autocomplete="off",l.spellcheck=!1,i._updateSymbols();var h=i.addEventListener.bind(i);h(l,"keypress",i._keypress.bind(i)),h(l,"keydown",i._keydown.bind(i)),h(l,"input",i._input.bind(i)),h(l,"blur",(function(){i.text!=i._oldText&&i._setText(i.text)})),h(l,"paste",(function(){i._fromKb=!1})),h(l,"compositionstart",(function(){i._composing=!0})),h(l,"compositionend",(function(){i._composing=!1,setTimeout((function(){var t=i.text,e=i._oldText,n=i._chrPct;e&&e.indexOf(n)>-1&&t.indexOf(n)<0&&(t+=n),i._setText(t)}))}));var u=i._clickSpinner.bind(i);return h(i._btnUp,"click",u),h(i._btnDn,"click",u),i._rptUp=new r._ClickRepeater(i._btnUp.querySelector("button")),i._rptDn=new r._ClickRepeater(i._btnDn.querySelector("button")),h(l,"wheel",(function(t){if(i.handleWheel&&!t.defaultPrevented&&!t.ctrlKey&&i._isEditable()&&i.containsFocus()){var e=(0,r.clamp)(-t.deltaY,-1,1);i._increment((i.step||1)*e),setTimeout((function(){return i.selectAll()})),t.preventDefault()}})),i.value=0,i.isRequired=!0,i.initialize(n),i}return s(e,t),Object.defineProperty(e.prototype,"inputElement",{get:function(){return this._tbx},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"inputType",{get:function(){return this._tbx.type},set:function(t){this._tbx.type=(0,r.asString)(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){return this._value},set:function(t){if(t!=this._value)if(null==(t=(0,r.asNumber)(t,!this.isRequired||null==t&&null==this._value)))this._setText("");else if(!isNaN(t)){var e=r.Globalize.format(t,this.format);this._setText(e)}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isRequired",{get:function(){return this._tbx.required},set:function(t){this._tbx.required=(0,r.asBoolean)(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isReadOnly",{get:function(){return this._readOnly},set:function(t){this._readOnly=(0,r.asBoolean)(t),this.inputElement.readOnly=this._readOnly,(0,r.toggleClass)(this.hostElement,"wj-state-readonly",this.isReadOnly)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"handleWheel",{get:function(){return this._handleWheel},set:function(t){this._handleWheel=(0,r.asBoolean)(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"min",{get:function(){return this._min},set:function(t){t!=this._min&&(this._min=(0,r.asNumber)(t,!0),this._updateAria())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"max",{get:function(){return this._max},set:function(t){t!=this._max&&(this._max=(0,r.asNumber)(t,!0),this._updateAria())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"step",{get:function(){return this._step},set:function(t){this._step=(0,r.asNumber)(t,!0),this._updateBtn()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"format",{get:function(){return this._format},set:function(t){t!=this.format&&(this._format=(0,r.asString)(t),this.refresh())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"text",{get:function(){return this._tbx.value},set:function(t){t!=this.text&&(this._oldText=null,this._setText(t))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"placeholder",{get:function(){return this._tbx.placeholder},set:function(t){this._tbx.placeholder=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"showSpinner",{get:function(){return this._showBtn},set:function(t){this._showBtn=(0,r.asBoolean)(t),this._updateBtn()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"repeatButtons",{get:function(){return!this._rptUp.disabled},set:function(t){this._rptUp.disabled=this._rptDn.disabled=!(0,r.asBoolean)(t)},enumerable:!0,configurable:!0}),e.prototype.selectAll=function(){var t=this._tbx;(0,r.setSelectionRange)(t,0,t.value.length)},e.prototype.clamp=function(t){return(0,r.clamp)(t,this.min,this.max)},e.prototype.onTextChanged=function(t){this.textChanged.raise(this,t),this._updateState()},e.prototype.onValueChanged=function(t){this._updateAria(),this.valueChanged.raise(this,t)},e.prototype.dispose=function(){this._rptUp.element=null,this._rptDn.element=null,t.prototype.dispose.call(this)},e.prototype.onGotFocus=function(e){this._oldValue=this.value,this.isTouching||(this._tbx.focus(),this.selectAll()),t.prototype.onGotFocus.call(this,e)},e.prototype.onLostFocus=function(e){if(this._composing&&(this._composing=!1,this._setText(this.text)),this._isEditable()){var n=this.clamp(this.value);if(n==this.value||this.onInvalidInput(new r.CancelEventArgs)){var i=r.Globalize.format(n,this.format);this._setText(i)}}t.prototype.onLostFocus.call(this,e)},e.prototype.refresh=function(e){if(void 0===e&&(e=!0),t.prototype.refresh.call(this,e),this.hostElement){this._updateSymbols();var n=r.Globalize.format(this.value,this.format);this._setText(n)}},e.prototype._isEditable=function(){return!this.isReadOnly&&!this.isDisabled},e.prototype._updateSymbols=function(){var t=r.culture.Globalize.numberFormat,e=r.Globalize._parseNumericFormat(this.format);this._chrDec=t["."]||".",this._chrTho=t[","]||",",this._chrNeg=t["-"]||"-",this._chrPls=t["+"]||"+",this._chrPct=t["%"]||"%",this._chrCur=e.curr||t.currency.symbol||"$",this._fmtSpc=e.spec,this._fmtPrc=e.prec,this._rxSym=new RegExp("^[%+\\-() \\"+this._chrDec+"\\"+this._chrCur+"\\"+this._chrNeg+"\\"+this._chrPls+"\\"+this._chrPct+"]*$"),this._rxNeg=new RegExp("^\\s*(\\-|\\"+this._chrNeg+")|([^e](\\-|\\"+this._chrNeg+")|\\()")},e.prototype._isNumeric=function(t,e){var n=t==this._chrDec||t>="0"&&t<="9",i="x"==this._fmtSpc;return!n&&i&&(n=t>="a"&&t<="f"||t>="A"&&t<="F"),n||e||i||(n=t==this._chrPls||t==this._chrNeg||"("==t||")"==t),n},e.prototype._getInputRange=function(t){for(var e=[0,0],n=this.text,i=!1,r=0;r<n.length;r++)this._isNumeric(n[r],t)&&(i||(e[0]=r,i=!0),e[1]=r+1);return e},e.prototype._flipSign=function(){var t=this._getSelStartDigits();this.value*=-1,this._setSelStartDigits(t)},e.prototype._getSelStartDigits=function(){for(var t=0,e=this._tbx.selectionStart,n=this._tbx.value,i=0;i<n.length&&i<e;i++)this._isNumeric(n[i],!0)&&t++;return t},e.prototype._setSelStartDigits=function(t){for(var e=this._tbx.value,n=0;n<e.length&&t>=0;n++)if(this._isNumeric(e[n],!0)){if(!t){(0,r.setSelectionRange)(this._tbx,n);break}t--}else if(!t){(0,r.setSelectionRange)(this._tbx,n);break}},e.prototype._increment=function(t){if(t){var e=this.clamp((0,r.isNumber)(this.value)?this.value+t:0),n=r.Globalize.format(e,this.format,!1,!1);this._setText(n)}},e.prototype._updateBtn=function(){var t=this.showSpinner&&!!this.step,e=t;(0,r.setCss)([this._btnUp,this._btnDn],{display:t?"":"none"}),(0,r.toggleClass)(this.hostElement,"wj-input-show-spinner",t),(0,r.enable)(this._btnUp,e),(0,r.enable)(this._btnDn,e),this._updateAria()},e.prototype._setText=function(t,e){if(void 0===e&&(e=!1),!this._composing){var n=this._tbx,i=this._chrDec,o=this._rxNeg.test(t),s=this._delKey,a=this.containsFocus();if(t&&this._rxSym.test(t)&&a&&(t=this.isRequired||!s?(o?"-0":"0")+(t.indexOf(i)>-1?i:""):""),this._delKey=!1,s&&0==this.value&&!this.isRequired&&(t=""),!t){if(!this.isRequired)return n.value="",null!=this._value&&(this._value=null,this.onValueChanged()),this._oldText&&(this._oldText=t,this.onTextChanged()),void this._updateBtn();t="0"}var l=t.indexOf(i),h=this._format||(l>-1?"n2":"n0"),u=r.Globalize.parseFloat(t,h);if(isFinite(u)||(u=this.clamp(u)),isNaN(u))this.onInvalidInput(new r.CancelEventArgs)?n.value=this._oldText:this.focus();else{var c=a&&l>-1?2:null,p=r.Globalize.format(u,h,!1,e,c);o&&u>=0&&!s&&(p=this._chrNeg+p),a&&l>-1&&"g"==this._fmtSpc&&0!=this._fmtPrc&&(p=t).indexOf(i)<0&&(p+=i),n.value!=p&&(n.value=p,u=r.Globalize.parseFloat(p,h)),u!=this._value&&(this._value=u,this.onValueChanged()),this.text!=this._oldText&&(this._oldText=this.text,this.onTextChanged()),this._updateBtn(),this._updateState()}}},e.prototype._keypress=function(t){if(!t.defaultPrevented&&!this._composing&&this._isEditable()&&t.charCode&&!t.ctrlKey&&!t.metaKey&&t.keyCode!=r.Key.Enter){var e=this._tbx,n=String.fromCharCode(t.charCode);if(this._isNumeric(n,!1)){var i=e.maxLength;if(i>-1&&e.value.length>=i&&e.selectionEnd==e.selectionStart)return void t.preventDefault();var o=this._getInputRange(!0),s=e.selectionStart,a=e.selectionEnd;if(s<o[0]&&a<e.value.length&&(a=Math.max(a,o[0]),(0,r.setSelectionRange)(e,o[0],a)),s>=o[1]){var l=null!=this._fmtPrc?this._fmtPrc:2,h=e.value.indexOf(this._chrDec);h>-1&&s-h>l&&t.preventDefault()}}else t.preventDefault();switch(n){case"-":case this._chrNeg:this.clamp(-1)>=0?this.value<0&&this._flipSign():this.value&&e.selectionStart==e.selectionEnd?this._flipSign():this.clamp(-1)<0&&(e.value=this._chrNeg,(0,r.setSelectionRange)(e,1)),t.preventDefault();break;case"+":case this._chrPls:this.value<0&&this._flipSign(),t.preventDefault();break;case".":case this._chrDec:if(0==this._fmtPrc)t.preventDefault();else{var u=e.value.indexOf(this._chrDec);u>-1&&(e.selectionStart<=u&&u++,(0,r.setSelectionRange)(e,u),t.preventDefault())}}if(!t.defaultPrevented&&(0,r.isIE)()){var c=e.value;(s=e.selectionStart)==(a=e.selectionEnd)&&(e.value=c.substr(0,s)+n+c.substr(a),(0,r.setSelectionRange)(e,s+1),t.preventDefault(),this._input())}}},e.prototype._keydown=function(t){var e=this;if(this._delKey=!1,!t.defaultPrevented&&!this._composing&&!(0,r.hasClass)(this._tbx,"wj-grid-ime")){var n=this._tbx,i=n.value,o=n.selectionStart,s=n.selectionEnd;switch(t.keyCode){case 65:t.ctrlKey&&(setTimeout((function(){e.selectAll()})),t.preventDefault());break;case r.Key.Up:case r.Key.Down:this.step&&this._isEditable()&&(this._increment(this.step*(t.keyCode==r.Key.Up?1:-1)),setTimeout((function(){e.selectAll()})),t.preventDefault());break;case r.Key.Back:if(this._delKey=!0,s-o<2&&this._isEditable()){var a=i[s-1];a!=this._chrDec&&a!=this._chrPct&&a!=this._chrTho&&")"!=a||(setTimeout((function(){s=a==e._chrPct?e._getInputRange(!0)[1]:s-1,(0,r.setSelectionRange)(n,s)})),t.preventDefault())}break;case r.Key.Delete:if(this._delKey=!0,s-o<2&&this._isEditable())if("0"==i&&1==o)(0,r.setSelectionRange)(n,0);else{var l=i[o];l!=this._chrDec&&l!=this._chrPct||(setTimeout((function(){(0,r.setSelectionRange)(n,o+1)})),t.preventDefault())}break;case r.Key.Escape:this.value=this._oldValue,this.selectAll()}}},e.prototype._input=function(){var t=this;this._composing?this._fromKb=!0:setTimeout((function(){var e=t._tbx,n=e.value,i=n.indexOf(t._chrDec),o=e.selectionStart,s=t._getSelStartDigits();if("p"==t._fmtSpc&&n.length&&n.indexOf(t._chrPct)<0&&(n+=t._chrPct),t._setText(n,t._fromKb),t._fromKb=!0,t.containsFocus()){var a=e.value,l=a.indexOf(t._chrDec),h=t._getInputRange(!0);if(n==t._chrNeg+t._chrDec&&l>-1)return void(0,r.setSelectionRange)(e,l+1);if(n[0]==t._chrNeg&&a[0]!=t._chrNeg)return void(1==a.length?(0,r.setSelectionRange)(e,1):t._setSelStartDigits(s));n?n==t._chrDec&&l>-1?o=l+1:o<=i&&l>-1||i<0&&l<0?o+=a.length-n.length:i<0&&l>-1&&(o=l):o=l>-1?l:h[1],o=(0,r.clamp)(o,h[0],h[1]),(0,r.setSelectionRange)(e,o)}}))},e.prototype._clickSpinner=function(t){var e=this;!t.defaultPrevented&&this._isEditable()&&this.step&&(this._increment(this.step*((0,r.contains)(this._btnUp,t.target)?1:-1)),this.isTouching||setTimeout((function(){return e.selectAll()})))},e.prototype._updateAria=function(){var t=this.hostElement;t&&((0,r.setAttribute)(t,"aria-valuemin",this.min),(0,r.setAttribute)(t,"aria-valuemax",this.max),(0,r.setAttribute)(t,"aria-valuenow",this.value),(0,r.enable)(this._btnDn,null==this.min||this.value>this.min),(0,r.enable)(this._btnUp,null==this.max||this.value<this.max))},e.controlTemplate='<div class="wj-template"><div class="wj-input"><div class="wj-input-group"><span wj-part="btn-dec" class="wj-input-group-btn" tabindex="-1"><button class="wj-btn wj-btn-default" tabindex="-1">-</button></span><input type="tel" wj-part="input" class="wj-form-control wj-numeric"/><span wj-part="btn-inc" class="wj-input-group-btn" tabindex="-1"><button class="wj-btn wj-btn-default" tabindex="-1">+</button></span></div></div></div>',e}(r.Control),l=function(t){function e(e,n){var i=t.call(this,e)||this;i.valueChanged=new r.Event;var o=i.getTemplate();if(i.applyTemplate("wj-control wj-content wj-inputmask",o,{_tbx:"input"},"input"),"INPUT"==i._orgTag){var s=i._tbx.getAttribute("value");s&&(i.value=s)}return i._msk=new r._MaskProvider(i._tbx),i.isRequired=!0,i.initialize(n),i.addEventListener(i._tbx,"input",(function(){i.onValueChanged()})),i.addEventListener(i._tbx,"blur",i._commitText.bind(i)),i.addEventListener(i._tbx,"keydown",(function(t){t.keyCode==r.Key.Enter&&i._commitText()})),i}return s(e,t),Object.defineProperty(e.prototype,"inputElement",{get:function(){return this._tbx},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"inputType",{get:function(){return this._tbx.type},set:function(t){this._tbx.type=(0,r.asString)(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){return this._tbx.value},set:function(t){t!=this.value&&(this._tbx.value=(0,r.asString)(t),t=this._msk._applyMask(),this._tbx.value=t,this.onValueChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rawValue",{get:function(){return this._msk.getRawValue()},set:function(t){t!=this.rawValue&&(this.value=(0,r.asString)(t))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"mask",{get:function(){return this._msk.mask||""},set:function(t){var e=this.value;this._msk.mask=(0,r.asString)(t),this.value!=e&&this.onValueChanged()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"promptChar",{get:function(){return this._msk.promptChar},set:function(t){var e=this.value;this._msk.promptChar=t,this.value!=e&&this.onValueChanged()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"overwriteMode",{get:function(){return this._msk.overwriteMode},set:function(t){this._msk.overwriteMode=(0,r.asBoolean)(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"placeholder",{get:function(){return this._tbx.placeholder},set:function(t){this._tbx.placeholder=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maskFull",{get:function(){return this._msk.maskFull},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isRequired",{get:function(){return this._tbx.required},set:function(t){this._tbx.required=(0,r.asBoolean)(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isReadOnly",{get:function(){return this._tbx.readOnly},set:function(t){this._tbx.readOnly=(0,r.asBoolean)(t),(0,r.toggleClass)(this.hostElement,"wj-state-readonly",this.isReadOnly)},enumerable:!0,configurable:!0}),e.prototype.selectAll=function(){var t=this._msk.getMaskRange();(0,r.setSelectionRange)(this._tbx,t[0],t[1]+1)},e.prototype.onValueChanged=function(t){this.value!=this._oldValue&&(this._oldValue=this.value,this.valueChanged.raise(this,t)),this._updateState()},e.prototype._commitText=function(){if((this.value||this.isRequired)&&!this.maskFull&&!this.onInvalidInput(new r.CancelEventArgs)){var t=this._tbx,e=t.value,n=e.indexOf(this.promptChar);n>-1&&(0,r.setSelectionRange)(t,n,e.length)}this._updateState()},e.prototype.dispose=function(){this._msk.input=null,t.prototype.dispose.call(this)},e.prototype.refresh=function(e){void 0===e&&(e=!0),t.prototype.refresh.call(this,e),this.hostElement&&this._msk.refresh()},e.prototype.onGotFocus=function(e){t.prototype.onGotFocus.call(this,e),this.selectAll()},e.controlTemplate='<div class="wj-input"><div class="wj-input-group"><input wj-part="input" class="wj-form-control"/></div></div>',e}(r.Control),h=function(t){function e(n,i){var o=t.call(this,n)||this;o._hsb=[.5,1,1],o._alpha=1,o.valueChanged=new r.Event;var s=o.getTemplate();o.applyTemplate("wj-control wj-content wj-colorpicker",s,{_eSB:"div-sb",_eHue:"div-hue",_eAlpha:"div-alpha",_ePreview:"div-pv",_ePal:"div-pal",_eText:"div-text"}),o._palette="#FFF,#000,#F00,#FFC000,#FFFF00,#92D050,#00B050,#00B0F0,#0070C0,#7030A0".split(","),o._updatePalette(),o._eHue.style.backgroundImage="url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAD4CAIAAACi6hsPAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAYdEVYdFNvZnR3YXJlAHBhaW50Lm5ldCA0LjAuM4zml1AAAAGvSURBVDhPXdBPaM9xHMfxz4pWaxcmtoOhpdXSVpiyHWxqmVpDjaU5rK34XfypjTJ/p+ZPay6jhsOsRrKwaJElf9IQq03WIkv4FeMwMq221tfje1ByeFzfvd7PEKWGEKWTQRZLySWfVRRTQjmVbKWGOhLsZT+HaeY0bbTTQSfdXOcWffTzmAFeMcwoYyT5ygS/mA5hNgphip98J8kHRnnNSwZ4yH1uc4OrdHGR87RximYO0cgedlLLdqqoYAPrWMtKVrCcJSxiPmnMJUQp/Bsyk2xyyKOAQooopYwKtlDNDur5G7SBJo7RQiv/B+2hl3s84CkvGGKEOOYnxolj/mYmhBmDJ5ngCx95xxsGecYj4pB3iENeoZMO2mmlhaMcpIE4ZII6aqhmM3HMMkooopB88sghm0wySCeVlCjMCVFIYx4LWUwOeRSwhmLWU84mqqihll3sppEmjnOSs5zjEl1c4yZ99POE5wwxwns+840fTDFLFKaZZIJxkozxlmEGGSC+GF++Sy89dHOZC8Rr4lVnOMERDrCPBPXEX22jko2UEn+/mnxyWUYWC0gnNUQh/AEc0HJs6cex0gAAAABJRU5ErkJggg==)",o._eHue.style.backgroundSize="contain",navigator.appVersion.indexOf("MSIE 9")>-1&&(o._eSB.children[0].style.filter="progid:DXImageTransform.Microsoft.gradient(startColorstr=#ffffffff,endColorstr=#00ffffff,GradientType=1)",o._eSB.children[1].style.filter="progid:DXImageTransform.Microsoft.gradient(startColorstr=#00000000,endColorstr=#ff000000,GradientType=0)"),s=e._tplCursor,o._cSB=(0,r.createElement)(s),o._cHue=(0,r.createElement)(s),o._cHue.style.width="100%",o._cAlpha=(0,r.createElement)(s),o._cAlpha.style.height="100%",o._eSB.appendChild(o._cSB),o._eHue.appendChild(o._cHue),o._eAlpha.appendChild(o._cAlpha);var a=o.addEventListener.bind(o),l=o.removeEventListener.bind(o),h=document;a(o.hostElement,"mousedown",(function(t){a(h,"mousemove",u),a(h,"mouseup",c),o._mouseDown(t)})),a(o.hostElement,"touchstart",(function(t){a(h,"touchmove",u),a(h,"touchend",c),o._mouseDown(t)}));var u=function(t){o._mouseMove(t)},c=function(t){l(h,"mousemove",u),l(h,"mouseup",c),l(h,"touchmove",u),l(h,"touchend",c),o._mouseUp(t)};return a(o.hostElement,"click",(function(t){var e=t.target;if(e&&"DIV"==e.tagName&&(0,r.contains)(o._ePal,e)){var n=e.style.backgroundColor;n&&(o.value=new r.Color(n).toString())}})),o.value="#ffffff",o.initialize(i),o._updatePanels(),o}return s(e,t),Object.defineProperty(e.prototype,"showAlphaChannel",{get:function(){return"none"!=this._eAlpha.parentElement.style.display},set:function(t){this._eAlpha.parentElement.style.display=(0,r.asBoolean)(t)?"":"none"},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"showColorString",{get:function(){return"none"!=this._eText.style.display},set:function(t){this._eText.style.display=(0,r.asBoolean)(t)?"":"none"},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){return this._value},set:function(t){if(t!=this.value){t=(0,r.asString)(t);var e=r.Color.fromString(t);if(e){this._value=t,this._eText.innerText=t;var n=e.getHsb();this._hsb[0]==n[0]&&this._hsb[1]==n[1]&&this._hsb[2]==n[2]&&this._alpha==e.a||(0==n[2]?(n[0]=this._hsb[0],n[1]=this._hsb[1]):0==n[1]&&(n[0]=this._hsb[0]),this._hsb=n,this._alpha=e.a,this._updatePanels(),this.onValueChanged())}}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"palette",{get:function(){return this._palette},set:function(t){(t=(t=(0,r.asArray)(t)).slice(0,10)).every((function(t){return null!=r.Color.fromString(t)}))&&(this._palette=t,this._updatePalette())},enumerable:!0,configurable:!0}),e.prototype.onValueChanged=function(t){this._updatePanels(),this.valueChanged.raise(this,t)},e.prototype._mouseDown=function(t){this._htDown=this._getTargetPanel(t),this._htDown&&(t.preventDefault(),this.focus(),this._mouseMove(t))},e.prototype._mouseMove=function(t){var e=t.touches?t.touches[0]:t,n=this._htDown;if(n){var i=n.getBoundingClientRect(),o=this._hsb;n==this._eHue?o[0]=(0,r.clamp)((e.clientY-i.top)/i.height,0,.99):n==this._eSB?(o[1]=(0,r.clamp)((e.clientX-i.left)/i.width,0,1),o[2]=(0,r.clamp)(1-(e.clientY-i.top)/i.height,0,1)):n==this._eAlpha&&(this._alpha=(0,r.clamp)((e.clientX-i.left)/i.width,0,1)),this._updateColor()}},e.prototype._mouseUp=function(t){this._htDown=null},e.prototype._updateColor=function(){var t=r.Color.fromHsb(this._hsb[0],this._hsb[1],this._hsb[2],this._alpha);this.value=t.toString(),this._updatePanels()},e.prototype._updatePalette=function(){var t=new r.Color("#fff"),e=new r.Color("#000");this._ePal.innerHTML="";for(var n=0;n<this._palette.length;n++){var i=(0,r.createElement)('<div style="float:left;width:10%;box-sizing:border-box;padding:1px">'),o=new r.Color(this._palette[n]),s=o.getHsb();i.appendChild(this._makePalEntry(o,4));for(var a=0;a<5;a++){if(0==s[1]){var l=.1*a+(s[2]>.5?.05:.55);o=r.Color.interpolate(t,e,l)}else o=r.Color.fromHsb(s[0],.1+.2*a,1-.1*a);i.appendChild(this._makePalEntry(o,0))}this._ePal.appendChild(i)}},e.prototype._makePalEntry=function(t,e){var n=document.createElement("div");return(0,r.setCss)(n,{cursor:"pointer",backgroundColor:t.toString(),marginBottom:e||""}),n.innerHTML="&nbsp",n},e.prototype._updatePanels=function(){var t=r.Color.fromHsb(this._hsb[0],1,1,1),e=r.Color.fromHsb(this._hsb[0],this._hsb[1],this._hsb[2],1);this._eSB.style.backgroundColor=t.toString(),this._eAlpha.style.background="linear-gradient(to right, transparent 0%, "+e.toString()+" 100%)",navigator.appVersion.indexOf("MSIE 9")>-1&&(this._eAlpha.style.filter="progid:DXImageTransform.Microsoft.gradient(startColorstr=#00000000,endColorstr="+e.toString()+", GradientType = 1)"),this._ePreview.style.backgroundColor=this.value,this._cHue.style.top=(100*this._hsb[0]).toFixed(0)+"%",this._cSB.style.left=(100*this._hsb[1]).toFixed(0)+"%",this._cSB.style.top=(100-100*this._hsb[2]).toFixed(0)+"%",this._cAlpha.style.left=(100*this._alpha).toFixed(0)+"%"},e.prototype._getTargetPanel=function(t){var e=t.target;return(0,r.contains)(this._eSB,e)?this._eSB:(0,r.contains)(this._eHue,e)?this._eHue:(0,r.contains)(this._eAlpha,e)?this._eAlpha:null},e.controlTemplate='<div style="position:relative;width:100%;height:100%"><div style="float:left;width:50%;height:100%;box-sizing:border-box;padding:2px"><div wj-part="div-pal"><div style="float:left;width:10%;box-sizing:border-box;padding:2px"><div style="background-color:black;width:100%">&nbsp;</div><div style="height:6px"></div></div></div><div wj-part="div-text" style="position:absolute;bottom:0px;display:none"></div></div><div style="float:left;width:50%;height:100%;box-sizing:border-box;padding:2px"><div wj-part="div-sb" class="wj-colorbox" style="float:left;width:89%;height:89%"><div style="position:absolute;width:100%;height:100%;background:linear-gradient(to right, white 0%,transparent 100%)"></div><div style="position:absolute;width:100%;height:100%;background:linear-gradient(to top, black 0%,transparent 100%)"></div></div><div style="float:left;width:1%;height:89%"></div><div style="float:left;width:10%;height:89%"><div wj-part="div-hue" class="wj-colorbox"></div></div><div style="float:left;width:89%;height:1%"></div><div style="float:left;width:89%;height:10%"><div style="width:100%;height:100%;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAIAAABLbSncAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAYdEVYdFNvZnR3YXJlAHBhaW50Lm5ldCA0LjAuM4zml1AAAAAcSURBVBhXY/iPBBYgAWpKQGkwgMqDAdUk/v8HAM7Mm6GatDUYAAAAAElFTkSuQmCC)"><div wj-part="div-alpha" class="wj-colorbox"></div></div></div><div style="float:left;width:1%;height:10%"></div><div style="float:left;width:10%;height:10%"><div wj-part="div-pv" class="wj-colorbox" style="position:static"></div></div></div></div>',e._tplCursor='<div style="position:absolute;left:50%;top:50%;width:7px;height:7px;transform:translate(-50%,-50%);border:2px solid #f0f0f0;border-radius:50px;box-shadow:0px 0px 4px 2px #0f0f0f"></div>',e}(r.Control),u=function(t){function e(e,n){var i=t.call(this,e)||this;i._view=null,i._byPage=!1,i._fmt="{current:n0} / {count:n0}";var o=i.getTemplate();return i.applyTemplate("wj-control wj-content wj-pager wj-collectionview-navigator",o,{_btnFirst:"btn-first",_btnPrev:"btn-prev",_txtCurr:"txt-curr",_btnNext:"btn-next",_btnLast:"btn-last"},"input"),i._rptNext=new r._ClickRepeater(i._btnNext.querySelector("button")),i._rptPrev=new r._ClickRepeater(i._btnPrev.querySelector("button")),i.addEventListener(i.hostElement,"click",i._click.bind(i)),i.initialize(n),i._update(),i}return s(e,t),Object.defineProperty(e.prototype,"cv",{get:function(){return this._view},set:function(t){if(t!=this._view){var e=this._view;e&&(e.collectionChanged.removeHandler(this._collectionChanged),e.currentChanged.removeHandler(this._currentChanged)),e=this._view=(0,r.asType)(t,"ICollectionView",!0),this._update(),e&&(e.collectionChanged.addHandler(this._collectionChanged,this),e.currentChanged.addHandler(this._currentChanged,this))}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"byPage",{get:function(){return this._byPage},set:function(t){t!=this._byPage&&(this._byPage=(0,r.asBoolean)(t),this._update())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"headerFormat",{get:function(){return this._fmt},set:function(t){t!=this._fmt&&(this._fmt=(0,r.asString)(t),this._update())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"repeatButtons",{get:function(){return!this._rptNext.disabled},set:function(t){this._rptNext.disabled=this._rptPrev.disabled=!(0,r.asBoolean)(t)},enumerable:!0,configurable:!0}),e.prototype._update=function(){var t=this._view,e=this._byPage,n=t?e?t.pageIndex:t.currentPosition:0,i=t?e?t.pageCount:t.itemCount:0;(0,r.enable)(this._btnFirst,t&&n>0),(0,r.enable)(this._btnPrev,t&&n>0),(0,r.enable)(this._txtCurr,null!=t),(0,r.enable)(this._btnNext,t&&n<i-1),(0,r.enable)(this._btnLast,t&&n<i-1),this._txtCurr.value=(0,r.format)(this._fmt,{current:t?n+1:0,count:t?i:0,currentItem:t?t.currentPosition+1:0,itemCount:t?t.itemCount:0,currentPage:t?t.pageIndex+1:0,pageCount:t?t.pageCount:0})},e.prototype._currentChanged=function(){this._update()},e.prototype._collectionChanged=function(){this._update()},e.prototype._click=function(t){var e=t.target,n=this._view,i=this._byPage;n&&((0,r.contains)(this._btnFirst,e)?i?n.moveToFirstPage():n.moveCurrentToFirst():(0,r.contains)(this._btnPrev,e)?i?n.moveToPreviousPage():n.moveCurrentToPrevious():(0,r.contains)(this._btnNext,e)?i?n.moveToNextPage():n.moveCurrentToNext():(0,r.contains)(this._btnLast,e)&&(i?n.moveToLastPage():n.moveCurrentToLast()),t.preventDefault())},e.controlTemplate='<div class="wj-input-group"><span wj-part="btn-first" class="wj-input-group-btn"><button class="wj-btn wj-btn-default" tabindex="-1"><span class="wj-glyph-step-backward"></span></button></span><span wj-part="btn-prev" class="wj-input-group-btn"> <button class="wj-btn wj-btn-default" tabindex="-1"><span class="wj-glyph-left"></span> </button></span><input wj-part="txt-curr" class="wj-form-control" readonly><span wj-part="btn-next" class="wj-input-group-btn"><button class="wj-btn wj-btn-default" tabindex="-1"><span class="wj-glyph-right"></span></button></span><span wj-part="btn-last" class="wj-input-group-btn"><button class="wj-btn wj-btn-default" tabindex="-1"><span class="wj-glyph-step-forward"></span></button></span></div>',e}(r.Control),c=function(t){function e(n,i){var o=t.call(this,n,null,!0)||this;o._cv=null,o._itemFormatter=null,o._pathDisplay=new r.Binding(""),o._pathValue=new r.Binding(""),o._pathChecked=new r.Binding(""),o._html=!1,o._shGroups=!1,o._checkedItems=[],o._itemRole="option",o._caseSensitive=!1,o._vThreshold=e._VTHRESH,o._isVirtual=!1,o._children=[],o._clientHeight=-1,o._itemHeight=30,o._itemsAbove=-1,o._itemsBelow=-1,o._eSizer=document.createElement("div"),o._ePadTop=document.createElement("div"),o._ePadBot=document.createElement("div"),o._checking=!1,o._search="",o._fmtItemHandlers=0,o._itemCount=0,o._oldSel=null,o.selectedIndexChanged=new r.Event,o.itemsChanged=new r.Event,o.loadingItems=new r.Event,o.loadedItems=new r.Event,o.itemChecked=new r.Event,o.checkedItemsChanged=new r.Event,o.formatItem=new r.Event((function(){o.invalidate()})),o.applyTemplate("wj-control wj-content wj-listbox",null,null);var s=o.hostElement;return(0,r.setAttribute)(s,"role","listbox",!0),"SELECT"==o._orgTag&&o._initFromSelect(o.hostElement),o.addEventListener(s,"click",o._click.bind(o)),o.addEventListener(s,"keydown",o._keydown.bind(o)),o.addEventListener(s,"keypress",o._keypress.bind(o)),o.addEventListener(s,"wheel",(function(t){s.scrollHeight>s.offsetHeight&&(t.deltaY<0&&0==s.scrollTop||t.deltaY>0&&s.scrollTop+s.offsetHeight>=s.scrollHeight)&&(t.preventDefault(),t.stopPropagation(),t.stopImmediatePropagation())})),[o._eSizer,o._ePadTop,o._ePadBot].forEach((function(t){t.tabIndex=-1,(0,r.setAttribute)(t,"aria-hidden",!0),(0,r.setCss)(t,{pointerEvents:"none",opacity:"0"})})),o.initialize(i),o._updateViewRange(),o.hostElement.addEventListener("scroll",(function(t){o._updateViewRange()})),o}return s(e,t),Object.defineProperty(e.prototype,"itemsSource",{get:function(){return this._items},set:function(t){this._items!=t&&(this._cv&&(this._cv.currentChanged.removeHandler(this._cvCurrentChanged,this),this._cv.collectionChanged.removeHandler(this._cvCollectionChanged,this),this._cv=null),this._items=t,this._cv=(0,r.asCollectionView)(t),null!=this._cv&&(this._cv.currentChanged.addHandler(this._cvCurrentChanged,this),this._cv.collectionChanged.addHandler(this._cvCollectionChanged,this)),this._populateList(),this.onItemsChanged(),this.onSelectedIndexChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"collectionView",{get:function(){return this._cv},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"virtualizationThreshold",{get:function(){return this._vThreshold},set:function(t){if(t!=this._vThreshold){var e=this._getVirtual();this._vThreshold=(0,r.asNumber)(t,!1,!0),e!=this._getVirtual()&&this._populateList()}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"showGroups",{get:function(){return this._shGroups},set:function(t){t!=this._shGroups&&(this._shGroups=(0,r.asBoolean)(t),this._populateList())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isContentHtml",{get:function(){return this._html},set:function(t){t!=this._html&&(this._html=(0,r.asBoolean)(t),this._populateList())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"itemFormatter",{get:function(){return this._itemFormatter},set:function(t){t!=this._itemFormatter&&(this._itemFormatter=(0,r.asFunction)(t),this._populateList())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"displayMemberPath",{get:function(){return this._pathDisplay.path},set:function(t){t!=this.displayMemberPath&&(this._pathDisplay.path=(0,r.asString)(t),this._populateList())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"selectedValuePath",{get:function(){return this._pathValue.path},set:function(t){this._pathValue.path=(0,r.asString)(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"checkedMemberPath",{get:function(){return this._pathChecked.path},set:function(t){t!=this.checkedMemberPath&&(this._pathChecked.path=(0,r.asString)(t),this._populateList())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"caseSensitiveSearch",{get:function(){return this._caseSensitive},set:function(t){this._caseSensitive=(0,r.asBoolean)(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"itemRole",{get:function(){return this._itemRole},set:function(t){t!=this.itemRole&&(this._itemRole=(0,r.asString)(t),this._populateList())},enumerable:!0,configurable:!0}),e.prototype.getDisplayValue=function(t){var e=null;t>-1&&(0,r.hasItems)(this._cv)&&(e=this._cv.items[t],this.displayMemberPath&&(e=this._pathDisplay.getValue(e)));var n=null!=e?e.toString():"";return this._itemFormatter&&(n=this._itemFormatter(t,n)),n},e.prototype.getDisplayText=function(t){var e=this._getChild(t);return null!=e?e.textContent:""},e.prototype.isItemEnabled=function(t){var e=this._getChild(t);return null!=e&&!e.hasAttribute("disabled")&&!(0,r.hasClass)(e,"wj-state-disabled")&&!(0,r.hasClass)(e,"wj-separator")},Object.defineProperty(e.prototype,"selectedIndex",{get:function(){return this._cv?this._cv.currentPosition:-1},set:function(t){this._cv&&this._cv.moveCurrentToPosition((0,r.asNumber)(t))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"selectedItem",{get:function(){return this._cv?this._cv.currentItem:null},set:function(t){this._cv&&this._cv.moveCurrentTo(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"selectedValue",{get:function(){var t=this.selectedItem;return t&&this.selectedValuePath&&(t=this._pathValue.getValue(t)),t},set:function(t){var e=this._cv,n=e?e.items:null,i=this.selectedValuePath,o=-1;if(n){for(var s=0;s<n.length;s++){var a=n[s],l=i?this._pathValue.getValue(a):a;if(l===t||r.DateTime.equals(l,t)){o=s;break}if(this.isContentHtml&&(0,r.isString)(l)&&l.indexOf("<")>-1&&(0,r.toPlainText)(l)===t){o=s;break}}this.selectedIndex=o}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maxHeight",{get:function(){var t=this.hostElement,e=t?parseFloat(t.style.maxHeight):null;return isNaN(e)?null:e},set:function(t){var e=this.hostElement;e&&(t=(0,r.asNumber)(t,!0),e.style.maxHeight=null==t?"":t+"px")},enumerable:!0,configurable:!0}),e.prototype.showSelection=function(t){void 0===t&&(t=this.containsFocus());var e=this.hostElement,n=this._children,i=this._getSelectedElement(!1),o=new r.Rect(0,0,0,0);i!=this._oldSel&&(this._updateItemAttributes(i,!0),this._updateItemAttributes(this._oldSel,!1),this._oldSel=i),i instanceof HTMLElement?o=this._getBoundingClientRect(i):this._children.length>0&&(o=this._getBoundingClientRect(this._getChild(0)));var s=this._getBoundingClientRect(e),a=0;if(this._shGroups&&(a=this._itemHeight,!this._isVirtual)){var l=n[0];l.offsetHeight&&(0,r.hasClass)(l,"wj-header")&&(a=l.offsetHeight)}o.bottom>s.bottom?e.scrollTop+=o.bottom-s.bottom:o.top<s.top+a&&(e.scrollTop-=s.top+a-o.top),this._updateViewRange(),i=this._getSelectedElement(!0),t&&(i&&!(0,r.contains)(i,(0,r.getActiveElement)())?i:e).focus(),e.tabIndex=i?-1:this._orgTabIndex},e.prototype.loadList=function(){this._populateList()},e.prototype.getItemChecked=function(t){var e=this._cv.items[t],n=this._pathChecked;if((0,r.isObject)(e)&&n.path)return n.getValue(e);var i=this._getCheckbox(t);return!!i&&i.checked},e.prototype.setItemChecked=function(t,e){this._setItemChecked(t,e,!0)},e.prototype.toggleItemChecked=function(t){this.setItemChecked(t,!this.getItemChecked(t))},Object.defineProperty(e.prototype,"checkedItems",{get:function(){return this._checkedItems},set:function(t){var e=this,n=(0,r.asArray)(t,!1);if(!this._arrayEquals(n,this._checkedItems)){var i=this._cv,o=this._pathChecked,s=new Map;if(o&&i){var a=i.sourceCollection;if(a&&a.length){(0,r.isObject)(a[0])||(o=null),n.forEach((function(t){return s.set(t,!0)})),this._checking=!0;var l=[];a.forEach((function(t){var e=s.has(t);e&&l.push(t),o&&o.setValue(t,e)})),this._checking=!1,n=l}i.items.forEach((function(t,n){e._setItemChecked(n,s.has(t),!1)}))}this._arrayEquals(n,this._checkedItems)||(this._checkedItems=n,this.onCheckedItemsChanged())}},enumerable:!0,configurable:!0}),e.prototype.indexOf=function(t){return(t=(0,r.closest)(t,".wj-listbox-item"))?t[e._DIDX_KEY]:-1},e.prototype.onSelectedIndexChanged=function(t){this.selectedIndexChanged.raise(this,t)},e.prototype.onItemsChanged=function(t){this.itemsChanged.raise(this,t)},e.prototype.onLoadingItems=function(t){this.loadingItems.raise(this,t)},e.prototype.onLoadedItems=function(t){this.loadedItems.raise(this,t)},e.prototype.onItemChecked=function(t){this.itemChecked.raise(this,t)},e.prototype.onCheckedItemsChanged=function(t){this.checkedItemsChanged.raise(this,t)},e.prototype.onFormatItem=function(t){this.formatItem.raise(this,t)},e.prototype.refresh=function(e){if(void 0===e&&(e=!0),t.prototype.refresh.call(this,e),this.hostElement){var n=this._cv?this._cv.items.length:0,i=this.formatItem.handlerCount;n!=this._itemCount||i!=this._fmtItemHandlers?(this._fmtItemHandlers=i,this._populateList()):this._updateViewRange()}},e.prototype._getBoundingClientRect=function(t){if(!t.offsetHeight){var e=this.indexOf(t),n=this.hostElement;if(e>-1&&n){e=this._getElementIndex(e);var i=n.getBoundingClientRect();return new r.Rect(0,i.top-n.scrollTop+e*this._itemHeight,i.width,this._itemHeight)}}return r.Rect.fromBoundingRect(t.getBoundingClientRect())},e.prototype._updateItemAttributes=function(t,e){if(t){var n=this.checkedMemberPath?this._getCheckbox(this.indexOf(t)):null,i=n?n.checked:null;(0,r.toggleClass)(t,"wj-state-selected",e),(0,r.setAttribute)(t,"aria-selected",this._getAriaSelected(e,i)),t.tabIndex=e?this._orgTabIndex:-1}},e.prototype._getCheckedItems=function(){var t=this,e=this._cv,n=this._pathChecked,i=[];return e&&n&&n.path&&(i=e.sourceCollection.filter((function(i,o){if(e.filter&&!e.filter(i))return!1;if((0,r.isObject)(i))return n.getValue(i);var s=e.items[o]==i?o:e.items.indexOf(i);return t.getItemChecked(s)}))),i},e.prototype._arrayEquals=function(t,e){if(t==e)return!0;if(!t||!e||t.length!=e.length)return!1;for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0},e.prototype._getChild=function(t){return t=this._getElementIndex(t),this._children[t]},e.prototype._getElementIndex=function(t){if(this._shGroups)for(var e=this._children,n=0;n<=t&&n<e.length;n++){var i=e[n];(0,r.hasClass)(i,"wj-header")&&t++}return t},e.prototype._setItemChecked=function(t,e,n){void 0===n&&(n=!0);var i=this._cv.items[t],o=this._pathChecked,s=!1,a=this.selectedIndex,l=this._checking;if((0,r.isObject)(i)&&o.path){if(!!o.getValue(i)!=e){var h=(0,r.tryCast)(this._cv,"IEditableCollectionView");s=!0,this._checking=!0,h?(h.editItem(i),o.setValue(i,e),h.commitEdit()):(o.setValue(i,e),h.refresh()),this._checking=l}}else if(n){var u=this._checkedItems.indexOf(i);(e&&u<0||!e&&u>=0)&&(s=!0)}var c=this._getCheckbox(t);if(c){c.checked=e;var p=(0,r.closest)(c,".wj-listbox-item");p&&((0,r.toggleClass)(p,"wj-state-checked",e),(0,r.setAttribute)(p,"aria-selected",!!e||null))}return n&&(s&&(this._checkedItems=this._checkedItemsUpdate(i,e),this.onItemChecked(),this.onCheckedItemsChanged()),a!=this.selectedIndex&&this.onSelectedIndexChanged()),s},e.prototype._checkedItemsUpdate=function(t,e){var n=this._cv.sourceCollection,i=this._checkedItems,r=0,o=0;if(!e){var s=i.indexOf(t);return i.slice(0,s).concat(i.slice(s+1))}for(;;r++){var a=n[r];if(a===i[o])o++;else if(a===t)return i.slice(0,o).concat([t]).concat(i.slice(o))}},e.prototype._cvCollectionChanged=function(){this._checking||(this._populateList(),this.onItemsChanged())},e.prototype._cvCurrentChanged=function(){this._checking||(this.showSelection(),this.onSelectedIndexChanged())},e.prototype._populateList=function(){var t=this.hostElement,n=this._cv;if(this._itemCount=n?n.items.length:0,this._isVirtual=this._getVirtual(),this._oldSel=null,this._itemsAbove=-1,this._itemsBelow=-1,t){var i=this.containsFocus(),o=void 0;this.onLoadingItems();var s=this._children=[];if(t.textContent="",n){var a=0,l=void 0,h=[];if(this._shGroups&&n.groups&&n.groups.length){o={};for(var u=0;u<n.groups.length;u++){var c=n.groups[u];o[a]=c,l=this._createHeaderItem(c),h.push(l);for(var d=0;d<c.items.length;d++,a++)l=this._createItem(a),h.push(l)}}else for(d=0;d<n.items.length;d++,a++)l=this._createItem(a),h.push(l);var f=this._isVirtual?document.createElement("div"):t,_=0;for(f.innerHTML=h.join(""),d=0;d<f.children.length;d++){var g=f.children[d];_==n.currentPosition&&(this._oldSel=g),g[e._DIDX_KEY]=g.className.indexOf("wj-header")<0?_++:-1,s.push(g)}}if(this.formatItem.hasHandlers&&n){a=0;var m=n.items;for(g=new p(0,null,null),d=0;d<s.length;d++)g._item=s[d],this._shGroups&&(0,r.hasClass)(g._item,"wj-header")?(g._index=-1,g._data=o[a]):(g._index=a,g._data=m[a++]),this.onFormatItem(g)}if(this._isVirtual){var b=this._getCanvasContext(),v=null,y=0;for(d=0;d<s.length;d++){l=s[d];var w=b.measureText(l.textContent);w.width>y&&(v=l,y=w.width)}if(v){var x=!1,C=t.style.display,E=t.style.position;t.parentElement||(x=!0,document.body.appendChild(t),(0,r.setCss)(t,{display:"",position:"absolute"})),t.appendChild(v);var D=v.style.whiteSpace;v.style.whiteSpace="nowrap",this._ePadTop.style.width=v.offsetWidth+"px",this._itemHeight=v.offsetHeight||this._itemHeight,v.style.whiteSpace=D,this._eSizer.style.height=s.length*this._itemHeight+"px",t.appendChild(this._eSizer),this._clientHeight=t.clientHeight,(0,r.removeChild)(this._eSizer),x&&((0,r.removeChild)(t),(0,r.setCss)(t,{display:C,position:E})),(0,r.removeChild)(v)}else this._ePadTop.style.width="";this._updateViewRange()}this.checkedItems=this._getCheckedItems();var I=this._getSelectedElement(!0);i?(I||t).focus():I&&this.showSelection(),t.tabIndex=I?-1:this._orgTabIndex,this.onLoadedItems()}},e.prototype._getCanvasContext=function(){var t=document.createElement("canvas").getContext("2d"),e=getComputedStyle(this.hostElement);return e.fontSize&&e.fontFamily&&(t.font=e.fontSize+" "+e.fontFamily.split(",")[0]),t},e.prototype._getVirtual=function(){if(this._itemCount<=this._vThreshold)return!1;var t=this.hostElement;if(t){var e=getComputedStyle(t);if(parseInt(e.columnCount)>1||e.display.indexOf("flex")>-1||e.display.indexOf("grid")>-1)return!1}return!0},e.prototype._getMaxSupportedCssHeight=function(){var t=265e5;return(0,r.isIE)()?t=15e5:(0,r.isFirefox)()&&(t=175e5),t},e.prototype._updateViewRange=function(){var t=this.hostElement,e=this._itemHeight,n=this._children;if(!(t&&t.parentElement&&this._isVirtual&&n))return!1;var i=t.scrollTop;(0,r.assert)(e*n.length<this._getMaxSupportedCssHeight(),"The number of items ("+n.length+") exceeds the maximum number of items ("+Math.floor(this._getMaxSupportedCssHeight()/e)+") allowed for this browser.");var o=Math.max(t.clientHeight,this._clientHeight),s=Math.floor(i/e),a=Math.min(n.length,Math.ceil((i+o)/e)-s),l=Math.max(0,n.length-s-a);if(s==this._itemsAbove&&l==this._itemsBelow)return!1;this._itemsAbove=s,this._itemsBelow=l;var h=document.createDocumentFragment(),u=this.containsFocus();if(this._ePadTop.style.height=s*e+"px",h.appendChild(this._ePadTop),this.showGroups&&!(0,r.hasClass)(n[s],"wj-header"))for(var c=s;c>=0;c--)if((0,r.hasClass)(n[c],"wj-header")){h.appendChild(n[c]);break}for(c=s;c<=s+a&&c<n.length;c++)h.appendChild(n[c]);this._ePadBot.style.height=l*e+"px",h.appendChild(this._ePadBot),t.textContent="",t.appendChild(h);var p=(s+a+l)*e-t.scrollHeight;this._ePadBot.style.height=this._ePadBot.offsetHeight-p+"px";var d=this._getSelectedElement(!0);return u&&(d||t).focus({preventScroll:!0}),t.tabIndex=d?-1:this._orgTabIndex,!0},e.prototype._getSelectedElement=function(t){var e=this.selectedIndex,n=this._getElementIndex(e),i=n>-1?this._children[n]:null;return t&&i&&!i.offsetHeight&&(i=null),i},e.prototype._handleResize=function(){this._updateViewRange()},e.prototype._createItem=function(t){var e=this._cv.items[t],n=t==this._cv.currentPosition,i=this.getDisplayValue(t);1!=this._html&&(i=(0,r.escapeHtml)(i));var o=null;this.checkedMemberPath&&(o=!1,(0,r.isObject)(e)?o=!!this._pathChecked.getValue(e):this._checkedItems&&(o=this._checkedItems.indexOf(e)>-1),i='<label><input type="checkbox" tabindex="-1"'+(o?" checked":"")+"><span></span> "+i+"</label>");var s="wj-listbox-item";if(n&&(s+=" wj-state-selected"),o&&(s+=" wj-state-checked"),this._html){var a=["wj-separator","wj-state-disabled"];if(i.indexOf(a[0])>-1||i.indexOf(a[1])>-1){var l=(0,r.createElement)(i);a.forEach((function(t){(0,r.hasClass)(l,t)&&(s+=" "+t)}))}}return'<div class="'+s+'" role="'+this.itemRole+'" '+(this._getAriaSelected(n,o)?'aria-selected="true" ':"")+'tabindex="'+(n&&!this.isDisabled?this._orgTabIndex:-1)+'">'+i+"</div>"},e.prototype._getAriaSelected=function(t,e){return!!(null!=e?e:t)||null},e.prototype._createHeaderItem=function(t){return'<div class="wj-listbox-item wj-header wj-state-disabled" role="presentation" tabindex="-1">'+(0,r.escapeHtml)(t.name)+"</div>"},e.prototype._click=function(t){if(0==t.button&&!t.defaultPrevented){var e=this.indexOf(t.target);if(e>-1)if(this.selectedIndex=e,this.checkedMemberPath){var n=this._getCheckbox(e),i=(0,r.closest)(n,".wj-listbox-item");t.target!=n&&t.target!=i||(i.focus({preventScroll:!0}),this.setItemChecked(e,n.checked))}else(i=(0,r.closest)(t.target,".wj-listbox-item")).focus({preventScroll:!0})}},e.prototype._keydown=function(t){var e=this.selectedIndex;if(!t.defaultPrevented){if(65==t.keyCode&&(t.ctrlKey||t.metaKey)){var n=this.collectionView;if(this.checkedMemberPath&&(0,r.hasItems)(n))return this.checkedItems=this.checkedItems.length!=n.items.length?n.items:[],void t.preventDefault()}if(!(t.ctrlKey||t.shiftKey||t.altKey||t.metaKey))switch(t.keyCode){case r.Key.Down:t.preventDefault(),this._selectNext();break;case r.Key.Up:t.preventDefault(),this._selectPrev();break;case r.Key.Home:t.preventDefault(),this._selectFirst();break;case r.Key.End:t.preventDefault(),this._selectLast();break;case r.Key.PageDown:t.preventDefault(),this._selectNextPage();break;case r.Key.PageUp:t.preventDefault(),this._selectPrevPage();break;case r.Key.Space:if(this.checkedMemberPath&&e>-1){var i=this._getCheckbox(e);i&&this.isItemEnabled(e)&&(this.setItemChecked(e,!i.checked),t.preventDefault())}}}},e.prototype._keypress=function(t){var e=this;if(!t.defaultPrevented&&!(t.target instanceof HTMLInputElement)&&(t.charCode>32||32==t.charCode&&this._search)){t.preventDefault(),this._search+=String.fromCharCode(t.charCode),this._toSearch&&clearTimeout(this._toSearch),this._toSearch=setTimeout((function(){e._toSearch=null,e._search=""}),r.Control._SEARCH_DELAY);var n=this._findNext();n<0&&this._search.length>1&&(this._search=this._search[this._search.length-1],n=this._findNext()),n>-1&&(this.selectedIndex=n)}},e.prototype._selectNext=function(){for(var t=this.selectedIndex+1;t<this._children.length;t++)if(this.isItemEnabled(t))return this.selectedIndex=t,!0;return!1},e.prototype._selectPrev=function(){for(var t=this.selectedIndex-1;t>=0;t--)if(this.isItemEnabled(t))return this.selectedIndex=t,!0;return!1},e.prototype._selectFirst=function(){for(var t=0;t<this._children.length;t++)if(this.isItemEnabled(t))return this.selectedIndex=t,!0;return!1},e.prototype._selectLast=function(){for(var t=this._children.length-1;t>=0;t--)if(this.isItemEnabled(t))return this.selectedIndex=t,!0;return!1},e.prototype._selectNextPage=function(){var t=this.hostElement.offsetHeight,e=this._children,n=this._cv?this._cv.items.length:0,i=0;if(t>0)for(var r=this.selectedIndex+1;r<n;r++){var o=e[r].scrollHeight||this._itemHeight;if(i+o>t&&this.isItemEnabled(r))return this.selectedIndex=r,!0;i+=o}return this._selectLast()},e.prototype._selectPrevPage=function(){var t=this.hostElement.offsetHeight,e=this._children,n=0;if(t>0)for(var i=this.selectedIndex-1;i>0;i--){var r=e[i].scrollHeight||this._itemHeight;if(n+r>t&&this.isItemEnabled(i))return this.selectedIndex=i,!0;n+=r}return this._selectFirst()},e.prototype._findNext=function(){if(this.hostElement){var t=this._children.length,e=this.selectedIndex;(e<0||1==this._search.length)&&e++;var n=this._search,i=this.caseSensitiveSearch;i||(n=n.toLowerCase());for(var r=0;r<t;r++){var o=(e+r)%t;if(this.isItemEnabled(o)){var s=this.getDisplayText(o).trim();if(i||(s=s.toLowerCase()),0==s.indexOf(n))return o}}}return-1},e.prototype._getCheckbox=function(t){var e=this._children;return t=this._getElementIndex(t),this.hostElement&&t>-1&&t<e.length?e[t].querySelector("input[type=checkbox]"):null},e.prototype._initFromSelect=function(t){for(var e=t.children,n=[],i=-1,r=0;r<e.length;r++){var o=e[r];"OPTION"==o.tagName&&(o.hasAttribute("selected")&&(i=n.length),o.innerHTML?n.push({hdr:o.innerHTML,val:o.getAttribute("value"),cmdParam:o.getAttribute("cmd-param")}):n.push({hdr:'<div class="wj-separator"></div>'}),t.removeChild(o),r--)}n&&(this.displayMemberPath="hdr",this.selectedValuePath="val",this.itemsSource=n,this.selectedIndex=i)},e.prototype._setIsDisabled=function(e){t.prototype._setIsDisabled.call(this,e),this._updateTabIndex()},e.prototype._setTabOrder=function(e){t.prototype._setTabOrder.call(this,e),this.isDisabled||this._updateTabIndex()},e.prototype._updateTabIndex=function(){var t=this.hostElement,e=this._getSelectedElement(!0);e?(e.tabIndex=this.isDisabled?-1:this._orgTabIndex,t.tabIndex=-1):t.tabIndex=this.isDisabled?-1:this._orgTabIndex},e._DIDX_KEY="$WJ-DIDX",e._VTHRESH=Number.MAX_VALUE/2,e}(r.Control),p=function(t){function e(e,n,i){var o=t.call(this)||this;return o._index=(0,r.asNumber)(e),o._data=n,o._item=(0,r.asType)(i,HTMLElement,!0),o}return s(e,t),Object.defineProperty(e.prototype,"index",{get:function(){return this._index},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"data",{get:function(){return this._data},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"item",{get:function(){return this._item},enumerable:!0,configurable:!0}),e}(r.EventArgs);(0,r._addCultureInfo)("MultiSelectListBox",{filterPlaceholder:"Filter",selectAll:"Select All"});var d,f,_,g=function(t){function e(n,i){var o=t.call(this,n)||this;o._selectAllLabel=null,o._filterPlaceholder=null,o._filterText="",o._checkOnFilter=!0,o._delay=r.Control._SEARCH_DELAY,o.checkedItemsChanged=new r.Event,o.selectedIndexChanged=new r.Event;var s=o.getTemplate();o.applyTemplate("wj-control wj-content wj-multiselectlistbox",s,{_selectAll:"select-all",_filter:"filter",_lbHost:"list-box"}),o._selectAll.style.display="none",o._filter.style.display="none",o._lbx=new c(o._lbHost,{checkedMemberPath:e._DEF_CHECKED_PATH,loadedItems:function(){return o._updateCheckAllCheckbox()},checkedItemsChanged:function(){return o.onCheckedItemsChanged()},selectedIndexChanged:function(){return o.onSelectedIndexChanged()}}),o._cbSelectAll=o._selectAll.querySelector("input[type=checkbox]"),o._spSelectAll=o._selectAll.querySelector("label>span");var a=r.culture.MultiSelectListBox;return(0,r.setText)(o._spSelectAll,a.selectAll),o._filter.placeholder=a.filterPlaceholder,o.initialize(i),o.addEventListener(o._filter,"input",(function(){o._filter.value!=o._filterText&&(o._filterText=o._filter.value,o._toSearch&&clearTimeout(o._toSearch),o._toSearch=setTimeout((function(){o._toSearch=null,o._applyFilter()}),o.delay))})),o.addEventListener(o._cbSelectAll,"click",(function(t){var e=o._lbx.collectionView;(0,r.hasItems)(e)&&(o.checkedItems=t.target.checked?e.items:[])})),o.addEventListener(o.hostElement,"keydown",(function(t){var e=o.showFilterInput?o._filter:null,n=o._lbx;if(e&&t.keyCode==r.Key.F3&&((0,r.setSelectionRange)(e,0,e.value.length),t.preventDefault()),(0,r.getActiveElement)()==e){var i=!t.altKey;switch(t.keyCode){case r.Key.Escape:case r.Key.F4:i=!1}i&&t.stopPropagation()}if(!n.containsFocus())switch(t.keyCode){case r.Key.Up:case r.Key.Down:o._lbx.focus();var s=n.selectedIndex+(t.keyCode==r.Key.Up?-1:1);n.selectedIndex=Math.max(0,s),t.preventDefault()}}),!0),o.hostElement.tabIndex=-1,o._lbx.tabOrder=o._orgTabIndex,o}return s(e,t),Object.defineProperty(e.prototype,"itemsSource",{get:function(){return this._lbx.itemsSource},set:function(t){this._lbx.itemsSource=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"collectionView",{get:function(){return this._lbx.collectionView},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"virtualizationThreshold",{get:function(){return this._lbx.virtualizationThreshold},set:function(t){this._lbx.virtualizationThreshold=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"displayMemberPath",{get:function(){return this._lbx.displayMemberPath},set:function(t){this._lbx.displayMemberPath=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isContentHtml",{get:function(){return this._lbx.isContentHtml},set:function(t){this._lbx.isContentHtml=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"caseSensitiveSearch",{get:function(){return this._lbx.caseSensitiveSearch},set:function(t){this._lbx.caseSensitiveSearch=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"delay",{get:function(){return this._delay},set:function(t){this._delay=(0,r.asNumber)(t,!1,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"showGroups",{get:function(){return this._lbx.showGroups},set:function(t){this._lbx.showGroups=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"checkOnFilter",{get:function(){return this._checkOnFilter},set:function(t){t!=this.checkOnFilter&&(this._checkOnFilter=(0,r.asBoolean)(t),this.checkedItems=[])},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"selectedIndex",{get:function(){return this._lbx.selectedIndex},set:function(t){this._lbx.selectedIndex=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"listBox",{get:function(){return this._lbx},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"showFilterInput",{get:function(){return""==this._filter.style.display},set:function(t){t!=this.showFilterInput&&(this._filter.style.display=(0,r.asBoolean)(t)?"":"none",this.showFilterInput||(this._filter.value="",this._applyFilter()))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"filterInputPlaceholder",{get:function(){return this._filterPlaceholder},set:function(t){t!=this._filterPlaceholder&&(this._filterPlaceholder=(0,r.asString)(t),this.refresh())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"showSelectAllCheckbox",{get:function(){return""==this._selectAll.style.display},set:function(t){this._selectAll.style.display=(0,r.asBoolean)(t)?"":"none"},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"selectAllLabel",{get:function(){return this._selectAllLabel},set:function(t){t!=this._selectAllLabel&&(this._selectAllLabel=(0,r.asString)(t),this.refresh())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"checkedMemberPath",{get:function(){var t=this.listBox.checkedMemberPath;return t!=e._DEF_CHECKED_PATH?t:null},set:function(t){t=(0,r.asString)(t),this.listBox.checkedMemberPath=t||e._DEF_CHECKED_PATH},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"checkedItems",{get:function(){return this.listBox.checkedItems},set:function(t){this.listBox.checkedItems=(0,r.asArray)(t)},enumerable:!0,configurable:!0}),e.prototype.onCheckedItemsChanged=function(t){this._updateCheckAllCheckbox(),this.checkedItemsChanged.raise(this,t)},e.prototype.onSelectedIndexChanged=function(t){this.selectedIndexChanged.raise(this,t)},e.prototype.refresh=function(e){if(void 0===e&&(e=!0),t.prototype.refresh.call(this,e),this.hostElement){var n=r.culture.MultiSelectListBox;this._filter.placeholder=null!=this._filterPlaceholder?this._filterPlaceholder:n.filterPlaceholder,this._spSelectAll&&(0,r.setText)(this._spSelectAll,null!=this._selectAllLabel?this._selectAllLabel:n.selectAll),this._updateCheckAllCheckbox()}},e.prototype.dispose=function(){this.listBox.dispose(),t.prototype.dispose.call(this)},e.prototype._applyFilter=function(){var t=this,e=this._lbx,n=e.collectionView,i=this._filter.value,o=i?new RegExp((0,r.escapeRegExp)(i),e.caseSensitiveSearch?"":"i"):null,s=this.displayMemberPath,a=s?new r.Binding(s):null,l=this.checkOnFilter?null:this.checkedItems;n.filter=function(e){return null==o||!!(l&&l.indexOf(e)>-1)||(a&&(e=a.getValue(e)),t.isContentHtml&&(e=(0,r.toPlainText)(e)),null!=e&&o.test(e.toString()))},e.selectedIndex=Math.max(0,e.selectedIndex),this._checkOnFilter&&(this.checkedItems=o?n.items:[])},e.prototype._updateCheckAllCheckbox=function(){var t=this._lbx.collectionView,e=this._cbSelectAll;if((0,r.hasItems)(t)){var n=t.items.length,i=this.checkedItems.length;(0,r.setChecked)(e,i==n||0!=i&&null),e.disabled=!1}else(0,r.setChecked)(e,!1),e.checked=!1,e.disabled=!0},e.prototype._setIsDisabled=function(e){t.prototype._setIsDisabled.call(this,e),this.hostElement.tabIndex=-1,this.isDisabled?this._lbx.tabOrder=-1:this._lbx.tabOrder=this._orgTabIndex},e.prototype._setTabOrder=function(t){this._orgTabIndex=t,this._lbx.tabOrder=t},e._DEF_CHECKED_PATH="$checked",e.controlTemplate='<div class="wj-template wj-listbox"><input wj-part="filter" class="wj-form-control" tabindex="-1"><div wj-part="select-all" class="wj-header wj-select-all wj-listbox-item"><label><input type="checkbox" tabindex="-1"> <span></span></label></div><div wj-part="list-box"/></div>',e}(r.Control);(0,r._addCultureInfo)("Calendar",{ariaLabels:{calendar:"Calendar",monthView:"Month View",yearView:"Year View",prvMo:"Previous Month",today:"Today",nxtMo:"Next Month",prvYr:"Previous Year",currMo:"Current Month",nxtYr:"Next Year"}}),(f=d||(d={}))[f.None=0]="None",f[f.Day=1]="Day",f[f.Month=2]="Month",f[f.Range=3]="Range",function(t){t[t.None=0]="None",t[t.FirstMonth=1]="FirstMonth",t[t.LastMonth=2]="LastMonth",t[t.FirstAndLastMonths=3]="FirstAndLastMonths",t[t.AllMonths=4]="AllMonths",t[t.Outside=5]="Outside"}(_||(_={}));var m,b=function(t){function e(e,n){var i=t.call(this,e)||this;i._yrPicker=!0,i._mtPicker=_.FirstMonth,i._wksBefore=0,i._wksAfter=0,i._rngMin=0,i._rngMax=0,i._min=null,i._max=null,i._readOnly=!1,i._handleWheel=!0,i._fdw=null,i._selMode=d.Day,i._tmYrHidden=0,i._fmtYrMo="y",i._fmtYr="yyyy",i._fmtDayHdr="ddd",i._fmtDay="d ",i._fmtMonths="MMM",i.valueChanged=new r.Event,i.rangeEndChanged=new r.Event,i.rangeChanged=new r.Event,i.displayMonthChanged=new r.Event,i.formatItem=new r.Event((function(){i.invalidate()})),i._value=i._rngEnd=r.DateTime.newDate(),i._month=i._getMonth(i._value),i._cals=[i],i._createChildren(),i._createYearPicker();var o=i.hostElement,s=i.addEventListener.bind(i);return s(o,"keydown",i._keydown.bind(i)),s(o,"click",i._click.bind(i)),i._rptUp=new r._ClickRepeater(i._btnPrv),i._rptDn=new r._ClickRepeater(i._btnNxt),i.addEventListener(o,"wheel",(function(t){i.handleWheel&&!t.defaultPrevented&&!i.isReadOnly&&i.containsFocus()&&(t.deltaY<0?i._btnPrv.click():i._btnNxt.click(),t.preventDefault())})),i.initialize(n),i.refresh(!0),i}return s(e,t),Object.defineProperty(e.prototype,"value",{get:function(){return this._value},set:function(t){if(t!==this._value&&(this._clearingRangeEnd=!r.DateTime.equals(this._value,t),this.rangeEnd=null,this._clearingRangeEnd=!1,t=(0,r.asDate)(t,!0),t=this._clamp(t),(this._valid(t)||null==t)&&(this.ensureVisible(t||new Date),r.DateTime.equals(this._value,t)||(this._value=t,this.invalidate(!1),this.onValueChanged())),!this.value)){var e=this.min,n=this.max,i=this.displayMonth;n&&n<i?this.ensureVisible(n):e&&e>i&&this.ensureVisible(e)}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rangeEnd",{get:function(){return this._rngEnd},set:function(t){if(t=(0,r.asDate)(t,!0),(t=this._clamp(t))&&this._value&&this._rngMode()){t<this._value&&(t=this._value);var e=this._rngMin,n=this._rngMax;if(e&&e>0||n&&n>0){var i=this._value,o=Math.ceil((t.getTime()-i.getTime())/864e5)+1;e&&e>0&&o<e&&(t=r.DateTime.addDays(i,e-1)),n&&n>0&&o>n&&(t=r.DateTime.addDays(i,n-1))}}!this._valid(t)&&null!=t||r.DateTime.equals(this._rngEnd,t)||(this._rngEnd=t,this.ensureVisible(t),this.invalidate(!1),this.onRangeEndChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rangeMin",{get:function(){return this._rngMin},set:function(t){(t=(0,r.asNumber)(t,!0,!0))!=this._rngMin&&(this._rngMin=t,this._syncProp(this,"rangeMin"),this._rngMode()&&this._rngEnd&&(this.rangeEnd=this._rngEnd))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rangeMax",{get:function(){return this._rngMax},set:function(t){(t=(0,r.asNumber)(t,!0,!0))!=this._rngMax&&(this._rngMax=t,this._syncProp(this,"rangeMax"),this._rngMode()&&this._rngEnd&&(this.rangeEnd=this._rngEnd))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"min",{get:function(){return this._min},set:function(t){(t=(0,r.asDate)(t,!0))!=this.min&&(this._min=t,this._syncProp(this,"min"),this.refresh(),!this.value&&t&&t>this.displayMonth&&this.ensureVisible(t))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"max",{get:function(){return this._max},set:function(t){(t=(0,r.asDate)(t,!0))!=this.max&&(this._max=t,this._syncProp(this,"max"),this.refresh(),!this.value&&t&&t<this.displayMonth&&this.ensureVisible(t))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"selectionMode",{get:function(){return this._selMode},set:function(t){var e=d;(t=(0,r.asEnum)(t,e))!=this._selMode&&(this._selMode=t,this._mthMode()&&(this.monthView=!1),this._rngEnd=t==e.Range?this._value:null,this.refresh(),this._syncProp(this,"selectionMode"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isReadOnly",{get:function(){return this._readOnly},set:function(t){this._readOnly=(0,r.asBoolean)(t),(0,r.toggleClass)(this.hostElement,"wj-state-readonly",this.isReadOnly),this._syncProp(this,"isReadOnly")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"handleWheel",{get:function(){return this._handleWheel},set:function(t){this._handleWheel=(0,r.asBoolean)(t),this._syncProp(this,"handleWheel")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"repeatButtons",{get:function(){return!this._rptUp.disabled},set:function(t){this._rptUp.disabled=this._rptDn.disabled=!(0,r.asBoolean)(t),this._syncProp(this,"repeatButtons")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"showYearPicker",{get:function(){return this._yrPicker},set:function(t){t!=this._yrPicker&&(this._yrPicker=(0,r.asBoolean)(t),this._syncProp(this,"showYearPicker"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"showMonthPicker",{get:function(){return this._mtPicker},set:function(t){if(t!=this._mtPicker){var e=_;(0,r.isBoolean)(t)&&(t=t?e.FirstMonth:e.None),this._mtPicker=(0,r.asEnum)(t,e),(0,r.toggleClass)(this.hostElement,"wj-btns-outside",this._getShowMonthPicker()==e.Outside),this.refresh(),this._syncProp(this,"showMonthPicker")}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"firstDayOfWeek",{get:function(){return this._fdw},set:function(t){if(t!=this._fdw){if((t=(0,r.asNumber)(t,!0))&&(t>6||t<0))throw"firstDayOfWeek must be between 0 and 6 (Sunday to Saturday).";this._fdw=t,this.refresh(),this._syncProp(this,"firstDayOfWeek")}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"displayMonth",{get:function(){return this._month},set:function(t){t=(0,r.asDate)(t),t=this._getMonth(t);var e=this._getDisplayMonthRange();e.to&&t>e.to&&(t=e.to),e.from&&t<e.from&&(t=e.from),r.DateTime.equals(this.displayMonth,t)||(this._month=t,this.invalidate(!0),this.onDisplayMonthChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"monthCount",{get:function(){var t=this.hostElement;return t?t.querySelectorAll(".wj-calendar").length+1:0},set:function(t){var n=this,i=this.hostElement;if(t!=this.monthCount&&i){var o=i.querySelectorAll(".wj-calendar");t=(0,r.asInt)(t,!1),(0,r.assert)(t>0,"monthCount must be >= 1."),(0,r.assert)(1==t||!(0,r.closest)(i.parentElement,".wj-calendar"),"Only top-level calendars can set monthCount.");for(var s=0;s<o.length;s++){var a=o[s];(0,r.removeChild)(a),this._getCalendar(a).dispose()}for(this._cals=[this],s=1;s<t;s++){for(var l in(a=new e(document.createElement("div"),{itemFormatter:this.itemFormatter,itemValidator:this.itemValidator,formatItem:function(t,e){return n.onFormatItem(e)}}))._selMode=this._selMode,a._value=this._value,a._rngEnd=this._rngEnd,this)if(!/^(_.*|constructor|displayMonth|monthCount|hostElement|rightToLeft|isUpdating|isTouching)$/.test(l)){var h=this[l];(0,r.isFunction)(h)||h instanceof r.Event||(a[l]=h)}this._cals.push(a),i.appendChild(a.hostElement)}(0,r.toggleClass)(i,"wj-calendar-multimonth",t>1),this._syncProp(this,"displayMonth")}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"formatYearMonth",{get:function(){return this._fmtYrMo},set:function(t){t!=this._fmtYrMo&&(this._fmtYrMo=(0,r.asString)(t),this._syncProp(this,"formatYearMonth"),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"formatDayHeaders",{get:function(){return this._fmtDayHdr},set:function(t){t!=this._fmtDayHdr&&(this._fmtDayHdr=(0,r.asString)(t),this._syncProp(this,"formatDayHeaders"),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"formatDays",{get:function(){return this._fmtDay},set:function(t){t!=this._fmtDay&&(this._fmtDay=(0,r.asString)(t),this._syncProp(this,"formatDays"),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"formatYear",{get:function(){return this._fmtYr},set:function(t){t!=this._fmtYr&&(this._fmtYr=(0,r.asString)(t),this._syncProp(this,"formatYear"),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"formatMonths",{get:function(){return this._fmtMonths},set:function(t){t!=this._fmtMonths&&(this._fmtMonths=(0,r.asString)(t),this._syncProp(this,"formatMonths"),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"showHeader",{get:function(){return"none"!=this._tbHdr.style.display},set:function(t){t!=this.showHeader&&(this._tbHdr.style.display=(0,r.asBoolean)(t)?"":"none",this._syncProp(this,"showHeader"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"monthView",{get:function(){return"none"!=this._tbMth.style.display},set:function(t){if(t!=this.monthView){this._tbMth.style.display=t?"":"none",this._tbYr.style.display=t?"none":"",this.refresh();var e=r.culture.Calendar.ariaLabels;(0,r.setAriaLabel)(this._btnPrv,t?e.prvMo:e.prvYr),(0,r.setAriaLabel)(this._btnTdy,t?e.today:e.currMo),(0,r.setAriaLabel)(this._btnNxt,t?e.nxtMo:e.nxtYr),(0,r.setAriaLabel)(this._btnMth,t?e.monthView:e.yearView),this._syncProp(this,"monthView")}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"weeksBefore",{get:function(){return this._wksBefore},set:function(t){t!=this._wksBefore&&(this._wksBefore=Math.floor((0,r.asNumber)(t,!1,!0)),this._syncProp(this,"weeksBefore"),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"weeksAfter",{get:function(){return this._wksAfter},set:function(t){t!=this._wksAfter&&(this._wksAfter=Math.floor((0,r.asNumber)(t,!1,!0)),this._syncProp(this,"weeksAfter"),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"itemFormatter",{get:function(){return this._itemFormatter},set:function(t){t!=this._itemFormatter&&(this._itemFormatter=(0,r.asFunction)(t),this._syncProp(this,"itemFormatter"),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"itemValidator",{get:function(){return this._itemValidator},set:function(t){t!=this._itemValidator&&(this._itemValidator=(0,r.asFunction)(t),this._syncProp(this,"itemValidator"),this.invalidate())},enumerable:!0,configurable:!0}),e.prototype.hitTest=function(t){var n=t instanceof MouseEvent?t.target:t instanceof Element?t:null;return(0,r.assert)(null!=n,"MouseEvent or Element expected"),n?n[e._DATE_KEY]:null},e.prototype.ensureVisible=function(t){if(null!=t){var e=this._getCalendars(),n=e.indexOf(this),i=e[0],o=e[e.length-1];t<i.displayMonth?this.displayMonth=r.DateTime.addMonths(this._getMonth(t),n):t>o.displayMonth&&(this.displayMonth=r.DateTime.addMonths(this._getMonth(t),n-e.length+1))}},e.prototype.onValueChanged=function(t){this.valueChanged.raise(this,t),this._syncProp(this,"value")},e.prototype.onRangeEndChanged=function(t){this.rangeEndChanged.raise(this,t),this._syncProp(this,"rangeEnd"),this._value&&this._rngEnd&&this.onRangeChanged(t)},e.prototype.onRangeChanged=function(t){this.rangeChanged.raise(this,t)},e.prototype.onDisplayMonthChanged=function(t){this.displayMonthChanged.raise(this,t),this._syncProp(this,"displayMonth")},e.prototype.onFormatItem=function(t){this.formatItem.raise(this,t)},e.prototype._containsFocusImpl=function(e){return t.prototype._containsFocusImpl.call(this,e)||this._lbYears._containsFocusImpl(e)},e.prototype.dispose=function(){this._rptUp.element=null,this._rptDn.element=null,this._lbYears.dispose(),t.prototype.dispose.call(this)},e.prototype.refresh=function(e){void 0===e&&(e=!0);var n=this.hostElement,i=this.containsFocus();if(n){t.prototype.refresh.call(this,e),e&&this._updateContent(),this._updateSelection();var o=this._getDisplayMonthRange(),s=this.displayMonth;if((0,r.enable)(this._btnPrv,null==o.from||s>o.from),(0,r.enable)(this._btnNxt,null==o.to||s<o.to),i){var a=(this.monthView?this._tbMth:this._tbYr).querySelector("td.wj-state-selected")||n;a&&a.focus()}var l=this._getCalendars();l.length>1&&this==l[0]&&l.forEach((function(t,n){n>0&&t.refresh(e)}))}},e.prototype._getShowMonthPicker=function(){var t=_,e=this._getCalendars(),n=e.indexOf(this),i=this.showMonthPicker;switch(i){case t.FirstMonth:case t.Outside:return 0==n?i:0;case t.LastMonth:return n==e.length-1?i:0;case t.FirstAndLastMonths:return 0==n||n==e.length-1?i:0;case t.AllMonths:return i}return 0},e.prototype._getDisplayMonthRange=function(){var t={from:null,to:null};if(this.min||this.max){var e=this._getCalendars(),n=e.indexOf(this),i=this._mthMode()?r.DateTime.addYears:r.DateTime.addMonths;this.min&&(t.from=i(this._getMonth(this.min),n)),this.max&&(t.to=i(this._getMonth(this.max),n-e.length+1))}return t},e.prototype._getCalendar=function(t){return r.Control.getControl(t)},e.prototype._getCalendars=function(){var t=(0,r.closest)(this.hostElement,".wj-calendar-multimonth");return(t?this._getCalendar(t):this)._cals},e.prototype._syncProp=function(t,e){var n=this;if(!this._syncing){var i=this._getCalendars();if(i&&i.length>1){var o=t[e],s=this._mthMode()?r.DateTime.addYears:r.DateTime.addMonths;"displayMonth"==e&&(o=s(o,-i.indexOf(t))),i[0].deferUpdate((function(){n._syncing=!0,i.forEach((function(i,r){if(i!=t){var a=i.displayMonth;i[e]="displayMonth"==e?s(o,r):o,"value"==e&&(i.displayMonth=a,n._rngMode()&&(i.rangeEnd=null))}})),n._syncing=!1}))}}},e.prototype._updateContent=function(){var t=this.displayMonth,n=r.Globalize.format,i=r.DateTime,o=this._getShowMonthPicker();(0,r.setText)(this._spMth,n(t,this._fmtYrMo));var s=this._btnMth.querySelector(".wj-glyph-down");s&&(s.style.display=this._mthMode()||!o?"none":"");var a=(0,r.closest)(this._btnTdy,".wj-btn-group");a&&(a.style.display=o?"":"none");for(var l=null!=this._fdw?this._fdw:r.Globalize.getFirstDayOfWeek(),h=i.addDays(t,-(t.getDay()-l+7)%7),u=i.monthLast(t),c=this._tbMth.querySelectorAll("td"),p=0;p<7&&p<c.length;p++){var d=i.addDays(h,p);(0,r.setText)(c[p],n(d,this._fmtDayHdr))}var f=this._tbMth.querySelectorAll("tr");for(p=1;p<f.length;p++)(0,r.removeChild)(f[p]);var _=i.addDays(h,-7*this._wksBefore);for(p=0;p<this._wksBefore;p++)_=this._addWeek(_,"wj-week-before");for(;_<=u;)_=this._addWeek(_);for(p=0;p<this._wksAfter;p++)_=this._addWeek(_,"wj-week-after");for((c=this._tbYr.querySelectorAll("td")).length&&(0,r.setText)(c[0],n(t,this._fmtYr)),p=1;p<c.length;p++){_=i.newDate(t.getFullYear(),p-1,1);var g=c[p],m=!this._monthInValidRange(_);g[e._DATE_KEY]=_,(0,r.setText)(g,n(_,this._fmtMonths)),(0,r.toggleClass)(g,"wj-state-disabled",m),(0,r.setAriaLabel)(g,r.Globalize.format(_,"MMMM yyyy"))}},e.prototype._updateSelection=function(){for(var t=e._DATE_KEY,n=r.DateTime,i=this._tbMth.querySelectorAll("td"),o=7;o<i.length;o++){var s=(p=i[o])[t],a=this.value,l=this.rangeEnd,h=this._selMode&&null!=a&&n.sameDate(s,a),u=this._selMode&&null!=a&&n.sameDate(s,l),c=this._selMode&&null!=a&&s>a&&null!=l&&s<=l;(0,r.toggleClass)(p,"wj-state-selected",h),(0,r.toggleClass)(p,"wj-state-multi-selected",c),(0,r.toggleClass)(p,"wj-state-last-selected",u),(0,r.setAttribute)(p,"aria-selected",!!h||null),this._customizeCell(o,s,p)}for(i=this._tbYr.querySelectorAll("td"),o=0;o<i.length;o++){var p;s=(p=i[o])[t],h=this._sameMonth(s,this.value),(0,r.toggleClass)(p,"wj-state-selected",h),(0,r.setAttribute)(p,"aria-selected",!!h||null)}},e.prototype._addWeek=function(t,n){for(var i=this._createElement("tr",this._tbMth,n),o=r.DateTime,s=0;s<7;s++){var a=this._createElement("td",i),l=o.addDays(t,s);a[e._DATE_KEY]=l,(0,r.setText)(a,r.Globalize.format(l,this._fmtDay)),(0,r.setAriaLabel)(a,r.Globalize.format(l,"D"));var h=!this._valid(l),u=l.getDay(),c=l.getMonth()!=this.displayMonth.getMonth();(0,r.toggleClass)(a,"wj-day-today",o.sameDate(l,o.newDate())),(0,r.toggleClass)(a,"wj-day-weekend",0==u||6==u),(0,r.toggleClass)(a,"wj-day-othermonth",c||!this._inValidRange(l)||h),(0,r.toggleClass)(a,"wj-state-invalid",h)}return o.addDays(t,7)},e.prototype._customizeCell=function(t,e,n){if((0,r.isFunction)(this.itemFormatter)&&this.itemFormatter(e,n),this.formatItem.hasHandlers){var i=new p(t,e,n);this.onFormatItem(i)}},e.prototype._canChangeValue=function(){return!this._readOnly&&this._selMode!=d.None},e.prototype._valid=function(t){return!(!(0,r.isDate)(t)||!r.DateTime.sameDate(t,this._clamp(t)))&&(!(0,r.isFunction)(this.itemValidator)||this.itemValidator(t))},e.prototype._inValidRange=function(t){var e=r.DateTime.fromDateTime;return!(this.min&&t<e(this.min,t)||this.max&&t>e(this.max,t))},e.prototype._monthInValidRange=function(t){if(this.min||this.max){var e=t.getFullYear(),n=t.getMonth(),i=r.DateTime,o=i.newDate(e,n,1),s=i.newDate(e,n+1,0);if(this.min&&this.min>s)return!1;if(this.max&&this.max<o)return!1}return!0},e.prototype._sameMonth=function(t,e){return(0,r.isDate)(t)&&(0,r.isDate)(e)&&t.getMonth()==e.getMonth()&&t.getFullYear()==e.getFullYear()},e.prototype._getValidDate=function(t,e){if((0,r.isDate)(t))for(var n=t.getFullYear(),i=t.getMonth()+(e?0:1),o=e?1:0,s=r.DateTime,a=s.newDate(n,i,o),l=e?1:-1,h=0;h<31;h++){if(this._valid(a))return a;a=s.addDays(a,l)}return null},e.prototype._clamp=function(t){if(t){var e=r.DateTime.fromDateTime;if(this.min){var n=e(this.min,t);t<n&&(t=n)}if(this.max){var i=e(this.max,t);t>i&&(t=i)}}return t},e.prototype._createChildren=function(){var t=this.getTemplate();this.applyTemplate("wj-control wj-calendar",t,{_tbHdr:"tbl-header",_btnMth:"btn-month",_spMth:"span-month",_btnPrv:"btn-prev",_btnTdy:"btn-today",_btnNxt:"btn-next",_tbMth:"tbl-month",_tbYr:"tbl-year"}),this._tbYr.style.display="none";var e=r.culture.Calendar.ariaLabels;(0,r.setAriaLabel)(this._tbMth,e.calendar),(0,r.setAriaLabel)(this._tbYr,e.calendar),(0,r.setAriaLabel)(this._btnPrv,e.calendar),(0,r.setAriaLabel)(this._btnMth,e.monthView),(0,r.setAriaLabel)(this._btnPrv,e.prvMo),(0,r.setAriaLabel)(this._btnTdy,e.today),(0,r.setAriaLabel)(this._btnNxt,e.nxtMo);for(var n=this._createElement("tr",this._tbMth,"wj-header"),i=0;i<7;i++)this._createElement("td",n);n=this._createElement("tr",this._tbYr,"wj-header"),this._createElement("td",n).setAttribute("colspan","4");for(var o=0;o<3;o++){n=this._createElement("tr",this._tbYr);for(var s=0;s<4;s++)this._createElement("td",n)}},e.prototype._createYearPicker=function(){var t=this,e=this.hostElement,n=this._createElement("div",null,"wj-dropdown-panel wj-yearpicker");n.tabIndex=this._orgTabIndex,this._lbYears=new c(n,{lostFocus:function(e){if((0,r.hidePopup)(n),t._tmYrHidden=Date.now(),t.removeEventListener(window,"touchstart"),e.selectedIndex>-1){var i=r.DateTime.clone(t.displayMonth);i.setFullYear(e.selectedIndex+e.itemsSource[0]),t.displayMonth=i}}}),this.addEventListener(n,"keydown",(function(n){switch(n.keyCode){case r.Key.Enter:e.focus();break;case r.Key.Escape:t._lbYears.selectedIndex=-1,e.focus()}n.defaultPrevented&&n.stopPropagation()})),this.addEventListener(n,"click",(function(t){e.focus()}))},e.prototype._createElement=function(t,e,n){var i=document.createElement(t);return n&&(0,r.addClass)(i,n),e&&e.appendChild(i),i},e.prototype._click=function(t){var e=this;if(!t.defaultPrevented&&0==t.button){var n=!1,i=t.target;if((0,r.contains)(this._btnMth,i)&&!this._mthMode()&&this._getShowMonthPicker()?(this.monthView=!this.monthView,n=!0):(0,r.contains)(this._btnPrv,i)?(this._navigate(-1),n=!0):(0,r.contains)(this._btnNxt,i)?(this._navigate(1),n=!0):(0,r.contains)(this._btnTdy,i)&&(this._navigate(0),n=!0),i&&!n&&this._yrPicker&&(0,r.contains)(this._tbYr,i)&&(0,r.closest)(i,".wj-header")){if(Date.now()-this._tmYrHidden<600)return void t.preventDefault();for(var o=this.displayMonth.getFullYear(),s=this.min?this.min.getFullYear():o-100,a=this.max?this.max.getFullYear():o+100,l=[],h=s;h<=a;h++)l.push(h);var u=this._lbYears,c=u.hostElement,p=(0,r.closest)(i,".wj-header"),d=this.hostElement,f=(0,r.closest)(d,".wj-inputdate-dropdown")||d;return u.itemsSource=l,u.selectedIndex=o-l[0],(0,r.setAttribute)(c,"dir",this.rightToLeft?"rtl":null),(0,r.setCss)(c,{minWidth:"",width:p.offsetWidth}),(0,r.showPopup)(c,p,!1,!1,f),requestAnimationFrame((function(){u.showSelection(!0)})),this.addEventListener(window,"touchstart",(function(t){(0,r.contains)(c,t.target)||((0,r.hidePopup)(c),e._tmYrHidden=Date.now(),e.removeEventListener(window,"touchstart"))})),void t.preventDefault()}if(i&&!n){var _=(0,r.closest)(i,"td");if(_){var g=this.hitTest(_),m=r.DateTime.fromDateTime;if(this.monthView){if(g&&this._canChangeValue()){var b=m(g,this._value);this._inValidRange(b)&&this._valid(b)&&(this._rngMode()&&this.value&&!this.rangeEnd&&b>=this.value?this.rangeEnd=b:this.value=b),n=!0}}else g&&(this.displayMonth=g,this._mthMode()?this._canChangeValue()&&(b=m(this.displayMonth,this.value),this._inValidRange(b)&&(this.value=b)):this.monthView=!0,n=!0)}}n&&(t.preventDefault(),this.focus())}},e.prototype._keydown=function(t){if(!t.defaultPrevented){if(t.altKey)switch(t.keyCode){case r.Key.Up:case r.Key.Down:return;case r.Key.End:return this._navigate(0),void t.preventDefault()}if(!(t.ctrlKey||t.metaKey||t.shiftKey&&!this._rngMode())){var e=this._getKeyCode(t),n=0,i=0,o=!0;if(this.monthView)switch(e){case r.Key.Left:n=-1;break;case r.Key.Right:n=1;break;case r.Key.Up:n=-7;break;case r.Key.Down:n=7;break;case r.Key.PageDown:i=t.altKey?12:1;break;case r.Key.PageUp:i=t.altKey?-12:-1;break;case r.Key.Home:case r.Key.End:if(this._canChangeValue()&&!t.shiftKey){var s=this.value||this.displayMonth;(l=this._getValidDate(s,e==r.Key.Home))&&(this.value=r.DateTime.fromDateTime(l,this.value),this._rngEnd=null)}break;default:o=!1}else switch(e){case r.Key.Left:i=-1;break;case r.Key.Right:i=1;break;case r.Key.Up:i=-4;break;case r.Key.Down:i=4;break;case r.Key.PageDown:i=t.altKey?120:12;break;case r.Key.PageUp:i=t.altKey?-120:-12;break;case r.Key.Home:i=this.value?-this.value.getMonth():0;break;case r.Key.End:i=this.value?11-this.value.getMonth():0;break;case r.Key.Enter:this._mthMode()?o=!1:this.monthView=!0;break;default:o=!1}if(this._canChangeValue()&&(n||i)){var a=t.shiftKey&&null!=this.rangeEnd?this.rangeEnd:this.value,l=r.DateTime;if(a?(a=l.addDays(a,n),a=l.addMonths(a,i)):a=this._getValidDate(new Date,!0),i&&!this._valid(a)){s=a.getMonth();for(var h=1;h<31&&!this._valid(a);h++){var u=l.addDays(a,+h),c=l.addDays(a,-h);this._valid(u)&&u.getMonth()==s?a=u:this._valid(c)&&c.getMonth()==s&&(a=c)}}for(h=0;h<31&&!this._valid(a);h++)a=l.addDays(a,n>0||i>0?1:-1);t.shiftKey&&a>this.value?this.rangeEnd=a:this.value=a}o&&t.preventDefault()}}},e.prototype._getMonth=function(t){var e=r.DateTime;return t=t||e.newDate(),e.newDate(t.getFullYear(),t.getMonth(),1)},e.prototype._mthMode=function(){return this.selectionMode==d.Month},e.prototype._rngMode=function(){return this.selectionMode==d.Range},e.prototype._navigate=function(t){var e=this.monthView,n=this.displayMonth,i=r.DateTime;switch(t){case 0:var o=i.newDate();this._canChangeValue()&&(this.value=e?i.fromDateTime(o,this.value):this._getMonth(o)),n=this._getMonth(o);break;case 1:n=i.addMonths(n,e?1:12);break;case-1:n=i.addMonths(n,e?-1:-12)}this.displayMonth=n},e.prototype._setTabOrder=function(e){t.prototype._setTabOrder.call(this,e),this._lbYears.tabOrder=this._orgTabIndex},e._DATE_KEY="$WJ-DATE",e.controlTemplate='<div class="wj-content wj-calendar-outer"><div wj-part="tbl-header" class="wj-calendar-header"><div wj-part="btn-month" class="wj-month-select" role="button"><span wj-part="span-month"></span> <span class="wj-glyph-down"></span></div><div class="wj-btn-group"><button wj-part="btn-prev" class="wj-btn wj-btn-default" tabindex="-1"><span class="wj-glyph-left"></span></button><button wj-part="btn-today" class="wj-btn wj-btn-default" tabindex="-1"><span class="wj-glyph-circle"></span></button><button wj-part="btn-next" class="wj-btn wj-btn-default" tabindex="-1"><span class="wj-glyph-right"></span></button></div></div><table wj-part="tbl-month" class="wj-calendar-month" role="grid"></table><table wj-part="tbl-year" class="wj-calendar-year" role="grid"></table></div>',e}(r.Control);(0,r._addCultureInfo)("DropDown",{ariaLabels:{tgl:"Toggle Dropdown"}}),function(t){t[t.Select=0]="Select",t[t.Open=1]="Open",t[t.Toggle=2]="Toggle"}(m||(m={}));var v,y,w=function(t){function e(e,n){var i=t.call(this,e)||this;i._clickAction=m.Select,i._showBtn=!0,i._autoExpand=!0,i._animate=!1,i._oldText="",i.textChanged=new r.Event,i.isDroppedDownChanging=new r.Event,i.isDroppedDownChanged=new r.Event;var o=i.getTemplate();i.applyTemplate("wj-control wj-content wj-dropdown",o,{_tbx:"input",_btn:"btn",_dropDown:"dropdown"},"input"),i._dropDown.style.display="none";var s=r.culture.DropDown.ariaLabels;(0,r.setAriaLabel)(i._btn.querySelector("button"),s.tgl);var a=i._elRef=i._tbx;(0,r.disableAutoComplete)(a),i._createDropDown(),i._updateBtn();var l=i.hostElement;(0,r.addClass)(l,"wj-state-collapsed"),i.addEventListener(window,"resize",(function(){i.isDroppedDown&&i.invalidate()}));var h=i.dropDown,u=i.addEventListener.bind(i),c=i._updateFocusState.bind(i);u(h,"blur",c,!0),u(h,"focus",c);var p=i._keydown.bind(i);u(l,"keydown",p),u(h,"keydown",p);var d=i._keypress.bind(i);return u(l,"keypress",d,!0),u(h,"keypress",d,!0),u(a,"input",(function(){i._setText(i.text,!1)})),u(a,"blur",(function(){i._commitText(!0)}),!0),u(a,"click",(function(){i._autoExpand&&i._expandSelection()})),u(a,"mousedown",(function(t){switch(i._clickAction){case m.Open:i.isDroppedDown||(t.preventDefault(),i.focus(),i.isDroppedDown=!0);break;case m.Toggle:t.preventDefault(),i.focus(),i.isDroppedDown=!i.isDroppedDown}})),u(i._btn,"mousedown",(function(t){i._btnclick(t)})),(0,r.removeChild)(h),(0,r.isIE)()&&i._elRef==i._tbx&&u(l,"mouseup",(function(t){if(!t.defaultPrevented&&0==t.button&&(0,r.hasClass)(t.target,"wj-btn")){var e=(0,r.getActiveElement)();e&&e!=t.target&&setTimeout((function(){e.focus()}))}})),(0,r.isIE9)()&&u(a,"keyup",(function(){i._setText(i.text,!1)})),u(h,"click",i._dropDownClick.bind(i)),i}return s(e,t),Object.defineProperty(e.prototype,"text",{get:function(){return this._tbx.value},set:function(t){t!=this.text&&(this._setText(t,!0),this._commitText())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"inputElement",{get:function(){return this._tbx},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"inputType",{get:function(){return this._tbx.type},set:function(t){this._tbx.type=(0,r.asString)(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isReadOnly",{get:function(){return this._tbx.readOnly},set:function(t){this._tbx.readOnly=(0,r.asBoolean)(t),(0,r.toggleClass)(this.hostElement,"wj-state-readonly",this.isReadOnly)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isRequired",{get:function(){return this._tbx.required},set:function(t){this._tbx.required=(0,r.asBoolean)(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"placeholder",{get:function(){return this._tbx.placeholder},set:function(t){this._tbx.placeholder=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"clickAction",{get:function(){return this._clickAction},set:function(t){this._clickAction=(0,r.asEnum)(t,m)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isDroppedDown",{get:function(){var t=this._dropDown;return t&&"none"!=t.style.display},set:function(t){var e=this,n=this.hostElement,i=this._dropDown,o=this.containsFocus();n&&i&&(t=(0,r.asBoolean)(t)&&!this.isDisabled&&!this.isReadOnly&&n.offsetWidth>0)!=this.isDroppedDown&&this.onIsDroppedDownChanging(new r.CancelEventArgs)&&(t?(this._minWidthDropdown=i.style.minWidth,i.style.display="",this._updateDropDown(),this.addEventListener(window,"touchstart",(function(t){for(var i=t.target;i;){if(i==n)return;i=i[r.Control._OWNR_KEY]||i.parentNode}r.Control._touching=!0,e.isDroppedDown=!1,r.Control._touching=!1}))):(this.removeEventListener(window,"touchstart"),(0,r.hidePopup)(i),i.style.minWidth=this._minWidthDropdown),o&&(this.isTouching&&this.showDropDownButton?n.focus():this.selectAll()),this._updateFocusState(),(0,r.toggleClass)(n,"wj-state-collapsed",!this.isDroppedDown),this.onIsDroppedDownChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dropDown",{get:function(){return this._dropDown},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dropDownCssClass",{get:function(){return this._cssClass},set:function(t){t!=this._cssClass&&((0,r.removeClass)(this._dropDown,this._cssClass),this._cssClass=(0,r.asString)(t),(0,r.addClass)(this._dropDown,this._cssClass))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"showDropDownButton",{get:function(){return this._showBtn},set:function(t){this._showBtn=(0,r.asBoolean)(t),this._updateBtn()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"autoExpandSelection",{get:function(){return this._autoExpand},set:function(t){this._autoExpand=(0,r.asBoolean)(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isAnimated",{get:function(){return this._animate},set:function(t){this._animate=(0,r.asBoolean)(t)},enumerable:!0,configurable:!0}),e.prototype.selectAll=function(){var t=this._tbx;this._elRef==t&&(0,r.setSelectionRange)(t,0,this.text.length),this.containsFocus()||this.focus()},e.prototype.onTextChanged=function(t){this.textChanged.raise(this,t),this._updateState()},e.prototype.onIsDroppedDownChanging=function(t){return this.isDroppedDownChanging.raise(this,t),!t.cancel},e.prototype.onIsDroppedDownChanged=function(t){this.isDroppedDownChanged.raise(this,t)},e.prototype.onGotFocus=function(e){this.isTouching||(0,r.contains)(this._dropDown,(0,r.getActiveElement)())||this.selectAll(),t.prototype.onGotFocus.call(this,e)},e.prototype.onLostFocus=function(e){this._commitText(),this.isDroppedDown=!1,t.prototype.onLostFocus.call(this,e)},e.prototype._containsFocusImpl=function(e){return t.prototype._containsFocusImpl.call(this,e)||this.isDroppedDown&&(0,r.contains)(this._dropDown,e)},e.prototype.dispose=function(){this.isDroppedDown=!1;var e=this._dropDown;if(e){this._dropDown=null,(0,r.removeChild)(e);var n=r.Control.getControl(e);n&&n.dispose()}t.prototype.dispose.call(this)},e.prototype.refresh=function(e){void 0===e&&(e=!0),t.prototype.refresh.call(this,e);var n=this.hostElement;if(n&&n.offsetHeight&&this.isDroppedDown){var i=(0,r.getActiveElement)();this.isAnimated&&""!=this._dropDown.style.opacity||(0,r.showPopup)(this._dropDown,n,!1,!1,null==this.dropDownCssClass),i instanceof HTMLElement&&i!=(0,r.getActiveElement)()&&i.focus()}},e.prototype._handleResize=function(){this.isDroppedDown&&this.refresh()},e.prototype._dropDownClick=function(t){t.stopPropagation()},e.prototype._expandSelection=function(){var t=this._tbx,e=t.value,n=t.selectionStart,i=t.selectionEnd;if(e&&n==i){var o=this._getCharType(e,n);if(o>-1){for(;i<e.length&&this._getCharType(e,i)==o;i++);for(;n>0&&this._getCharType(e,n-1)==o;n--);n!=i&&(0,r.setSelectionRange)(t,n,i)}}},e.prototype._getCharType=function(t,e){var n=t[e];return n>="0"&&n<="9"?0:n>="a"&&n<="z"||n>="A"&&n<="Z"?1:-1},e.prototype._keydown=function(t){if(!t.defaultPrevented&&!this._isHiddenEditor()){switch(t.keyCode){case r.Key.Tab:case r.Key.Escape:case r.Key.Enter:this.isDroppedDown&&(this.isDroppedDown=!1,t.keyCode==r.Key.Tab||this.containsFocus()||this.focus(),t.preventDefault());break;case r.Key.F4:case r.Key.Up:case r.Key.Down:if(t.keyCode==r.Key.F4||t.altKey){var e=this.hostElement;e&&e.offsetHeight&&(this.isDroppedDown=!this.isDroppedDown,t.preventDefault())}}if(!t.defaultPrevented&&t.keyCode==r.Key.Escape&&(0,r.isIE)()){var n=this._tbx;if(t.target==n){var i=n.value;n.value=i+" ",n.value=i}}}},e.prototype._isHiddenEditor=function(){return(0,r.hasClass)(this._tbx,"wj-grid-ime")},e.prototype._keypress=function(t){"AltLeft"!=t.code&&"AltRight"!=t.code||t.preventDefault()},e.prototype._btnclick=function(t){t.defaultPrevented||0!=t.button||(t.preventDefault(),this.isTouching?this._containsFocus()||this.hostElement.focus():this.focus(),this.isDroppedDown=!this.isDroppedDown)},e.prototype._setText=function(t,e){(t=(t||"").toString())!=this._tbx.value&&(this._tbx.value=t),t!=this._oldText&&(this._oldText=t,this.onTextChanged()),this._updateState()},e.prototype._updateBtn=function(){this._btn.style.display=this._showBtn?"":"none"},e.prototype._createDropDown=function(){},e.prototype._commitText=function(t){},e.prototype._updateDropDown=function(){if(this.isDroppedDown){this._commitText();var t=this.dropDown;(0,r.setAttribute)(t,"dir",this.rightToLeft?"rtl":null),(0,r.showPopup)(t,this.hostElement,!1,this._animate,null==this.dropDownCssClass)}},e.controlTemplate='<div class="wj-template"><div class="wj-input"><div class="wj-input-group wj-input-btn-visible"><input wj-part="input" type="text" class="wj-form-control"><span wj-part="btn" class="wj-input-group-btn"><button class="wj-btn wj-btn-default" tabindex="-1"><span class="wj-glyph-down"></span></button></span></div></div><div wj-part="dropdown" class="wj-content wj-dropdown-panel"></div></div>',e}(r.Control);!function(t){t[t.None=0]="None",t[t.ClickOwner=1]="ClickOwner",t[t.ClickPopup=2]="ClickPopup",t[t.Click=3]="Click",t[t.BlurOwner=4]="BlurOwner",t[t.BlurPopup=8]="BlurPopup",t[t.Blur=12]="Blur",t[t.ClickOrBlur=15]="ClickOrBlur",t[t.DownOwner=16]="DownOwner",t[t.DownPopup=32]="DownPopup",t[t.Down=48]="Down",t[t.EnterOwner=64]="EnterOwner",t[t.EnterPopup=128]="EnterPopup",t[t.Enter=192]="Enter",t[t.LeaveOwner=256]="LeaveOwner",t[t.LeavePopup=512]="LeavePopup",t[t.Leave=768]="Leave"}(y||(y={})),function(t){t[t.None=0]="None",t[t.Left=1]="Left",t[t.Top=2]="Top",t[t.Right=4]="Right",t[t.Bottom=8]="Bottom",t[t.LeftTop=3]="LeftTop",t[t.RightTop=6]="RightTop",t[t.RightBottom=12]="RightBottom",t[t.LeftBottom=9]="LeftBottom"}(v||(v={}));var x=function(t){function e(e,n){var i=t.call(this,e)||this;i._owner=null,i._modal=!1,i._position=r.PopupPosition.BelowLeft,i._showTrigger=y.ClickOwner,i._hideTrigger=y.Blur,i._hideAnim=[],i._fadeIn=!0,i._fadeOut=!0,i._removeOnHide=!0,i._draggable=!1,i._resizable=!1,i._result=null,i._resultEnter=null,i._resultSubmit=null,i._callback=null,i._visible=!1,i._ownerClickBnd=i._ownerClick.bind(i),i._ownerDownBnd=i._ownerDown.bind(i),i._ownerBlurBnd=i._ownerBlur.bind(i),i._ownerEnterBnd=i._ownerEnter.bind(i),i._ownerLeaveBnd=i._ownerLeave.bind(i),i._mousedownBnd=i._mousedown.bind(i),i._mousemoveBnd=i._mousemove.bind(i),i._mousedragBnd=i._mousedrag.bind(i),i._mouseupBnd=i._mouseup.bind(i),i._hideBnd=i.hide.bind(i),i._lastShow=0,i.showing=new r.Event,i.shown=new r.Event,i.hiding=new r.Event,i.hidden=new r.Event,i.resizing=new r.Event,i.resized=new r.Event,i.dragging=new r.Event,i.dragged=new r.Event,i.sizeChanging=new r.Event,i.sizeChanged=new r.Event,i.positionChanging=new r.Event,i.positionChanged=new r.Event;var o=i.hostElement;(0,r.addClass)(o,"wj-control wj-content wj-popup"),o.getAttribute("tabindex")||(o.tabIndex=0),(0,r.hidePopup)(o,!1);var s=i.addEventListener.bind(i);s(o,"compositionstart",(function(){i._composing=!0})),s(o,"compositionend",(function(){i._composing=!1})),s(window,"resize",(function(){!i.isVisible||i._dragged||i.isTouching||i.invalidate()})),s(o,"keydown",(function(t){if(!t.defaultPrevented){if(t.keyCode!=r.Key.Escape||i._composing||(t.preventDefault(),i.hide()),t.keyCode==r.Key.Enter&&!i._composing){var e=i.dialogResultEnter;e&&(t.preventDefault(),i._validateAndHide(e))}t.keyCode==r.Key.Tab&&i.modal&&(t.preventDefault(),(0,r.moveFocus)(o,t.shiftKey?-1:1))}})),s(o,"click",(function(t){var e=t.target;if(e instanceof HTMLElement){if(e instanceof HTMLButtonElement&&"submit"==e.type){var n=i.hostElement,r=i.dialogResultSubmit;n instanceof HTMLFormElement&&r&&n.reportValidity()&&(t.preventDefault(),i.hide(r))}var o=e.className.match(/\bwj-hide[\S]*\b/);o&&o.length>0&&(t.preventDefault(),t.stopPropagation(),i.hide(o[0]))}}));var a=i._toggle.bind(i),l=y;return i.addEventListener(o,"click",(function(t){i._ignoreClick||a(t,l.ClickPopup)}),!0),i.addEventListener(o,"mousedown",(function(t){i._ignoreClick=!1,a(t,l.DownPopup)}),!0),i.addEventListener(o,"mouseenter",(function(t){t.target==o&&a(t,l.EnterPopup)}),!0),i.addEventListener(o,"mouseleave",(function(t){t.target==o&&a(t,l.LeavePopup)}),!0),i.addEventListener(o,"blur",(function(t){i.containsFocus()||a(t,l.BlurPopup)}),!0),s(document,"wheel",(function(t){if(i.isVisible&&i._modal){for(var e=t.target;e&&e!=document.body;e=e.parentElement)if(e.scrollHeight>e.clientHeight)return;t.preventDefault()}})),i.initialize(n),i}return s(e,t),Object.defineProperty(e.prototype,"owner",{get:function(){return this._owner},set:function(t){var e=this._owner;e&&(this.removeEventListener(e,"click"),this.removeEventListener(e,"mousedown"),this.removeEventListener(e,"mouseenter"),this.removeEventListener(e,"mouseleave"),this.removeEventListener(e,"blur")),(e=this._owner=null!=t?(0,r.getElement)(t):null)&&(this.addEventListener(e,"click",this._ownerClickBnd,!0),this.addEventListener(e,"mousedown",this._ownerDownBnd,!0),this.addEventListener(e,"mouseenter",this._ownerEnterBnd,!0),this.addEventListener(e,"mouseleave",this._ownerLeaveBnd,!0),this.addEventListener(e,"blur",this._ownerBlurBnd,!0))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"position",{get:function(){return this._position},set:function(t){this._position=(0,r.asEnum)(t,r.PopupPosition)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"content",{get:function(){return this.hostElement.firstElementChild},set:function(t){t!=this.content&&(this.hostElement.innerHTML="",t instanceof HTMLElement&&this.hostElement.appendChild(t))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"showTrigger",{get:function(){return this._showTrigger},set:function(t){this._showTrigger=(0,r.asEnum)(t,y)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hideTrigger",{get:function(){return this._hideTrigger},set:function(t){this._hideTrigger=(0,r.asEnum)(t,y)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fadeIn",{get:function(){return this._fadeIn},set:function(t){this._fadeIn=(0,r.asBoolean)(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fadeOut",{get:function(){return this._fadeOut},set:function(t){this._fadeOut=(0,r.asBoolean)(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"removeOnHide",{get:function(){return this._removeOnHide},set:function(t){if((t=(0,r.asBoolean)(t))!=this.removeOnHide&&(this._removeOnHide=t,!this.isVisible)){var e=this.hostElement;t?(0,r.removeChild)(e):e&&document.body&&(e.style.display="none",document.body.appendChild(e))}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"modal",{get:function(){return this._modal},set:function(t){this._modal=(0,r.asBoolean)(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isDraggable",{get:function(){return this._draggable},set:function(t){this._draggable=(0,r.asBoolean)(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isResizable",{get:function(){return this._resizable},set:function(t){this._resizable=(0,r.asBoolean)(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dialogResult",{get:function(){return this._result},set:function(t){this._result=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dialogResultEnter",{get:function(){return this._resultEnter},set:function(t){this._resultEnter=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dialogResultSubmit",{get:function(){return this._resultSubmit},set:function(t){this._resultSubmit=(0,r.asString)(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isVisible",{get:function(){var t=this.hostElement;return this._visible&&null!=t&&t.offsetHeight>0},enumerable:!0,configurable:!0}),e.prototype.show=function(t,e){var n=this;if(this._lastShow=Date.now(),!this.isVisible){var i=this.hostElement;this.dialogResult=null,this._callback=null,this._oldFocus=null,this._myFocus=null,this._hideAnim.forEach((function(t){clearInterval(t)})),this._hideAnim.length=0;var o=new r.CancelEventArgs;this.onShowing(o)&&(null!=t&&(this.modal=(0,r.asBoolean)(t)),null!=e&&(this._callback=(0,r.asFunction)(e)),this._oldFocus=(0,r.getActiveElement)(),(0,r.showPopup)(i,this._owner,this._position,this._fadeIn,!1,this._hideBnd),this._modal&&this._showBackdrop(),this._composing=!1,this._visible=!0,this.onShown(o),this._clearTimeouts(),this.modal&&(this.addEventListener(window,"focus",(function(){if(!n.containsFocus()){var t=n._myFocus;t&&t.offsetHeight?t.focus():(0,r.moveFocus)(i,0)}})),this.addEventListener(i,"focusin",(function(){var t=(0,r.getActiveElement)();t&&(0,r.contains)(i,t)&&(t.tabIndex>-1||!n._myFocus)&&(n._myFocus=t)}))),this._resized=this._dragged=this._ignoreClick=!1,this._handleDragResize(!0),this.addEventListener(window,"touchstart",(function(t){n._hideTrigger&y.Blur&&!(0,r.contains)(i,t.target,!0)&&n.hide()})),setTimeout((function(){n.addEventListener(window,"click",(function(t){n._hideTrigger&y.BlurPopup&&n.isDisabled&&!(0,r.contains)(i,t.target,!0)&&n.hide()}))})),setTimeout((function(){if(!n.isDisabled&&!n.containsFocus()&&!n.isTouching){var t=i.querySelector("[autofocus]");t&&t.clientHeight>0&&!t.disabled&&t.tabIndex>-1&&!(0,r.closest)(t,"[disabled],.wj-state-disabled")?(t.focus(),(0,r.isFunction)(t.select)&&t.select()):(0,r.moveFocus)(i,0)}n.isDisabled||n.containsFocus()||(i.tabIndex=0,i.focus())}),100))}},e.prototype.hide=function(t){var n=this;if(this._handleDragResize(!1),this.removeEventListener(window,"touchstart"),this.removeEventListener(window,"click"),this.isVisible){(0,r.isUndefined)(t)||(this.dialogResult=t);var i=new r.CancelEventArgs,o=this.hostElement;if(this.onHiding(i)){for(var s=this.containsFocus()?this._oldFocus:null,a=o.querySelectorAll(".wj-control.wj-dropdown"),l=0;l<a.length;l++){var h=r.Control.getControl(a[l]);h instanceof w&&(h.isDroppedDown=!1)}var u=this.removeOnHide,c=this.fadeOut;this._bkDrop&&this._hideAnim.push((0,r.hidePopup)(this._bkDrop,u,c)),this._hideAnim.push((0,r.hidePopup)(o,u,c)),this._visible=!1,this._oldFocus=null,this._myFocus=null,this.removeEventListener(window,"focus"),this.removeEventListener(o,"focusin"),this.containsFocus()&&(0,r.getActiveElement)().blur(),setTimeout((function(){if(n._updateState(),n.onHidden(i),n._callback&&n._callback(n),n.hideTrigger&y.LeavePopup){var t=r.Control.getControl((0,r.closest)(n.owner,".wj-popup"));if(t instanceof e&&0!=(t.hideTrigger&y.Leave)){var o=e._evtHover,s=o?document.elementFromPoint(o.clientX,o.clientY):null,a=r.Control.getControl((0,r.closest)(s,".wj-popup"));a instanceof e&&!a.isVisible&&(s=null),s&&(0,r.contains)(t.hostElement,s,!0)||t.hide()}}})),this._clearTimeouts(),!this.isVisible&&s&&s.offsetHeight&&s.focus()}}},e.prototype.onShowing=function(t){return this.showing.raise(this,t),!t.cancel},e.prototype.onShown=function(t){this.shown.raise(this,t)},e.prototype.onHiding=function(t){return this.hiding.raise(this,t),!t.cancel},e.prototype.onHidden=function(t){this._wasVisible=!1,this.hidden.raise(this,t)},e.prototype.onResizing=function(t){return this.resizing.raise(this,t),!t.cancel},e.prototype.onResized=function(t){this.resized.raise(this,t)},e.prototype.onDragging=function(t){return this.dragging.raise(this,t),!t.cancel},e.prototype.onDragged=function(t){this.dragged.raise(this,t)},e.prototype.onSizeChanging=function(t){return this.sizeChanging.raise(this,t),!t.cancel},e.prototype.onSizeChanged=function(t){this.sizeChanged.raise(this,t)},e.prototype.onPositionChanging=function(t){return this.positionChanging.raise(this,t),!t.cancel},e.prototype.onPositionChanged=function(t){this.positionChanged.raise(this,t)},e.prototype.onLostFocus=function(e){if(t.prototype.onLostFocus.call(this,e),this._hideTrigger&y.BlurPopup&&!this.containsFocus()){var n=document.createEvent("Event");n.initEvent("blur",!0,!0),this._toggle(n,y.BlurPopup)}},e.prototype.dispose=function(){this.owner=null,t.prototype.dispose.call(this)},e.prototype.refresh=function(e){void 0===e&&(e=!0);var n=this.hostElement;if(t.prototype.refresh.call(this,e),this.isVisible&&!this._refreshing&&n){this._refreshing=!0;for(var i=(0,r.getActiveElement)(),o=this._owner?this._owner.getBoundingClientRect():null,s=[],a=n.querySelectorAll(".wj-dropdown"),l=0;l<a.length;l++){var h=r.Control.getControl(a[l]);h instanceof w&&h.isDroppedDown&&(s.push(h),h.dropDown.style.display="none")}(0,r.showPopup)(n,o,this._position),s.forEach((function(t){t.dropDown.style.display="",t._updateDropDown()})),this._modal&&i instanceof HTMLElement&&i!=(0,r.getActiveElement)()&&i.focus(),this._refreshing=!1}},e.prototype._clearTimeouts=function(){this._toShow&&(clearTimeout(this._toShow),this._toShow=null),this._toHideLeave&&(clearTimeout(this._toHideLeave),this._toHideLeave=null),this._toHideBlur&&(clearTimeout(this._toHideBlur),this._toHideBlur=null)},e.prototype._handleDragResize=function(t){var e=this.hostElement,n=this._draggable?this._getHeaderElement():null,i=this.addEventListener.bind(this),r=this.removeEventListener.bind(this),o=this._mousemoveBnd,s=this._mousedownBnd;t?(i(e,"mousemove",o),i(e,"mousedown",s),i(e,"touchstart",s),n&&(n.style.touchAction="none")):(this._mousedownEvt=null,this._rcBounds=null,r(e,"mousemove",o),r(e,"mousedown",s),r(e,"touchstart",s),r(document,"mousemove",this._mousedragBnd),r(document,"mouseup",this._mouseupBnd),n&&(n.style.touchAction=""))},e.prototype._mousemove=function(t){if(!this._mousedownEvt){var e=this.hostElement,n=this._getEdges(e,t),i="",r=v;this._edges=n,this._resizable&&(n==r.LeftTop||n==r.RightBottom?i="nwse-resize":n==r.LeftBottom||n==r.RightTop?i="nesw-resize":n==r.Left||n==r.Right?i="ew-resize":n!=r.Top&&n!=r.Bottom||(i="ns-resize")),this._draggable&&!i&&this._getClosestHeader(t.target)&&(i="move"),e.style.cursor=i}},e.prototype._mousedown=function(t){if(!t.defaultPrevented){var e=t.touches&&t.touches.length>0?t.touches[0]:t;if(this._edges=this._getEdges(this.hostElement,e),this._edges||this._draggable&&this._getClosestHeader(t.target)){var n=new r.CancelEventArgs;if(this._edges?this.onResizing(n):this.onDragging(n)){this._mousedownEvt=e,this._rcBounds=this.hostElement.getBoundingClientRect();var i=this.addEventListener.bind(this),o=document,s=this._mousedragBnd,a=this._mouseupBnd;i(o,"mousemove",s),i(o,"touchmove",s),i(o,"mouseup",a),i(o,"touchend",a)}}this._ignoreClick=!1}},e.prototype._mouseup=function(){this._mousedownEvt=null,this._rcBounds=null;var t=this.removeEventListener.bind(this),e=document,n=this._mousedragBnd,i=this._mouseupBnd;t(e,"mousemove",n),t(e,"touchmove",n),t(e,"mouseup",i),t(e,"touchend",i),this._resized?this.onResized():this._dragged&&this.onDragged(),this._resized=this._dragged=this._ignoreClick=!1},e.prototype._mousedrag=function(t){if(!t.defaultPrevented){var n=this.hostElement,i=this._mousedownEvt,o=t.touches&&t.touches.length>0?t.touches[0]:t,s=o.clientX-i.clientX,a=o.clientY-i.clientY,l=this._rcBounds,h=this._edges,u=e._SZ_MIN,c=r.Rect.fromBoundingRect(l);if(h){if(h&v.Left?(c.left=l.left+s+(o.pageX-o.clientX),c.width=Math.max(l.width-s,u)):h&v.Right&&(c.left=l.left,c.width=Math.max(l.width+s,u)),h&v.Top?(c.top=l.top+a+(o.pageY-o.clientY),c.height=Math.max(l.height-a,u)):h&v.Bottom&&(c.top=l.top,c.height=Math.max(l.height+a,u)),this.onSizeChanging(new C(c))&&((0,r.setCss)(n,{left:c.left,top:c.top,width:c.width,height:c.height}),this._resized=this._dragged=this._ignoreClick=!0,this.onSizeChanged()),!window.ResizeObserver)for(var p=this.hostElement.children,d=0;d<p.length;d++)r.Control.invalidateAll(p[d])}else this._draggable&&(this._dragged||Math.abs(s)+Math.abs(a)>e._DRAG_THRESHOLD)&&(c.left=Math.max(l.left+s+(o.pageX-o.clientX),50-l.width),c.top=Math.max(l.top+a+(o.pageY-o.clientY),0),this.onPositionChanging(new C(c))&&((0,r.setCss)(n,{left:c.left,top:c.top}),this._dragged=this._ignoreClick=!0,this.onPositionChanged()))}},e.prototype._getEdges=function(t,n){var i=0;if(this._resizable){var r=t.getBoundingClientRect(),o=e._SZ_EDGE;n.clientX-r.left<o&&(i|=v.Left),n.clientY-r.top<o&&(i|=v.Top),r.right-n.clientX<o&&(i|=v.Right),r.bottom-n.clientY<o&&(i|=v.Bottom)}return i},e.prototype._ownerClick=function(t){this._toggle(t,y.ClickOwner)},e.prototype._ownerDown=function(t){this._wasVisible=this.isVisible,this._toggle(t,y.DownOwner)},e.prototype._ownerBlur=function(t){(0,r.contains)(this._owner,(0,r.getActiveElement)())||this._toggle(t,y.BlurOwner)},e.prototype._ownerEnter=function(t){t.target==this._owner&&this._toggle(t,y.EnterOwner)},e.prototype._ownerLeave=function(t){t.target==this._owner&&this._toggle(t,y.LeaveOwner)},e.prototype._toggle=function(t,n){var i=this;if(t instanceof MouseEvent&&(e._evtHover=t),!("mouseenter"==t.type&&Date.now()-this._lastShow<300||t.defaultPrevented)){var o=0!=(this._hideTrigger&n),s=0!=(this._showTrigger&n),a=y;(o||s)&&this._clearTimeouts(),o&&this.isVisible&&(n&a.Leave?this._toHideLeave=setTimeout((function(){var t=e._evtHover,n=t?document.elementFromPoint(t.clientX,t.clientY):null;n&&(0,r.contains)(i.hostElement,n,!0)||i.hide()}),r.Control._LEAVE_DELAY):n&a.Blur?this._toHideBlur=setTimeout((function(){i.containsFocus()||(0,r.contains)(i._owner,(0,r.getActiveElement)())||i.hide()}),r.Control._FOCUS_INTERVAL+50):this.hide()),s&&n!=a.ClickPopup&&(this._wasVisible||(n&a.Enter?this._toShow=setTimeout((function(){i.show()}),r.Control._HOVER_DELAY):this.show()))}},e.prototype._getHeaderElement=function(){var t=this.hostElement;return t.querySelector(".wj-dialog-header")||t.querySelector(".modal-header")},e.prototype._getClosestHeader=function(t){return(0,r.closest)(t,".wj-dialog-header")||(0,r.closest)(t,".modal-header")},e.prototype._showBackdrop=function(){var t=this;this._bkDrop||(this._bkDrop=document.createElement("div"),this._bkDrop.tabIndex=-1,(0,r.addClass)(this._bkDrop,"wj-popup-backdrop"),this.addEventListener(this._bkDrop,"mousedown",(function(e){e.preventDefault(),e.stopPropagation(),t.hostElement.focus(),t.hideTrigger&y.Blur&&t.hide()}))),(0,r.setCss)(this._bkDrop,{zIndex:r.Control._POPUP_ZINDEX,display:""});var e=this.hostElement;e.parentElement.insertBefore(this._bkDrop,e)},e.prototype._validateAndHide=function(t){var e=this.hostElement;if(e instanceof HTMLFormElement)e.reportValidity()&&this.hide(t);else{var n=this.hostElement.querySelector(":invalid");n?n.focus():this.hide(t)}},e._DRAG_THRESHOLD=6,e._SZ_EDGE=10,e._SZ_MIN=40,e}(r.Control),C=function(t){function e(e){var n=t.call(this)||this;return n._rc=e,n}return s(e,t),Object.defineProperty(e.prototype,"bounds",{get:function(){return this._rc},enumerable:!0,configurable:!0}),e}(r.CancelEventArgs),E=function(t){function e(e,n){var i=t.call(this,e)||this;i._fmt="d",i._sep=" - ",i._rngs=null,i._showCal=!1,i._clsOnSel=!0,i._handleWheel=!0,i._clicked=!1,i._rangeChanged=!1,i.valueChanged=new r.Event,i.rangeEndChanged=new r.Event,i.rangeChanged=new r.Event,(0,r.addClass)(i.hostElement,"wj-inputdate"),i._msk=new r._MaskProvider(i._tbx),(0,r.isIE9)()||(i.inputType="tel"),i._tbx.type.match(/^(tel|text|)$/i)||(i.inputType="text"),i.addEventListener(i.hostElement,"wheel",(function(t){if(i.handleWheel&&!t.defaultPrevented&&!i.isDroppedDown&&i.containsFocus()&&null!=i.value&&i._canChangeValue()){var e=(0,r.clamp)(-t.deltaY,-1,1),n=i.value;i.value=i.selectionMode==d.Month?r.DateTime.addMonths(n,e):r.DateTime.addDays(n,e),i.selectAll(),t.preventDefault()}}));var o=i._lbx=new c(document.createElement("div"),{displayMemberPath:"name",selectedIndexChanged:function(t){var e=t.selectedItem,n=r.DateTime.fromDateTime;if(e&&e.from&&e.to){var o=i.value;i.value=n(e.from,o),i.rangeEnd=n(e.to,o),i._selectAll()}else i._cal.hostElement.style.display=""}}),s=i._cal=new b(document.createElement("div")),a=i._dropDown;if((0,r.addClass)(a,"wj-inputdate-dropdown"),a.appendChild(o.hostElement),a.appendChild(s.hostElement),i.addEventListener(a,"click",(function(){i._clicked=!0,setTimeout((function(){i._clicked=!1}),50)}),!0),"INPUT"==i._orgTag){var l=i._tbx.getAttribute("value");l&&(s.value=s.rangeEnd=r.Globalize.parseDate(l,"yyyy-MM-dd"))}return i.isRequired=!0,i.initialize(n),i._tbx.value=i._oldText=i._getText(),i._updateState(),s.valueChanged.addHandler((function(t,e){i._refreshText(),i.onValueChanged(e),i._closeOnChange()})),s.rangeEndChanged.addHandler((function(t,e){s._rngMode()&&(i.onRangeEndChanged(e),i._closeOnChange(),s._clearingRangeEnd||i._refreshText())})),s.hostElement.addEventListener("click",(function(t){if(s.selectionMode&&!s._rngMode()){var e=t.target,n=s.hitTest(e);(r.DateTime.sameDate(i.value,n)||(0,r.closest)(e,"[wj-part=btn-today]"))&&i._closeOnChange()}})),i}return s(e,t),Object.defineProperty(e.prototype,"value",{get:function(){return this._cal.value},set:function(t){this._cal.value=t,this._refreshText()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rangeEnd",{get:function(){return this._cal.rangeEnd},set:function(t){this._cal.rangeEnd=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rangeMin",{get:function(){return this._cal.rangeMin},set:function(t){this._cal.rangeMin=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rangeMax",{get:function(){return this._cal.rangeMax},set:function(t){this._cal.rangeMax=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"text",{get:function(){return this._tbx.value},set:function(t){if(t!=this.text){var e=t;(e=(e||"").toString())!=this._tbx.value&&(this._tbx.value=e),e!=this._oldText&&(this._oldText=e),this._commitText(),this.onTextChanged()}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"format",{get:function(){return this._fmt},set:function(t){t!=this.format&&(this._fmt=(0,r.asString)(t),this._refreshText())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"separator",{get:function(){return this._sep},set:function(t){t!=this._sep&&(this._sep=(0,r.asString)(t,!1),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"mask",{get:function(){return this._msk.mask},set:function(t){this._msk.mask=(0,r.asString)(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"closeOnSelection",{get:function(){return this._clsOnSel},set:function(t){this._clsOnSel=(0,r.asBoolean)(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"handleWheel",{get:function(){return this._handleWheel},set:function(t){t=(0,r.asBoolean)(t),this._handleWheel=t,t||(this.calendar.handleWheel=t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"predefinedRanges",{get:function(){return this._rngs},set:function(t){this._rngs!=t&&((0,r.assert)(null==t||(0,r.isObject)(t),"Object expected"),this._rngs=t,this._lbx.itemsSource=this._getRanges(t),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"alwaysShowCalendar",{get:function(){return this._showCal},set:function(t){this._showCal=(0,r.asBoolean)(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"min",{get:function(){return this._cal.min},set:function(t){this._cal.min=(0,r.asDate)(t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"max",{get:function(){return this._cal.max},set:function(t){this._cal.max=(0,r.asDate)(t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"repeatButtons",{get:function(){return this._cal.repeatButtons},set:function(t){this._cal.repeatButtons=(0,r.asBoolean)(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"showYearPicker",{get:function(){return this._cal.showYearPicker},set:function(t){this._cal.showYearPicker=(0,r.asBoolean)(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"showMonthPicker",{get:function(){return this._cal.showMonthPicker},set:function(t){this._cal.showMonthPicker=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"showHeader",{get:function(){return this._cal.showHeader},set:function(t){this._cal.showHeader=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"weeksBefore",{get:function(){return this._cal.weeksBefore},set:function(t){this._cal.weeksBefore=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"weeksAfter",{get:function(){return this._cal.weeksAfter},set:function(t){this._cal.weeksAfter=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"selectionMode",{get:function(){return this._cal.selectionMode},set:function(t){t!=this.selectionMode&&(this._cal.selectionMode=t,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"monthCount",{get:function(){return this._cal.monthCount},set:function(t){this._cal.monthCount=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"calendar",{get:function(){return this._cal},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"inputElement",{get:function(){return this._tbx},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"inputType",{get:function(){return this._tbx.type},set:function(t){this._tbx.type=(0,r.asString)(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"itemValidator",{get:function(){return this._cal.itemValidator},set:function(t){t!=this.itemValidator&&(this._cal.itemValidator=(0,r.asFunction)(t),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"itemFormatter",{get:function(){return this._cal.itemFormatter},set:function(t){this._cal.itemFormatter=(0,r.asFunction)(t)},enumerable:!0,configurable:!0}),e.prototype.onValueChanged=function(t){this.valueChanged.raise(this,t)},e.prototype.onRangeEndChanged=function(t){this.rangeEndChanged.raise(this,t),this.rangeEnd&&(this.isDroppedDown?this._rangeChanged=!0:this.onRangeChanged(t))},e.prototype.onRangeChanged=function(t){this._rangeChanged=!1,this.rangeChanged.raise(this,t)},e.prototype.refresh=function(e){void 0===e&&(e=!0),t.prototype.refresh.call(this,e),this.hostElement&&(this._msk&&this._msk.refresh(),this._cal&&this._cal.refresh(),this._refreshText())},e.prototype.onIsDroppedDownChanging=function(e){if(this.isDroppedDown)(i=this._cal)._rngMode()&&i.value&&!i.rangeEnd&&(i.rangeEnd=i.value);else{var n=this._lbx,i=this._cal,o=n.collectionView,s=n.hostElement.style,a=i.hostElement.style;if(i._rngMode()&&(0,r.hasItems)(o)){var l=this._updateRangeSelection();s.display="",a.display=!this._showCal&&l&&l.from&&o.items.some((function(t){return!t.to}))?"none":""}else s.display="none",a.display="";i._mthMode()||(i.monthView=!0)}return t.prototype.onIsDroppedDownChanging.call(this,e)},e.prototype.onIsDroppedDownChanged=function(e){t.prototype.onIsDroppedDownChanged.call(this,e);var n=this.containsFocus();this.isDroppedDown?(n&&(this._tryFocus(this._cal)||this._tryFocus(this._lbx)||this.dropDown.focus()),this._lbx.showSelection(),this._cal.refresh()):(this._commitText(),this._rangeChanged&&this.onRangeChanged())},e.prototype._updateDropDown=function(){this._commitText();var e=getComputedStyle(this.hostElement);this._dropDown.style.minWidth=18*parseFloat(e.fontSize)+"px",this._cal.refresh(),t.prototype._updateDropDown.call(this)},e.prototype._keydown=function(e){if(!(e.defaultPrevented||e.altKey||e.ctrlKey||e.metaKey)){if(this._isHiddenEditor())return;switch(e.keyCode){case r.Key.Enter:this._commitText();break;case r.Key.Escape:this.text=this._getText(),this.selectAll();break;case r.Key.Tab:if(this._cal._rngMode()){var n=this._tbx,i=this._sep,o=n.value,s=o.indexOf(i);if(s>-1){var a=o.length,l=n.selectionStart,h=n.selectionEnd,u=null;n.selectionEnd<=s&&!e.shiftKey?u=0==l&&0==h:e.shiftKey&&n.selectionStart>=s+i.length&&(u=l<a||h<a),null!=u&&(u?(0,r.setSelectionRange)(n,0,s):(0,r.setSelectionRange)(n,s+i.length,a),e.preventDefault())}}break;case r.Key.Up:case r.Key.Down:if(!this.isDroppedDown&&this.value&&this._canChangeValue()){var c=e.keyCode==r.Key.Up?1:-1,p=this.selectionMode==d.Month?r.DateTime.addMonths(this.value,c):r.DateTime.addDays(this.value,c);this.value=this._fromDateTime(p),this.selectAll(),e.preventDefault()}}}t.prototype._keydown.call(this,e)},e.prototype._expandSelection=function(){if(this._cal._rngMode()){var e=this._tbx,n=e.value,i=e.selectionStart,o=e.selectionEnd,s=this._sep,a=n.indexOf(s);a>-1&&i==o&&(o<=a?(0,r.setSelectionRange)(e,0,a):i>=a+s.length&&(0,r.setSelectionRange)(e,a+s.length,e.value.length))}else t.prototype._expandSelection.call(this)},e.prototype._refreshText=function(){var t=this._getText();t!=this.text&&(this._tbx.value=this._oldText=t,this.onTextChanged())},e.prototype._selectAll=function(){this.isDroppedDown||!this.containsFocus()||this.isTouching||this.selectAll()},e.prototype._closeOnChange=function(){var t=this;if(this._clsOnSel&&this._clicked){var e=this._cal;(!e._rngMode()||e.value&&e.rangeEnd)&&setTimeout((function(){t.isDroppedDown=!1}))}},e.prototype._tryFocus=function(t){var e=t.hostElement;return!(!e||!e.offsetHeight||(e.focus(),0))},e.prototype._clamp=function(t){return this._cal._clamp(t)},e.prototype._getText=function(){var t=r.Globalize.format,e=this._fmt,n=t(this.value,e);return this._cal._rngMode()&&n&&(n+=this._sep+t(this.rangeEnd,e)),n},e.prototype._commitText=function(t){var e=this._tbx.value;if(e!=this._getText()){var n=!1,i=this._fmt,o=this._cal,s=r.Globalize.parseDate;if(e||this.isRequired)if(o._rngMode()){var a=e.split(this._sep);if(2==a.length&&a[0]&&(h=s(a[0],i,this.value))){var l=s(a[1],i,this.value);o.value=this._fromDateTime(h),o.rangeEnd=l&&l>=h?this._fromDateTime(l):h,n=!0}}else{var h;(h=s(e,i,this.value))&&(this.value=this._fromDateTime(h),n=!0)}else this.value=this.rangeEnd=null,n=!0;(n||!this._containsFocus()&&this.onInvalidInput(new r.CancelEventArgs))&&(this.text=this._getText())}t||this._selectAll()},e.prototype._fromDateTime=function(t){return r.DateTime.fromDateTime(t,this.value)},e.prototype._canChangeValue=function(){return!this.isReadOnly&&!this.isDisabled&&this.selectionMode!=d.None},e.prototype._isValidDate=function(t){if(t){if(this._clamp(t)!=t)return!1;if(this.itemValidator&&!this.itemValidator(t))return!1}return!0},e.prototype._getRanges=function(t){var e=[];if((0,r.isObject)(t))for(var n in t){var i=t[n];e.push({name:n,from:i?i[0]:null,to:i?i[1]:null})}return new r.CollectionView(e,{currentItem:null})},e.prototype._updateRangeSelection=function(){var t=this._lbx,e=-1;if((0,r.hasItems)(t.collectionView))for(var n=this._lbx.collectionView.items,i=r.DateTime.sameDate,o=0;o<n.length;o++){var s=n[o];if(s.from){if(i(s.from,this.value)&&i(s.to,this.rangeEnd)){e=o;break}}else e=o}return t.selectedIndex=e,t.selectedItem},e}(w),D=function(t){function e(e,n){var i=t.call(this,e,{selectionMode:d.Range,showMonthPicker:"Outside",monthCount:2})||this;return(0,r.addClass)(i.hostElement,"wj-inputdaterange"),i.initialize(n),i}return s(e,t),Object.defineProperty(e.prototype,"selectionMode",{get:function(){return this.calendar.selectionMode},set:function(t){t=(0,r.asEnum)(t,d),(0,r.assert)(t==d.Range,'InputDateRange.selectionMode must be "Range"'),this.calendar.selectionMode=t},enumerable:!0,configurable:!0}),e}(E),I=function(t){function e(e,n){var i=t.call(this,e)||this;return i.valueChanged=new r.Event,(0,r.addClass)(i.hostElement,"wj-inputcolor"),i._ePreview=(0,r.createElement)('<div class="wj-inputcolorbox"></div>',i.hostElement.firstElementChild),"INPUT"==i._orgTag&&(i._tbx.type="",i._commitText()),i.value="#ffffff",i.isRequired=!0,i.initialize(n),i.addEventListener(i._colorPicker.hostElement,"click",(function(t){var e=t.target;e&&"DIV"==e.tagName&&((0,r.closest)(e,'[wj-part="div-pal"]')||(0,r.closest)(e,'[wj-part="div-pv"]'))&&e.style.backgroundColor&&(i.isDroppedDown=!1)})),i}return s(e,t),Object.defineProperty(e.prototype,"value",{get:function(){return this._value},set:function(t){this.text=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"text",{get:function(){return this._tbx.value},set:function(t){(t=(0,r.asString)(t))==this.text||!t&&this.isRequired||t&&!r.Color.fromString(t)||(this._setText(t,!0),this._commitText())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"showAlphaChannel",{get:function(){return this._colorPicker.showAlphaChannel},set:function(t){this._colorPicker.showAlphaChannel=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"showColorString",{get:function(){return this._colorPicker.showColorString},set:function(t){this._colorPicker.showColorString=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"palette",{get:function(){return this._colorPicker.palette},set:function(t){this._colorPicker.palette=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"colorPicker",{get:function(){return this._colorPicker},enumerable:!0,configurable:!0}),e.prototype.onValueChanged=function(t){this.valueChanged.raise(this,t)},e.prototype.onIsDroppedDownChanged=function(e){t.prototype.onIsDroppedDownChanged.call(this,e),this.isDroppedDown&&!this.isTouching&&this.selectAll()},e.prototype._createDropDown=function(){var t=this;this._colorPicker=new h(this._dropDown),(0,r.setCss)(this._dropDown,{minWidth:420,minHeight:200}),this._colorPicker.valueChanged.addHandler((function(){t.value=t._colorPicker.value}))},e.prototype._keydown=function(e){if(!e.defaultPrevented)switch(e.keyCode){case r.Key.Enter:this._commitText(),this.selectAll();break;case r.Key.Escape:this.text=this.value,this.selectAll()}t.prototype._keydown.call(this,e)},e.prototype._commitText=function(){if(this._value!=this.text){if(!this.isRequired&&!this.text)return this._value=this.text,this._ePreview.style.backgroundColor="",void this.onValueChanged();if(r.Color.fromString(this.text)){var t=this._colorPicker;t.value=this.text,this._value=t.value,this._ePreview.style.backgroundColor=this.value,this.onValueChanged()}else this.onInvalidInput(new r.CancelEventArgs)&&(this.text=this._value?this._value:"")}},e}(w),P=function(t){function e(e,n){var i=t.call(this,e)||this;i._editable=!1,i._trimText=!0,i._handleWheel=!0,i._delKey=0,i._pathHdr=new r.Binding(null),i._bsCollapse=!0,i._fmtItemHandlers=0,i.itemsSourceChanged=new r.Event,i.selectedIndexChanged=new r.Event;var o=i.hostElement;(0,r.addClass)(o,"wj-combobox"),i.dropDown.id=(0,r.getUniqueId)(o.id+"_dropdown"),i.autoExpandSelection=!1;var s=i._tbx;i.addEventListener(s,"compositionstart",(function(){i._composing=!0;var t=s.selectionStart,e=s.selectionEnd;if(e>t&&!(0,r.isIE)()){var n=s.value;s.value=n.substring(0,t)+n.substring(e,n.length),i._setSelRange(t,t)}})),i.addEventListener(s,"compositionend",(function(){i._composing=!1,i._setText(i.text,!0)})),i.addEventListener(o,"wheel",i._wheel.bind(i)),"SELECT"==i._orgTag&&i._lbx._initFromSelect(o);var a=i._lbx;return a.loadedItems.addHandler((function(t){i.selectedIndex>-1&&(i.selectedIndex=a.selectedIndex)})),i.isRequired=!0,i.initialize(n),i}return s(e,t),Object.defineProperty(e.prototype,"itemsSource",{get:function(){return this._lbx.itemsSource},set:function(t){this._lbx.itemsSource!=t&&(this._lbx.itemsSource=t,this.onItemsSourceChanged()),this._updateBtn()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"collectionView",{get:function(){return this._lbx.collectionView},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"virtualizationThreshold",{get:function(){return this._lbx.virtualizationThreshold},set:function(t){this._lbx.virtualizationThreshold=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"showGroups",{get:function(){return this._lbx.showGroups},set:function(t){this._lbx.showGroups=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"displayMemberPath",{get:function(){return this._lbx.displayMemberPath},set:function(t){this._lbx.displayMemberPath=t;var e=this.getDisplayText();this.text!=e&&this._setText(e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"headerPath",{get:function(){return this._pathHdr.path},set:function(t){this._pathHdr.path=(0,r.asString)(t);var e=this.getDisplayText();this.text!=e&&this._setText(e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"selectedValuePath",{get:function(){return this._lbx.selectedValuePath},set:function(t){this._lbx.selectedValuePath=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isContentHtml",{get:function(){return this._lbx.isContentHtml},set:function(t){if(t!=this.isContentHtml){this._lbx.isContentHtml=(0,r.asBoolean)(t);var e=this.getDisplayText();this.text!=e&&this._setText(e,!0)}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"caseSensitiveSearch",{get:function(){return this._lbx.caseSensitiveSearch},set:function(t){this._lbx.caseSensitiveSearch=(0,r.asBoolean)(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"trimText",{get:function(){return this._trimText},set:function(t){t!=this._trimText&&(this._trimText=(0,r.asBoolean)(t),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"itemFormatter",{get:function(){return this._lbx.itemFormatter},set:function(t){this._lbx.itemFormatter=(0,r.asFunction)(t),this.selectedIndex=this._lbx.selectedIndex},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"formatItem",{get:function(){return this._lbx.formatItem},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"selectedIndex",{get:function(){return this._lbx.selectedIndex},set:function(t){t!=this.selectedIndex&&(0,r.isNumber)(t)&&(this._lbx.selectedIndex=t),t=this.selectedIndex;var e=this.getDisplayText(t);this.text!=e&&this._setText(e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"selectedItem",{get:function(){return this._lbx.selectedItem},set:function(t){this._lbx.selectedItem=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"selectedValue",{get:function(){return this.collectionView?this._lbx.selectedValue:this.text},set:function(t){this.collectionView?this._lbx.selectedValue=t:null!=t&&(this.text=t.toString())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isEditable",{get:function(){return this._editable},set:function(t){this._editable=(0,r.asBoolean)(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"handleWheel",{get:function(){return this._handleWheel},set:function(t){this._handleWheel=(0,r.asBoolean)(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maxDropDownHeight",{get:function(){return this._lbx.maxHeight},set:function(t){this._lbx.maxHeight=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maxDropDownWidth",{get:function(){var t=this._dropDown,e=t?parseInt(t.style.maxWidth):null;return isNaN(e)?null:e},set:function(t){var e=this._dropDown.style;t=(0,r.asNumber)(t,!0),e.maxWidth=null==t?"":t+"px",e.minWidth=""},enumerable:!0,configurable:!0}),e.prototype.getDisplayText=function(t,e){void 0===t&&(t=this.selectedIndex),void 0===e&&(e=this._trimText);var n,i=this.collectionView;if(this.headerPath&&t>-1&&(0,r.hasItems)(i)){var o=i.items[t];n=null!=(n=o?this._pathHdr.getValue(o):null)?n.toString():"",this.isContentHtml&&(n=(0,r.toPlainText)(n))}else n=this._lbx.getDisplayText(t);return e?n.trim():n},e.prototype.indexOf=function(t,e){var n=this.collectionView,i=this.caseSensitiveSearch;if((0,r.hasItems)(n)&&null!=t){t=t.toString(),i||(t=t.toLowerCase());var o=this.selectedIndex,s=this.getDisplayText(o);if(e&&(i||(s=s.toLowerCase()),t==s))return o;for(var a=0;a<n.items.length;a++)if(this._lbx.isItemEnabled(a))if(s=this.getDisplayText(a),i||(s=s.toLowerCase()),e){if(s==t)return a}else if(t&&0==s.indexOf(t))return a}return-1},Object.defineProperty(e.prototype,"listBox",{get:function(){return this._lbx},enumerable:!0,configurable:!0}),e.prototype.onItemsSourceChanged=function(t){this.itemsSourceChanged.raise(this,t)},e.prototype.onSelectedIndexChanged=function(t){this._updateBtn(),this.selectedIndexChanged.raise(this,t)},e.prototype.refresh=function(e){void 0===e&&(e=!0),t.prototype.refresh.call(this,e),this.hostElement&&(0,r.hasItems)(this.collectionView)&&(this._lbx.refresh(),this.selectedIndex>-1&&(this.selectedIndex=this._lbx.selectedIndex))},e.prototype.onLostFocus=function(e){this._composing&&(this._composing=!1,this._setText(this.text,!0)),this.isEditable&&this.isRequired&&!this.text&&(0,r.hasItems)(this.collectionView)&&(this.selectedIndex=0),t.prototype.onLostFocus.call(this,e)},e.prototype.onIsDroppedDownChanging=function(e){return this.isDroppedDown||this._hasItems()?t.prototype.onIsDroppedDownChanging.call(this,e):(e.cancel=!0,!1)},e.prototype.onIsDroppedDownChanged=function(e){t.prototype.onIsDroppedDownChanged.call(this,e),this.isDroppedDown&&(this._fmtItemHandlers=this.formatItem.handlerCount,this._lbx.showSelection()),this._updateAria()},e.prototype._setIsDisabled=function(e){t.prototype._setIsDisabled.call(this,e),this._updateBtn()},e.prototype._updateBtn=function(){var e=this.collectionView,n=this._tbx,i=this._hasItems();t.prototype._updateBtn.call(this),this._btn.style.display=this._showBtn&&null!=e?"":"none",(0,r.enable)(this._btn,i&&!this.isDisabled),(0,r.setAttribute)(n,"role",i?"combobox":null),(0,r.setAttribute)(n,"aria-autocomplete",i?"both":null),this._updateAria()},e.prototype._hasItems=function(){return(0,r.hasItems)(this.collectionView)},e.prototype._updateAria=function(){var t=this._tbx,e=this.isDroppedDown,n=this.dropDown?this.dropDown.id:null,i=n&&(0,r.hasItems)(this.collectionView);(0,r.setAttribute)(t,"aria-owns",i&&e?n:null),(0,r.setAttribute)(t,"aria-expanded",i?e:null)},e.prototype._createDropDown=function(){var t=this;this._lbx||(this._lbx=new c(this._dropDown)),this._lbx.maxHeight=200,this._lbx.selectedIndexChanged.addHandler((function(){t._updateBtn();var e=t._lbx.selectedIndex,n=t._lbx.hostElement.children,i=e>-1&&e<n.length?n[e].id:null;(0,r.setAttribute)(t._tbx,"aria-activedescendant",i&&i.length?i:null),t.selectedIndex=e,t.onSelectedIndexChanged()})),this._lbx.itemsChanged.addHandler((function(){t._updateBtn()}))},e.prototype._wheel=function(t){if(this.handleWheel&&!t.defaultPrevented&&!this.isDroppedDown&&!this.isReadOnly&&this.containsFocus()&&this.selectedIndex>-1){var e=this._findNext("",t.deltaY>0?1:-1);e>-1&&(this.selectedIndex=e),t.preventDefault()}},e.prototype._dropDownClick=function(e){e.defaultPrevented||e.target!=this._dropDown&&(this.isDroppedDown=!1),t.prototype._dropDownClick.call(this,e)},e.prototype._setText=function(e,n){if(!this._composing&&!this._settingText){if(this._settingText=!0,this.containsFocus()){var i=this.formatItem.handlerCount;this._fmtItemHandlers!=i&&(this._fmtItemHandlers=i,this._lbx.loadList())}null==e&&(e=""),e=e.toString();var o=this.selectedIndex,s=this.collectionView,a=this._getSelStart(),l=-1,h=!0;if(this.isEditable&&(this._delKey||this._getSelEnd()<e.length||!this.containsFocus())&&(n=!0,h=!1),o=this.indexOf(e,n),h&&(o<0&&n&&(o=this.indexOf(e,!1)),o<0&&a>0&&(o=this.indexOf(e.substr(0,a),!1))),o<0&&!this.isEditable&&(0,r.hasItems)(s)&&(this.isRequired||e)){var u=this._oldText||"";o=Math.max(0,this.indexOf(u,!1)),a=0;for(var c=0;c<e.length&&c<u.length;c++)if(e[c]!=u[c]){a=c;break}}o>-1&&(l=a,e=this.getDisplayText(o));var p=this._tbx;e!=p.value&&(p.value=e),l>-1&&this.containsFocus()&&!this.isTouching&&this._updateInputSelection(l),s&&s.moveCurrentToPosition(o),this._delKey=0,this._settingText=!1,t.prototype._setText.call(this,e,n)}},e.prototype._findNext=function(t,e,n){void 0===n&&(n=this.selectedIndex);var i=this.collectionView,r=i?i.items.length:0,o=this._lbx,s=this.caseSensitiveSearch;if(i&&r&&e){s||(t=t.toLowerCase());for(var a=n+e;a>-1&&a<r;a+=e){var l=this.getDisplayText(a);if(s||(l=l.toLowerCase()),0==l.indexOf(t)&&(!this.dropDown.children[a]||o.isItemEnabled(a)))return a}}return n},e.prototype._keydown=function(e){if(t.prototype._keydown.call(this,e),!e.defaultPrevented&&!this.isReadOnly&&!e.altKey&&(0,r.hasItems)(this.collectionView)&&this._elRef==this._tbx&&!this._isHiddenEditor()){this._delKey=0;var n=this._getSelStart();switch(e.keyCode){case r.Key.Back:if(this._bsCollapse&&!this.isEditable){var i=this._getSelEnd();n>0&&i==this._tbx.value.length&&(0,r.hasItems)(this.collectionView)&&this._setSelRange(n-1,i)}this._delKey=e.keyCode;break;case r.Key.Delete:this._delKey=e.keyCode;break;case r.Key.Up:case r.Key.Down:n==this.text.length&&(n=0),this.selectedIndex=this._findNext(this.text.substr(0,n),e.keyCode==r.Key.Up?-1:1),this._setSelRange(n,this.text.length),e.preventDefault();break;case r.Key.PageUp:this._lbx._selectPrevPage(),this.selectAll(),e.preventDefault();break;case r.Key.PageDown:this._lbx._selectNextPage(),this.selectAll(),e.preventDefault()}}},e.prototype._updateInputSelection=function(t){var e=this._tbx;this._elRef==e&&this._setSelRange(t,e.value.length)},e.prototype._getSelStart=function(){var t=this._tbx;return t&&t.value?t.selectionStart:0},e.prototype._getSelEnd=function(){var t=this._tbx;return t&&t.value?t.selectionEnd:0},e.prototype._setSelRange=function(t,e){var n=this._tbx;this._elRef!=n||n.readOnly||(0,r.setSelectionRange)(n,t,e)},e}(w);(0,r._addCultureInfo)("MultiSelect",{itemsSelected:"{count:n0} items selected",selectAll:"Select All"});var T=function(t){function e(e,n){var i=t.call(this,e)||this;return i._maxHdrItems=2,i._readOnly=!1,i._hdrFmt=null,i.checkedItemsChanged=new r.Event,(0,r.addClass)(i.hostElement,"wj-multiselect"),i._tbx.readOnly=!0,i.checkedMemberPath=null,i.removeEventListener(i.dropDown,"click"),i._lbx.itemsChanged.addHandler((function(){i._updateHeader()})),i._lbx.checkedItemsChanged.addHandler((function(){i._updateHeader(),i.onCheckedItemsChanged()})),i.clickAction=m.Toggle,i.initialize(n),i}return s(e,t),Object.defineProperty(e.prototype,"showSelectAllCheckbox",{get:function(){return this._msLbx.showSelectAllCheckbox},set:function(t){this._msLbx.showSelectAllCheckbox=(0,r.asBoolean)(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"showFilterInput",{get:function(){return this._msLbx.showFilterInput},set:function(t){this._msLbx.showFilterInput=(0,r.asBoolean)(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"delay",{get:function(){return this._msLbx.delay},set:function(t){this._msLbx.delay=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"caseSensitiveSearch",{get:function(){return this._msLbx.caseSensitiveSearch},set:function(t){this._msLbx.caseSensitiveSearch=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"filterInputPlaceholder",{get:function(){return this._msLbx.filterInputPlaceholder},set:function(t){this._msLbx.filterInputPlaceholder=(0,r.asString)(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"checkOnFilter",{get:function(){return this._msLbx.checkOnFilter},set:function(t){t!=this.checkOnFilter&&(this._msLbx.checkOnFilter=(0,r.asBoolean)(t),this.checkedItems=[])},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"selectAllLabel",{get:function(){return this._msLbx.selectAllLabel},set:function(t){this._msLbx.selectAllLabel=(0,r.asString)(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"checkedMemberPath",{get:function(){return this._msLbx.checkedMemberPath},set:function(t){this._msLbx.checkedMemberPath=(0,r.asString)(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maxHeaderItems",{get:function(){return this._maxHdrItems},set:function(t){this._maxHdrItems!=t&&(this._maxHdrItems=(0,r.asNumber)(t),this._updateHeader())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"headerFormat",{get:function(){return this._hdrFmt},set:function(t){t!=this._hdrFmt&&(this._hdrFmt=(0,r.asString)(t),this._updateHeader())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"headerFormatter",{get:function(){return this._hdrFormatter},set:function(t){t!=this._hdrFormatter&&(this._hdrFormatter=(0,r.asFunction)(t),this._updateHeader())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"checkedItems",{get:function(){return this._msLbx.checkedItems},set:function(t){this._msLbx.checkedItems=null==t?[]:(0,r.asArray)(t),this._updateHeader()},enumerable:!0,configurable:!0}),e.prototype.onCheckedItemsChanged=function(t){this.checkedItemsChanged.raise(this,t)},e.prototype.dispose=function(){this._lbx.dispose(),t.prototype.dispose.call(this)},e.prototype.onIsDroppedDownChanged=function(e){var n=this;t.prototype.onIsDroppedDownChanged.call(this,e),setTimeout((function(){if(n.isDroppedDown&&n.containsFocus())if(n.showFilterInput&&!n.isTouching)n._msLbx._filter.focus();else{var t=n.listBox;if(t.selectedIndex<0){var e=0,i=t.checkedItems;i.length&&(e=t.collectionView.items.indexOf(i[0])),t.selectedIndex=Math.max(0,e)}t.showSelection(!0),t.focus()}}))},e.prototype._createDropDown=function(){var e=(0,r.createElement)("<div></div>",this._dropDown);this._msLbx=new g(e),this._lbx=this._msLbx.listBox,t.prototype._createDropDown.call(this)},Object.defineProperty(e.prototype,"isReadOnly",{get:function(){return this._readOnly},set:function(t){this._readOnly=(0,r.asBoolean)(t),(0,r.toggleClass)(this.hostElement,"wj-state-readonly",this.isReadOnly)},enumerable:!0,configurable:!0}),e.prototype.refresh=function(e){void 0===e&&(e=!0),t.prototype.refresh.call(this,e),this.hostElement&&this._updateHeader()},e.prototype._setText=function(t,e){},e.prototype._keydown=function(e){t.prototype._keydown.call(this,e),(0,r.hasClass)(this._tbx,"wj-grid-ime")||!e.defaultPrevented&&(0,r.hasItems)(this.collectionView)&&e.keyCode>32&&(this.isDroppedDown=!0)},e.prototype._hasItems=function(){var t=this.collectionView,e=t?t.sourceCollection:null;return(0,r.hasItems)(t)||e&&e.length&&this.showFilterInput},e.prototype._updateHeader=function(){var t="";if((0,r.isFunction)(this._hdrFormatter))t=this._hdrFormatter(this);else{var e=this.checkedItems;if(e.length>0)if(e.length<=this._maxHdrItems){if(this.headerPath){var n=new r.Binding(this.headerPath);e=e.map((function(t){return n.getValue(t)}))}else if(this.displayMemberPath){var i=new r.Binding(this.displayMemberPath);e=e.map((function(t){return i.getValue(t)}))}this.isContentHtml&&(e=e.map((function(t){return(0,r.toPlainText)(t)}))),this.trimText&&(e=e.map((function(t){return t?t.toString().trim():""}))),t=e.join(", ")}else t=(0,r.format)(this.headerFormat||r.culture.MultiSelect.itemsSelected,{count:e.length})}var o=this.inputElement;t!=o.value&&(o.value=t,this.onTextChanged()),this._updateState()},e._DEF_CHECKED_PATH="$checked",e}(P),k=function(t){function e(e,n){var i=t.call(this,e)||this;i._closing=!1,i._cmd=null,i._cmdPath=null,i._cmdParamPath=null,i._subPath=null,i._owner=null,i._isButton=!1,i._openOnHover=!1,i._closeOnLeave=!0,i._subMenu=null,i._hoverEnterBnd=i._hoverEnter.bind(i),i._hoverLeaveBnd=i._hoverLeave.bind(i),i._hoverOverBnd=i._hoverOver.bind(i),i.itemClicked=new r.Event;var o=i.hostElement,s=i._tbx,a=i._lbx,l=i.dropDown;return(0,r.addClass)(o,"wj-menu"),s.style.display="none",i._hdr=i._elRef=(0,r.createElement)('<div wj-part="header" class="wj-form-control"/>'),s.parentElement.insertBefore(i._hdr,i._tbx),o.tabIndex=i.isDisabled?-1:i._orgTabIndex,i.isRequired=!1,(0,r.setAttribute)(o,"role","menubar",!0),(0,r.setAttribute)(s,"role",null),(0,r.setAttribute)(s,"aria-autocomplete",null),(0,r.setAttribute)(s,"aria-owns",null),(0,r.setAttribute)(l,"role","menu"),a.itemRole="menuitem","SELECT"==i._orgTag&&(i.header=o.getAttribute("header"),i._lbx.itemsSource&&(i.commandParameterPath="cmdParam")),i.isContentHtml=!0,i.maxDropDownHeight=500,i.addEventListener(i._hdr,"click",(function(t){t.defaultPrevented||(i._clearHover(t),i._isButton?(i.isDroppedDown=!1,i._raiseCommand()):i.isDroppedDown=!i.isDroppedDown)})),a.lostFocus.addHandler((function(){i.containsFocus()||(i.isDroppedDown=!1)})),(0,r.addClass)(l,"wj-menu-items"),a.formatItem.addHandler(i._formatMenuItem.bind(i)),i.initialize(n),i}return s(e,t),Object.defineProperty(e.prototype,"header",{get:function(){return this._hdr.innerHTML},set:function(t){this._hdr.innerHTML=(0,r.asString)(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"command",{get:function(){return this._cmd},set:function(t){this._cmd=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"commandPath",{get:function(){return this._cmdPath},set:function(t){this._cmdPath=(0,r.asString)(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"commandParameterPath",{get:function(){return this._cmdParamPath},set:function(t){this._cmdParamPath=(0,r.asString)(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"subItemsPath",{get:function(){return this._subPath},set:function(t){t!=this._subPath&&(this._subPath=t,this.refresh(!0))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"openOnHover",{get:function(){return this._openOnHover},set:function(t){this._openOnHover=(0,r.asBoolean)(t),this._updateHoverEvents()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"closeOnLeave",{get:function(){return this._closeOnLeave},set:function(t){this._closeOnLeave=(0,r.asBoolean)(t),this._updateHoverEvents()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isButton",{get:function(){return this._isButton},set:function(t){this._isButton=(0,r.asBoolean)(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"owner",{get:function(){return this._owner},set:function(t){this._owner=(0,r.asType)(t,HTMLElement,!0),this._enableDisableItems()},enumerable:!0,configurable:!0}),e.prototype.show=function(t){if(!this.isDroppedDown&&(this.selectedIndex=-1,this.onIsDroppedDownChanging(new r.CancelEventArgs))){var e=this.dropDown,n=this.owner;!n&&t instanceof MouseEvent&&(n=t.target),n instanceof HTMLElement&&(e[r.Control._OWNR_KEY]=n),t instanceof MouseEvent&&this.openOnHover&&this.closeOnLeave&&(t=new r.Point(t.pageX-pageXOffset-2,t.pageY-pageYOffset-2)),(0,r.showPopup)(e,t,!1,this.isAnimated),this.onIsDroppedDownChanged(),e.focus()}},e.prototype.hide=function(){this.isDroppedDown&&this.onIsDroppedDownChanging(new r.CancelEventArgs)&&((0,r.hidePopup)(this.dropDown),this.onIsDroppedDownChanged())},e.prototype.onItemClicked=function(t){this.itemClicked.raise(this,t)},e.prototype.refresh=function(e){void 0===e&&(e=!0),t.prototype.refresh.call(this,e),this.hostElement&&this._enableDisableItems()},e.prototype.onIsDroppedDownChanged=function(e){if(t.prototype.onIsDroppedDownChanged.call(this,e),this.isDroppedDown)this._closing=!0,this._defaultItem=this.selectedItem,this.isRequired=!1,this.selectedIndex=-1,this._enableDisableItems(),this._closing=!1,this.dropDown.focus();else{this.selectedItem||(this.selectedItem=this._defaultItem);var n=this._subMenu;n&&(n.isDroppedDown=!1)}},e.prototype._updateHoverEvents=function(){var t=this.hostElement,e=this.dropDown,n=this.addEventListener.bind(this),i=this.removeEventListener.bind(this),r="mouseleave";i(t,"mouseenter",this._hoverEnterBnd),i(t,r,this._hoverLeaveBnd),i(e,"mouseover",this._hoverOverBnd),i(e,r,this._hoverLeaveBnd),this._openOnHover&&(n(t,"mouseenter",this._hoverEnterBnd),n(e,"mouseover",this._hoverOverBnd),this._closeOnLeave&&(n(t,r,this._hoverLeaveBnd),n(e,r,this._hoverLeaveBnd)))},e.prototype._getSubItems=function(t){var e=this.subItemsPath,n=t&&e?t[e]:null;return(0,r.isArray)(n)&&n.length?n:null},e.prototype._formatMenuItem=function(t,e){var n=e.item;this._getSubItems(e.data)?(0,r.addClass)(n,"wj-subitems"):"-"==n.innerHTML&&(n.innerHTML="",(0,r.addClass)(n,"wj-separator"))},e.prototype._keydown=function(n){if(!n.defaultPrevented){var i=this._getKeyCode(n);if(this.isDroppedDown)switch(i){case r.Key.Enter:case r.Key.Right:if(this._showSubMenu())return void n.preventDefault();break;case r.Key.Left:var o=r.Control.getControl(this.owner);if(o instanceof e){var s=o.dropDown,a=o.selectedIndex;return(a>-1?s.children[a]:s).focus(),void n.preventDefault()}}i==r.Key.Enter&&(this.isDroppedDown?this.selectedIndex>-1&&this._raiseCommand():(this.isDroppedDown=!0,n.preventDefault()))}t.prototype._keydown.call(this,n)},e.prototype._dropDownClick=function(e){if(!e.defaultPrevented&&e.target!=this.dropDown){if(this._clearHover(e),this._showSubMenu())return void e.preventDefault();this.selectedIndex>-1&&this._raiseCommand()}t.prototype._dropDownClick.call(this,e)},e.prototype._showSubMenu=function(){var t=this,n=this._getSubItems(this.selectedItem);if(!n)return null;var i=this.dropDown.children[this.selectedIndex].getBoundingClientRect(),o=new r.Point(i.right,i.top);if(0==i.height)return null;var s=this.rightToLeft||"rtl"==this.dropDown.getAttribute("dir");s&&(o.x=i.left);var a=this._subMenu;a&&(a.isDroppedDown=!1),a=new e(document.createElement("div"),{owner:this.hostElement,itemsSource:n,itemClicked:function(e,n){t.itemClicked.raise(e,n)},formatItem:function(e,n){t.formatItem.raise(e,n)}});var l=this.collectionView,h=a.collectionView;l&&l.filter&&h&&!h.filter&&(h.filter=l.filter),"displayMemberPath,selectedValuePath,isContentHtml,command,commandPath,commandParameterPath,maxDropDownWidth,maxDropDownHeight,dropDownCssClass,isAnimated,subItemsPath,openOnHover,closeOnLeave".split(",").forEach((function(e){a[e]=t[e]}));var u=a.dropDown;return(0,r.setAttribute)(u,"dir",s?"rtl":null),a.show(o),u[r.Control._OWNR_KEY]=this.dropDown,u.focus(),a},e.prototype._raiseCommand=function(t){var n=this.selectedItem,i=this._getSubItems(n),o=this._getCommand(n);if(o&&!i){var s=this._getCommandParm(n);if(!this._canExecuteCommand(o,s))return;this._executeCommand(o,s)}var a=this.headerPath;if(a){var l=new r.Binding(a).getValue(n);l=null==l?"":l.toString(),this.header=this.isContentHtml?l:(0,r.escapeHtml)(l)}if(this.onItemClicked(t),this.containsFocus()){for(var h=this;h&&h.owner;){var u=r.Control.getControl(h.owner);if(!(u instanceof e))break;h=u}var c=h.owner;if(!c&&h.dropDown&&(c=h.dropDown[r.Control._OWNR_KEY]),h.isDroppedDown=!1,h.focus(),!h.containsFocus()&&c instanceof HTMLElement&&c.offsetHeight)if(r.isIE){var p=document.documentElement,d=p.scrollLeft,f=p.scrollTop;c.focus(),p.scrollLeft=d,p.scrollTop=f}else c.focus()}},e.prototype._getCommand=function(t){return(t&&this._cmdPath?t[this._cmdPath]:null)||this._cmd},e.prototype._getCommandParm=function(t){var e=this._cmdParamPath;return t&&e?t[e]:t},e.prototype._executeCommand=function(t,e){t&&!(0,r.isFunction)(t)&&(t=t.executeCommand),(0,r.isFunction)(t)&&t(e)},e.prototype._canExecuteCommand=function(t,e){if(t){var n=t.canExecuteCommand;if((0,r.isFunction)(n))return n(e)}return!0},e.prototype._enableDisableItems=function(){if(this.collectionView&&(this._cmd||this._cmdPath))for(var t=this.collectionView.items,e=0;e<t.length;e++){var n=t[e],i=this._getCommand(n);if(i){var o=this._lbx.hostElement.children[e],s=this._getCommandParm(n);(0,r.toggleClass)(o,"wj-state-disabled",!this._canExecuteCommand(i,s))}}},e.prototype._clearHover=function(t){this._toHover&&clearTimeout(this._toHover),this._toHover=null,e._evtHover=t},e.prototype._isTargetDisabled=function(t){return(0,r.hasClass)(t.target,"wj-state-disabled")},e.prototype._hoverEnter=function(t){var e=this;this._clearHover(t),this._toHover=setTimeout((function(){e._toHover=null,e.isDroppedDown=!0}),r.Control._HOVER_DELAY)},e.prototype._hoverOver=function(t){var e=this;this._clearHover(t),this._toHover=setTimeout((function(){e._toHover=null;var n=e.listBox.indexOf(t.target);n>-1&&!(0,r.hasClass)(t.target,"wj-state-disabled")&&(e.selectedIndex=n,e._subMenu=e._showSubMenu())}),r.Control._HOVER_DELAY)},e.prototype._hoverLeave=function(t){var n=this;this._clearHover(t),this.isDroppedDown&&(this._toHover=setTimeout((function(){var i=(t=e._evtHover)?document.elementFromPoint(t.clientX,t.clientY):null,o=(0,r.closest)(i,".wj-listbox.wj-menu-items"),s=n._subMenu;o||(0,r.contains)(n.hostElement,i,!0)||(n.isDroppedDown=!1,s&&(s.isDroppedDown=!1))}),r.Control._LEAVE_DELAY))},e.prototype._setIsDisabled=function(e){t.prototype._setIsDisabled.call(this,e),this.hostElement.tabIndex=this.isDisabled?-1:this._orgTabIndex},e.prototype._setTabOrder=function(e){t.prototype._setTabOrder.call(this,e),this.hostElement.tabIndex=this.isDisabled?-1:this._orgTabIndex},e}(P),S=function(t){function e(e,n){var i=t.call(this,e)||this;if(i._format="t",i.valueChanged=new r.Event,(0,r.addClass)(i.hostElement,"wj-inputtime"),i.isEditable=!0,i._value=r.DateTime.newDate(),i._min=i._max=null,i._msk=new r._MaskProvider(i._tbx),(0,r.isIE9)()||(i._tbx.type="tel"),"INPUT"==i._orgTag){var o=i._tbx.getAttribute("value");o&&(i.value=r.Globalize.parseDate(o,"HH:mm:ss"))}return i.step=15,i.autoExpandSelection=!0,i.initialize(n),i}return s(e,t),Object.defineProperty(e.prototype,"inputElement",{get:function(){return this._tbx},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"inputType",{get:function(){return this._tbx.type},set:function(t){this._tbx.type=(0,r.asString)(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){return this._value},set:function(t){(t=(0,r.asDate)(t,!this.isRequired))&&(t=this._clamp(t)),this._setText(t?r.Globalize.format(t,this.format):"",!0),this.selectedItem&&this.selectedItem.value&&(t=r.DateTime.fromDateTime(t,this.selectedItem.value)),t==this._value||r.DateTime.equals(t,this._value)||(this._value=t,this.onValueChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"text",{get:function(){return this._tbx.value},set:function(t){t!=this.text&&(this._setText(t,!0),this._commitText())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"min",{get:function(){return this._min},set:function(t){this._min=(0,r.asDate)(t,!0),this.isDroppedDown=!1,this._updateItems()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"max",{get:function(){return this._max},set:function(t){this._max=(0,r.asDate)(t,!0),this.isDroppedDown=!1,this._updateItems()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"step",{get:function(){return this._step},set:function(t){t!=this.step&&(this._step=(0,r.asNumber)(t,!0),this.isDroppedDown=!1,this._updateItems())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"format",{get:function(){return this._format},set:function(t){t!=this.format&&(this._format=(0,r.asString)(t),this._tbx.value=r.Globalize.format(this.value,this.format),(0,r.hasItems)(this.collectionView)&&this._updateItems())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"mask",{get:function(){return this._msk.mask},set:function(t){this._msk.mask=(0,r.asString)(t)},enumerable:!0,configurable:!0}),e.prototype.onValueChanged=function(t){this.valueChanged.raise(this,t)},e.prototype.onItemsSourceChanged=function(e){t.prototype.onItemsSourceChanged.call(this,e),this._hasCustomItems=null!=this.itemsSource},e.prototype.refresh=function(e){void 0===e&&(e=!0),t.prototype.refresh.call(this,e),this.hostElement&&(this._msk.refresh(),this._tbx.value=r.Globalize.format(this.value,this.format),this._updateItems())},e.prototype.onSelectedIndexChanged=function(e){if(this.selectedIndex>-1&&!this._settingText){var n=this.value?this.value:r.DateTime.newDate(),i=null!=this.selectedItem.value?this.selectedItem.value:r.Globalize.parseDate(this.text,this.format,this.value);this.value=r.DateTime.fromDateTime(n,i)}t.prototype.onSelectedIndexChanged.call(this,e)},e.prototype._clamp=function(t){return null!=this._min&&this._getTime(t)<this._getTime(this._min)&&(t=r.DateTime.fromDateTime(t,this._min)),null!=this._max&&this._getTime(t)>this._getTime(this._max)&&(t=r.DateTime.fromDateTime(t,this._max)),t},e.prototype._wheel=function(e){if(!e.defaultPrevented&&!this.isDroppedDown&&!this.isReadOnly&&this.containsFocus()&&this.selectedIndex<0&&this.value&&(0,r.isNumber)(this.step)&&this.step>0){var n=r.DateTime.addMinutes(this.value,this.step*(0,r.clamp)(e.deltaY,-1,1));this.value=this._clamp(n),this.selectAll(),e.preventDefault()}t.prototype._wheel.call(this,e)},e.prototype._updateInputSelection=function(e){if(this._delKey)t.prototype._updateInputSelection.call(this,e);else{for(var n=this._tbx.value;e<n.length&&!n[e].match(/[a-z0-9]/i);)e++;(0,r.setSelectionRange)(this._tbx,e,this._tbx.value.length)}},e.prototype._updateItems=function(){if(!this._hasCustomItems){var t=[],e=new Date(2020,0),n=new Date(2020,0,1,23,59,59),i=this.step;if(this.min&&e.setHours(this.min.getHours(),this.min.getMinutes(),this.min.getSeconds()),this.max&&n.setHours(this.max.getHours(),this.max.getMinutes(),this.max.getSeconds()),(0,r.isNumber)(i)&&i>=1)for(var o=e;o<=n;o=r.DateTime.addMinutes(o,i))t.push({value:o,text:r.Globalize.format(o,this.format)});var s=this.value;this._settingText=!0,this.displayMemberPath="text",this.selectedValuePath="text",this.itemsSource=t,this._hasCustomItems=!1,this._settingText=!1,!s&&this.isRequired||(this.value=s)}},e.prototype._getTime=function(t){return 3600*t.getHours()+60*t.getMinutes()+t.getSeconds()},e.prototype._keydown=function(e){if(t.prototype._keydown.call(this,e),!e.defaultPrevented)switch(e.keyCode){case r.Key.Enter:this.isDroppedDown||(this._commitText(),this.selectAll());break;case r.Key.Escape:this.text=r.Globalize.format(this.value,this.format),this.selectAll()}},e.prototype._commitText=function(){if(this.text||this.isRequired){var t=this.value?r.Globalize.format(this.value,this.format):"";if(this.text!=t){var e=this.selectedItem&&this.selectedItem.value?this.selectedItem.value:r.Globalize.parseDate(this.text,this.format,this.value);e?(r.DateTime.sameTime(e,this._clamp(e))||this.onInvalidInput(new r.CancelEventArgs))&&(this.value=r.DateTime.fromDateTime(this.value,e)):this.onInvalidInput(new r.CancelEventArgs)&&(this.text=t)}}else this.value=null},e}(P);(0,r._addCultureInfo)("InputDateTime",{ariaLabels:{tglDate:"Toggle Calendar",tglTime:"Toggle Time List"}});var A=function(t){function e(e,n){var i=t.call(this,e)||this;(0,r.addClass)(i.hostElement,"wj-inputdatetime");var o=r.culture.InputDateTime.ariaLabels;(0,r.setAriaLabel)(i._btn,o.tglDate),(0,r.setAriaLabel)(i._btnTm,o.tglTime),i.value=new Date,i.format="g",i._inputTime=new S(document.createElement("div"),{valueChanged:function(t){var e=i.rangeEnd;i.value=r.DateTime.fromDateTime(i.value,t.value),i.calendar._rngMode()&&e&&(i.rangeEnd=r.DateTime.fromDateTime(e,t.value))},isDroppedDownChanged:function(t){t.listBox.containsFocus()&&i.inputElement.focus(),i._selectAll()}});var s=i.addEventListener.bind(i);i._btnTm=i.hostElement.querySelector('[wj-part="btn-tm"]'),s(i._btnTm,"mousedown",(function(t){i._btnclick(t)})),i._ddDate=i._dropDown;var a=i._ddTime=i._inputTime.dropDown;return s(a,"keydown",i._keydown.bind(i),!0),s(a,"blur",(function(){i._updateFocusState()}),!0),s(a,"click",(function(t){t.defaultPrevented||t.target!=a&&i.hostElement.focus()}),!0),i.initialize(n),i.text=i._getText(),i}return s(e,t),Object.defineProperty(e.prototype,"timeMin",{get:function(){return this._inputTime.min},set:function(t){this._inputTime.min=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"timeMax",{get:function(){return this._inputTime.max},set:function(t){this._inputTime.max=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"timeFormat",{get:function(){return this._inputTime.format},set:function(t){this._inputTime.format=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"timeStep",{get:function(){return this._inputTime.step},set:function(t){this._inputTime.step=t,this._btnTm.style.display=(0,r.isNumber)(t)&&t>0?"":"none"},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"inputTime",{get:function(){return this._inputTime},enumerable:!0,configurable:!0}),e.prototype._fromDateTime=function(t){return t},e.prototype._btnclick=function(e){var n=(0,r.closest)(e.target,"button")==this._btn?this._ddDate:this._ddTime;this._setDropdown(n),t.prototype._btnclick.call(this,e)},e.prototype.dispose=function(){this._setDropdown(this._ddDate),t.prototype.dispose.call(this),this._inputTime.dispose()},e.prototype.refresh=function(e){void 0===e&&(e=!0),this._inputTime.refresh(),t.prototype.refresh.call(this,e)},e.prototype._updateBtn=function(){t.prototype._updateBtn.call(this),this._btnTm&&(this._btnTm.tabIndex=this._btn.tabIndex,this._btnTm.parentElement.style.display=this._btn.style.display)},e.prototype._setDropdown=function(t){if(this._dropDown==t)return!1;this.isDroppedDown&&(this.isDroppedDown=!1);var e=this.dropDownCssClass;return this.dropDownCssClass="",this._dropDown=t,this.dropDownCssClass=e,!0},e.prototype._updateDropDown=function(){var e=this._inputTime;this._dropDown==e.dropDown?(this._commitText(),t.prototype._updateDropDown.call(this),e.isRequired=this.isRequired&&null!=this.value,e.value=this.value,this.isDroppedDown&&e.listBox.showSelection()):t.prototype._updateDropDown.call(this)},e.controlTemplate='<div class="wj-template"><div class="wj-input"><div class="wj-input-group wj-input-btn-visible"><input wj-part="input" type="text" class="wj-form-control"/><span class="wj-input-group-btn"><button wj-part="btn" class="wj-btn wj-btn-default" tabindex="-1"><span class="wj-glyph-calendar"></span></button><button wj-part="btn-tm" class="wj-btn wj-btn-default" tabindex="-1"><span class="wj-glyph-clock"></span></button></span></div></div><div wj-part="dropdown" class="wj-content wj-dropdown-panel"></div></div>',e}(E),O=function(t){function e(e,n){var i=t.call(this,e)||this;return i._cssMatch="wj-state-match",i._minLength=2,i._maxItems=6,i._itemCount=0,i._beginsWith=!1,i._delay=r.Control._SEARCH_DELAY,i._query="",i._inCallback=!1,i._srchProps=[],(0,r.addClass)(i.hostElement,"wj-autocomplete"),i._bsCollapse=!1,i.isEditable=!0,i.isRequired=!1,i.listBox.formatItem.addHandler(i._formatListItem,i),i._itemsSourceFnCallbackBnd=i._itemSourceFunctionCallback.bind(i),i.initialize(n),i}return s(e,t),Object.defineProperty(e.prototype,"minLength",{get:function(){return this._minLength},set:function(t){this._minLength=(0,r.asNumber)(t,!1,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"beginsWithSearch",{get:function(){return this._beginsWith},set:function(t){this._beginsWith=(0,r.asBoolean)(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maxItems",{get:function(){return this._maxItems},set:function(t){this._maxItems=(0,r.asNumber)(t,!1,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"delay",{get:function(){return this._delay},set:function(t){this._delay=(0,r.asNumber)(t,!1,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"searchMemberPath",{get:function(){return this._srchProp},set:function(t){this._srchProp=(0,r.asString)(t),this._srchProps=t?t.trim().split(/\s*,\s*/):[]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"itemsSourceFunction",{get:function(){return this._itemsSourceFn},set:function(t){this._itemsSourceFn=(0,r.asFunction)(t),(0,r.isFunction)(this._itemsSourceFn)&&this.itemsSourceFunction(this.text,this.maxItems,this._itemsSourceFnCallbackBnd)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"cssMatch",{get:function(){return this._cssMatch},set:function(t){this._cssMatch=(0,r.asString)(t)},enumerable:!0,configurable:!0}),e.prototype._keydown=function(e){if(!e.defaultPrevented&&this.isDroppedDown)switch(e.keyCode){case r.Key.Up:case r.Key.Down:this.selectAll()}t.prototype._keydown.call(this,e)},e.prototype._setText=function(t){var e=this;if(!(this._inCallback||this._composing||this._settingText)){if(this.selectedIndex>-1&&this.getDisplayText()!=t&&(this._settingText=!0,this.selectedIndex=-1,this._settingText=!1),t!=this._oldText){var n=this._tbx;n.value!=t&&(n.value=t),this._oldText=t,this.onTextChanged();var i=this.collectionView;if(!t&&i){(this._query||this.selectedIndex<0)&&(this.isDroppedDown=!1),this._query=this._rxHighlight=null,i.filter=null;var o=this.itemsSourceFunction;return void((0,r.isFunction)(o)&&(this.isDroppedDown=!1,o(this._query,this.maxItems,this._itemsSourceFnCallbackBnd)))}}this._toSearch&&clearTimeout(this._toSearch),t!=this.getDisplayText()&&(this._toSearch=setTimeout((function(){e._toSearch=null;var t=e.text.trim();if(t.length>=e._minLength&&t!=e._query){e._query=t,t=(0,r.escapeRegExp)(t);var n=(0,r.escapeHtml)(t),i=e.caseSensitiveSearch?"":"i";e._beginsWith||(i+="g"),e._rxSrch=e._beginsWith?new RegExp("^"+t+".*",i):new RegExp("(?=.*"+t.replace(/ /g,")(?=.*")+")",i),e._rxHighlight=new RegExp("("+n.replace(/\s+/g,"|")+")",i);var o=e.itemsSourceFunction;(0,r.isFunction)(o)?o(e._query,e.maxItems,e._itemsSourceFnCallbackBnd):e._updateItems()}}),this._delay))}},e.prototype._itemSourceFunctionCallback=function(t){this._inCallback=!0;var e=(0,r.asCollectionView)(t||[]);if(e.moveCurrentToPosition(-1),this.itemsSource=e,this._inCallback=!1,this.containsFocus()){var n=this._tbx,i=n.selectionStart,o=n.selectionEnd,s=this.collectionView;this.isDroppedDown=null!=s&&s.items.length>0,(0,r.setSelectionRange)(n,i,o),this.refresh()}},e.prototype.onIsDroppedDownChanged=function(e){if(t.prototype.onIsDroppedDownChanged.call(this,e),this.containsFocus()&&!this.isTouching){var n=this.collectionView;if(this.selectedIndex<0&&n){var i=n.items,o=this.text;1==i.length&&i[0]==o?this.selectedIndex=0:(0,r.setSelectionRange)(this._tbx,o.length)}}this._query=""},e.prototype._updateItems=function(){var t=this.collectionView;if(t){this._inCallback=!0,t.beginUpdate(),this._itemCount=0,t.filter=this._filter.bind(this),t.moveCurrentToPosition(-1),t.endUpdate(),this._inCallback=!1;var e=t.items.length,n=this._tbx,i=n.selectionStart,o=n.selectionEnd;if(this.isDroppedDown=e>0&&this.containsFocus(),e||this.isEditable||(this.selectedIndex=-1),1==e&&this.selectedIndex<0){var s=this._getItemText(t.items[0],!1),a=n.value;this.caseSensitiveSearch||(s=s.toLowerCase(),a=a.toLowerCase()),s==a&&(this.selectedIndex=0)}this.isDroppedDown&&(0,r.setSelectionRange)(n,i,o),this.refresh()}},e.prototype._filter=function(t){if(this._itemCount>=this._maxItems)return!1;var e=[this._getItemText(t,!1)];this._srchProps&&this._srchProps.forEach((function(n){var i=t[n];null!=i&&e.push(i)})),this.isContentHtml&&(e=e.map((function(t){return t.replace(/(<[^>]*>|&[^;]*;)/g,"")})));for(var n=0;n<e.length;n++)if(this._rxSrch.test(e[n]))return this._itemCount++,!0;return!1},e.prototype._getItemText=function(t,e){var n=t?t.toString():"",i=e&&this.headerPath?this._pathHdr:this._lbx._pathDisplay;return i&&(n=null!=(n=i.getValue(t))?n.toString():""),n},e.prototype._formatListItem=function(t,e){var n=this;this._cssMatch&&this._rxHighlight&&(e.item.innerHTML=e.item.innerHTML.replace(this._rxHighlight,(function(t,e,i,r){return n._enclosed(r,i,"<",">")||n._enclosed(r,i,"&",";")?t:'<span class="'+n._cssMatch+'">'+t+"</span>"})))},e.prototype._enclosed=function(t,e,n,i){for(var r=e;r>=0&&t[r]!=i;r--)if(t[r]==n)for(var o=e;o<t.length&&t[o]!=n;o++)if(t[o]==i)return!0;return!1},e}(P),j=function(t){function e(e,n){var i=t.call(this,e)||this;return i._selItems=[],i._maxSelItems=null,i._lastInputValue="",i._selPath=new r.Binding(null),i._notAddItm=!1,i.selectedItemsChanged=new r.Event,(0,r.addClass)(i.hostElement,"wj-multi-autocomplete"),i._wjTpl=i.hostElement.querySelector(".wj-template"),i._wjInput=i.hostElement.querySelector(".wj-input"),i.showDropDownButton=!1,i.initialize(n),i.addEventListener(i.hostElement,"keyup",i._keyup.bind(i),!0),i.addEventListener(window,"resize",i._adjustInputWidth.bind(i)),i.addEventListener(i._tbx,"focus",(function(){i._itemOff()})),i._addHelperInput(),i._initSeltems(),i.listBox.itemsChanged.addHandler((function(){return i.selectedIndex=-1})),i._refreshHeader(),i._updateTabIndex(),i}return s(e,t),Object.defineProperty(e.prototype,"showDropDownButton",{set:function(t){this._showBtn=!1},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maxSelectedItems",{get:function(){return this._maxSelItems},set:function(t){this._maxSelItems!=t&&(this._maxSelItems=(0,r.asNumber)(t,!0),this._updateMaxItems(),this._refreshHeader(),this._clearSelIndex())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"selectedMemberPath",{get:function(){return this._selPath.path},set:function(t){(t=(0,r.asString)(t))!==this.selectedMemberPath&&(this._selPath.path=t,this._initSeltems(),this._refreshHeader(),this.onSelectedItemsChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"selectedItems",{get:function(){return this._selItems},set:function(t){if(this._selItems=(0,r.asArray)(t),this.selectedMemberPath&&""!==this.selectedMemberPath&&this._selItems)for(var e=0;e<this._selItems.length;e++){var n=this._selItems[e];this._setSelItem(n,!1)}this._updateMaxItems(),this.onSelectedItemsChanged(),this._refreshHeader(),this._clearSelIndex()},enumerable:!0,configurable:!0}),e.prototype.onSelectedItemsChanged=function(t){this.selectedItemsChanged.raise(this,t)},e.prototype.onIsDroppedDownChanged=function(e){!this.isDroppedDown&&this.selectedIndex>-1&&!this._notAddItm&&this._addItem(!0),this._notAddItm=!1,t.prototype.onIsDroppedDownChanged.call(this,e)},e.prototype.refresh=function(e){void 0===e&&(e=!0),t.prototype.refresh.call(this,e),this.hostElement&&(this._initSeltems(),this.isDroppedDown||this._refreshHeader())},e.prototype._keydown=function(e){if(!this.isReadOnly){if(!e.defaultPrevented)switch(e.keyCode){case r.Key.Back:this._lastInputValue=this._tbx.value;break;case r.Key.Enter:this._itemOff(),this._addItem(!0),(0,r.isIE)()&&(0,r.setSelectionRange)(this._tbx,this._tbx.textContent.length,this._tbx.textContent.length);break;case r.Key.Tab:this.isDroppedDown?(this._addItem(!1),this._tbx.value="",this._lbx.selectedIndex=-1,e.preventDefault()):this._updateFocus();break;case r.Key.Space:if(""!==this._tbx.value)return;this.isDroppedDown||this._tbx.disabled||(this.isDroppedDown=!0,this._clearSelIndex());break;case r.Key.Escape:this.isDroppedDown&&(this._notAddItm=!0);break;case r.Key.Left:this._itemOn(!this.rightToLeft);break;case r.Key.Right:this._itemOn(!!this.rightToLeft);break;case r.Key.Up:case r.Key.Down:var n=(0,r.getActiveElement)();if(e.altKey){if(this._tbx==n)return this.isDroppedDown=!this.isDroppedDown,this.isDroppedDown||this._tbx.focus(),void e.preventDefault()}else if(this._tbx!==n)return;default:if(e.keyCode===r.Key.Back||e.keyCode===r.Key.Delete)return;this._itemOff(),null!=this._maxSelItems&&this._selItems.length>=this._maxSelItems&&e.preventDefault()}this._tbx.disabled||t.prototype._keydown.call(this,e)}},e.prototype._updateState=function(){t.prototype._updateState.call(this),this._wjTpl&&((0,r.hasClass)(this.hostElement,"wj-state-focused")||this._itemOff())},e.prototype._keyup=function(t){if(!this.isReadOnly&&!t.defaultPrevented)switch(t.keyCode){case r.Key.Back:0===this._tbx.value.length&&0===this._lastInputValue.length&&this._delItem(!1);break;case r.Key.Delete:this._delItem(!0)}},e.prototype._addHelperInput=function(){var t=document.createElement("input");t.type="text",t.tabIndex=-1,t.className="wj-token-helper",t.readOnly=!0,this._wjTpl.insertBefore(t,this._wjInput),this._helperInput=t},e.prototype._refreshHeader=function(){for(var t=this.hostElement.querySelectorAll(".wj-token"),e=0;e<t.length;e++)this._wjTpl.removeChild(t[e]);var n=this.selectedItems;if(n&&0!==n.length){for(e=0;e<n.length;e++)this._insertToken(n[e]);this._wjInput.style.cssFloat=this.rightToLeft?"right":"left",this._adjustInputWidth()}else this._wjInput.style.cssFloat=this.rightToLeft?"right":"left",this._adjustInputWidth()},e.prototype._insertToken=function(t){var e=this._getItemText(t,!0);this.isContentHtml||(e=(0,r.escapeHtml)(e)),this._wjTpl.insertBefore(this._createItem(e),this._wjInput)},e.prototype._updateMaxItems=function(){null!=this._maxSelItems&&this._selItems&&this._selItems.length>this._maxSelItems&&(this._selItems=this._selItems.slice(0,this._maxSelItems))},e.prototype._updateFocus=function(){var t=this,n=this._wjTpl.querySelector("."+e._clsActive);n?((0,r.removeClass)(n,e._clsActive),setTimeout((function(){t._tbx.focus()}))):this._clearSelIndex()},e.prototype._addItem=function(t){this.selectedItems.indexOf(this.selectedItem)>-1?this._clearSelIndex():this.selectedIndex>-1&&(this._updateSelItems(this.selectedItem,!0),this._refreshHeader(),t&&this._clearSelIndex(),this._disableInput(!0))},e.prototype._delItem=function(t){var n,i,r=this._wjTpl.querySelector("."+e._clsActive),o=!1;t&&!r||(r?(i=this._getItemIndex(r))>-1&&(n=this._selItems[i],o=!0):this._selItems.length>0&&(n=this._selItems[this._selItems.length-1],o=!0),o&&(this._updateSelItems(n,!1),this._refreshHeader(),this._clearSelIndex(),this._disableInput(!1)),this._tbx.focus())},e.prototype._updateSelItems=function(t,e){if(e){if(this._selItems&&0!==this._selItems.length||(this._selItems=[]),null!=this._maxSelItems&&this._selItems.length>=this._maxSelItems)return;this._selItems.push(t)}else{var n=this._selItems.indexOf(t);this._selItems.splice(n,1)}this._hasSelectedMemeberPath()&&this._setSelItem(t,e),this.onSelectedItemsChanged()},e.prototype._createItem=function(t){var n=this,i=document.createElement("div"),o=document.createElement("span"),s=document.createElement("a");return i.appendChild(o),i.appendChild(s),i.className="wj-token",o.className="wj-token-label",o.innerHTML=t,s.className="wj-token-close",s.href="#",s.tabIndex=-1,s.text="×",i.style.cssFloat=this.rightToLeft?"right":"left",this.addEventListener(i,"click",(function(t){n._helperInput.focus();var o=n._wjTpl.querySelector("."+e._clsActive);o&&(0,r.removeClass)(o,e._clsActive),(0,r.addClass)(i,e._clsActive),t.stopPropagation(),t.preventDefault()})),this.addEventListener(s,"click",(function(t){if(!n.isReadOnly){var e=n._getItemIndex(i);if(e>-1){var r=n._selItems[e];n._updateSelItems(r,!1)}n._wjTpl.removeChild(i),n._adjustInputWidth(),n._disableInput(!1),n._tbx.focus(),t.stopPropagation(),t.preventDefault()}})),i},e.prototype._itemOn=function(t){var n,i,o,s=(0,r.getActiveElement)();if((this._tbx!=s||0===this._tbx.value.length)&&0!==(n=this._wjTpl.querySelectorAll(".wj-token")).length)if(i=this._wjTpl.querySelector("."+e._clsActive),o=this._getItemIndex(i),t){if(0===o)return;-1===o?((0,r.addClass)(n[n.length-1],e._clsActive),this._helperInput.focus()):((0,r.removeClass)(i,e._clsActive),(0,r.addClass)(n[o-1],e._clsActive),this._helperInput.focus())}else if(!t){if(-1===o)return;o!==n.length-1?((0,r.removeClass)(i,e._clsActive),(0,r.addClass)(n[o+1],e._clsActive),this._helperInput.focus()):((0,r.removeClass)(i,e._clsActive),this._tbx.focus())}},e.prototype._itemOff=function(){var t=this._wjTpl.querySelector("."+e._clsActive);t&&(0,r.removeClass)(t,e._clsActive)},e.prototype._initSeltems=function(){if(this.selectedMemberPath){this._selItems.splice(0,this._selItems.length);var t=this.collectionView;if(t)for(var e=0;e<t.sourceCollection.length;e++)this._getSelItem(e)&&this._selItems.push(t.sourceCollection[e])}},e.prototype._getSelItem=function(t){var e=this.collectionView,n=e?e.sourceCollection[t]:null;return!(!(0,r.isObject)(n)||!this.selectedMemberPath)&&this._selPath.getValue(n)},e.prototype._setSelItem=function(t,e){this.itemsSource,(0,r.isObject)(t)&&this._selPath.getValue(t)!=e&&this._selPath.setValue(t,e)},e.prototype._clearSelIndex=function(){this.selectedIndex=-1},e.prototype._hasSelectedMemeberPath=function(){return this.selectedMemberPath&&""!==this.selectedMemberPath},e.prototype._disableInput=function(t){null!=this._maxSelItems&&(this._selItems.length<this._maxSelItems?(this._tbx.disabled=!1,this._tbx.focus()):(this._tbx.disabled=!0,this.hostElement.focus()))},e.prototype._adjustInputWidth=function(){this._tbx.style.width="60px";var t,e=(0,r.getElementRect)(this.hostElement),n=(0,r.getElementRect)(this._tbx),i=getComputedStyle(this._tbx),o=parseInt(i.paddingLeft,10),s=parseInt(i.paddingRight,10);t=this.rightToLeft?n.left+n.width-e.left-o-s-8:e.left+e.width-n.left-o-s-8,this._tbx.style.width=t+"px"},e.prototype._getItemIndex=function(t){for(var e=this.hostElement.querySelectorAll(".wj-token"),n=0;n<e.length;n++)if(t===e[n])return n;return-1},e.prototype._setIsDisabled=function(e){t.prototype._setIsDisabled.call(this,e),this._updateTabIndex()},e.prototype._setTabOrder=function(t){this._orgTabIndex=t,this._updateTabIndex()},e.prototype._updateTabIndex=function(){var t=this.hostElement;this._tbx.tabIndex=this.isDisabled?-1:this._orgTabIndex,t.tabIndex=-1},e._clsActive="wj-token-active",e}(O);(0,r._registerModule)("wijmo.input",o)},664:(t,e,n)=>{n.r(e),n.d(e,{Aggregate:()=>Ae,ArrayBase:()=>Le,Binding:()=>B,CancelEventArgs:()=>z,Clipboard:()=>$e,CollectionView:()=>Ve,CollectionViewGroup:()=>Ne,Color:()=>Ie,Control:()=>Ge,ControlBase:()=>qe,DataType:()=>W,DateTime:()=>ve,Event:()=>N,EventArgs:()=>K,Globalize:()=>Te,GroupDescription:()=>Z,Key:()=>G,NotifyCollectionChangedAction:()=>R,NotifyCollectionChangedEventArgs:()=>U,ObservableArray:()=>Be,PageChangingEventArgs:()=>J,Point:()=>ge,PopupPosition:()=>Je,PrintDocument:()=>Ze,PropertyChangedEventArgs:()=>Y,PropertyGroupDescription:()=>$,Rect:()=>be,RequestErrorEventArgs:()=>q,Size:()=>me,SortDescription:()=>X,SortNulls:()=>He,Tooltip:()=>sn,TooltipEventArgs:()=>an,_ClickRepeater:()=>Qe,_Map:()=>Ee,_MaskElement:()=>je,_MaskProvider:()=>Oe,_addCultureInfo:()=>Se,_deprecated:()=>Pt,_focusSrv:()=>L,_getActiveElement:()=>ne,_getCalculatedArray:()=>j,_getModule:()=>Ce,_getTargetObject:()=>M,_registerModule:()=>xe,_startDrag:()=>P,_updateCulture:()=>ke,_updateWme:()=>cn,addClass:()=>Gt,animate:()=>_e,asArray:()=>Mt,asBoolean:()=>At,asCollectionView:()=>Rt,asDate:()=>Ot,asEnum:()=>Ft,asFunction:()=>jt,asInt:()=>St,asNumber:()=>kt,asString:()=>Tt,asType:()=>Lt,assert:()=>It,changeType:()=>bt,clamp:()=>Et,closest:()=>ue,closestClass:()=>ce,contains:()=>he,controlBaseClass:()=>Ke,copy:()=>Dt,createElement:()=>ae,culture:()=>Pe,disableAutoComplete:()=>Qt,enable:()=>pe,escapeHtml:()=>Vt,escapeRegExp:()=>zt,evalTemplate:()=>xt,format:()=>yt,getActiveElement:()=>ee,getAggregate:()=>Me,getElement:()=>se,getElementRect:()=>de,getEventOptions:()=>E,getType:()=>gt,getTypes:()=>mt,getUniqueId:()=>ft,getVersion:()=>Q,glbz:()=>wt,hasClass:()=>qt,hasItems:()=>Ht,hidePopup:()=>en,httpRequest:()=>ye,isArray:()=>ct,isBoolean:()=>at,isDate:()=>ut,isEdge:()=>g,isEmpty:()=>dt,isFirefox:()=>p,isFunction:()=>lt,isIE:()=>b,isIE10:()=>x,isIE9:()=>y,isInt:()=>st,isMobile:()=>l,isNullOrWhiteSpace:()=>rt,isNumber:()=>ot,isObject:()=>pt,isPrimitive:()=>nt,isSafari:()=>f,isString:()=>it,isUndefined:()=>ht,isiOS:()=>u,mouseToPage:()=>_t,moveFocus:()=>ie,removeChild:()=>te,removeClass:()=>Wt,saveFile:()=>oe,setAriaLabel:()=>Zt,setAttribute:()=>Xt,setChecked:()=>Jt,setCss:()=>fe,setLicenseKey:()=>tt,setSelectionRange:()=>$t,setText:()=>le,showPopup:()=>tn,supportsFocusOptions:()=>I,toFixed:()=>vt,toHeaderCase:()=>Bt,toPlainText:()=>Yt,toggleClass:()=>Ut,tryCast:()=>et});var i,r=n(664),o=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s="undefined"!=typeof navigator?navigator.userAgent:"",a=null!=s.match(/iPad|iPhone|iPod|Android|webOS|BlackBerry|Windows Phone/i);function l(){return a}var h=null!=s.match(/iPad|iPhone|iPod/i);function u(){return h}var c=null!=s.match(/Firefox\//);function p(){return c}var d=null!=s.match(/^((?!Chrome|Android).)*safari/i);function f(){return d}var _=null!=s.match(/Edge\//);function g(){return _}var m=null!=s.match(/MSIE |Trident\/|Edge\//);function b(){return m}var v=!1;function y(){return v}var w=!1;function x(){return w}var C=!1;function E(t,e){return C?{capture:t,passive:e}:t}"undefined"!=typeof document&&document.addEventListener("test",(function(t){}),{get passive(){return C=!0,!0}});var D=!1;function I(){return D}function P(t,e){t.effectAllowed=e,p()&&t.setData("text","")}if("undefined"!=typeof document&&document.createElement("div").focus({get preventScroll(){return D=!0,!0}}),"undefined"!=typeof document&&document.doctype&&(navigator.appVersion.indexOf("MSIE 10")>-1&&(w=!0),navigator.appVersion.indexOf("MSIE 9")>-1&&(v=!0,document.addEventListener("mousemove",(function(t){if(1==t.which){var e=ue(t.target,".wj-control");if(e&&!e.style.cursor)for(var n=t.target;n;n=n.parentElement)if(n.attributes&&n.attributes.draggable)return n.dragDrop(),!1}})))),"undefined"!=typeof window){var T="requestAnimationFrame";if(!window[T]){var k=0;window[T]=function(t){var e=Date.now(),n=16-(e-k),i=n>0?n:0;return k=e+i,setTimeout((function(){t(k)}),i)},window.cancelAnimationFrame=clearTimeout}if(!window.atob){var S="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",A=new RegExp("[^"+S+"]");window.atob=function(t){var e,n,i,r,o=[],s=0,a=t.length;if(A.test(t)||/=/.test(t)&&(/=[^=]/.test(t)||/={3}/.test(t)))throw new Error("Invalid base64 data");for(a%4>0&&(a=(t+=Array(4-a%4+1).join("=")).length);s<a;){for(n=[],r=s;s<r+4;)n.push(S.indexOf(t.charAt(s++)));for(i=[((e=(n[0]<<18)+(n[1]<<12)+((63&n[2])<<6)+(63&n[3]))&255<<16)>>16,64===n[2]?-1:(65280&e)>>8,64===n[3]?-1:255&e],r=0;r<3;++r)(i[r]>=0||0===r)&&o.push(String.fromCharCode(i[r]))}return o.join("")},window.btoa=function(t){for(var e,n,i=[],r=0,o=t.length;r<o;)e=((n=[t.charCodeAt(r++),t.charCodeAt(r++),t.charCodeAt(r++)])[0]<<16)+((n[1]||0)<<8)+(n[2]||0),i.push(S.charAt((e&63<<18)>>18),S.charAt((258048&e)>>12),S.charAt(isNaN(n[1])?64:(4032&e)>>6),S.charAt(isNaN(n[2])?64:63&e));return i.join("")}}}var O="undefined"!=typeof window&&window.Symbol?Symbol("_getProxyTarget"):"\t_get\tProxy\tTarget\t";function j(t,e,n){var i=new WeakMap;if(!n){var r={};if(t.length){var o=t[0];for(var s in o){var a=typeof o[s];r[s]="string"==a?"":"number"==a?0:null}n=r}}return new Proxy(t,{get:function(t,r){if(r===O)return t;if("string"==typeof r||"number"==typeof r){if("indexOf"==r)return function(e,n){var i=t.indexOf(e,n);return i<0&&e&&(e=e[O])&&(i=t.indexOf(e,n)),i};var o=parseInt(r);if(!isNaN(o)){var s=t[o];if(s&&!s[O]){var a=i.get(s);a||(a=function(t,e,n){if(!t[O]){if(b())for(var i in e)t[i]=null;var r={get:function(t,i,r){if(i===O)return t;if("constructor"===i)return function(){return Object.assign({},n||{})};var o=e[i];if(o)switch(typeof o){case"function":return o(r);case"string":return function(t,e){var n=[e];return(new(Function.bind.apply(Function,[void 0].concat(["$"],["return "+t])))).apply(void 0,n)}(o,r)}return t[i]}};b()||(r.ownKeys=function(t){return Object.keys(t).concat(Object.keys(e))},r.getOwnPropertyDescriptor=function(t,n){return n in e?{enumerable:!0,configurable:!0,writable:!1}:Reflect.getOwnPropertyDescriptor(t,n)}),t=new Proxy(t,r)}return t}(s,e,n),i.set(s,a)),s=a}return s}}return Reflect.get(t,r)}})}function M(t){return(t?t[O]:null)||t}var L,F=function(){function t(){this._hasDoc="undefined"!=typeof Document,this._ae=this._nativeAe();var t=window,e=this._onBlur.bind(this),n=this._onFocus.bind(this);t.addEventListener("focusout",e,!0),t.addEventListener("focusin",n,!0),b()||(t.addEventListener("blur",e,!0),t.addEventListener("focus",n,!0))}return Object.defineProperty(t.prototype,"activeElement",{get:function(){var e=this._ae,n=this._nativeAe();return e===t._noAe?e=this._ae=n:e!=n&&(this._isSpecialRoot(e)||document.body.contains(e)||(e=this._ae=n)),e!==t._noAe?e:null},enumerable:!0,configurable:!0}),t.prototype._onBlur=function(t){if(t.isTrusted){var e=t.relatedTarget;this._ae=this._isSpecialRoot(e)?this._nativeAe():e}},t.prototype._onFocus=function(t){t.isTrusted&&(this._ae=this._nativeAe())},t.prototype._isSpecialRoot=function(t){return null==t||t===document.body||this._hasDoc&&t instanceof Document},t.prototype._nativeAe=function(){var e;try{e="unknown"!=typeof document.activeElement?document.activeElement:t._noAe}catch(n){e=t._noAe}return e},t._noAe={},t}();"undefined"!=typeof window&&(L=new F);var R,H,B=function(){function t(t){this.path=t}return Object.defineProperty(t.prototype,"path",{get:function(){return this._path},set:function(t){this._path=t,this._parts=t?t.split("."):[];for(var e=0;e<this._parts.length;e++){var n=this._parts[e],i=n.indexOf("[");i>-1&&(this._parts[e]=n.substr(0,i),this._parts.splice(++e,0,parseInt(n.substr(i+1))))}this._key=1==this._parts.length?this._parts[0]:null},enumerable:!0,configurable:!0}),t.prototype.getValue=function(t){if(t){if(this._key)return t[this._key];if(this._path&&this._path in t)return t[this._path];for(var e=0;e<this._parts.length&&t;e++)t=t[this._parts[e]]}return t},t.prototype.setValue=function(t,e){if(t)try{var n=this._path;if(n in t)return t[n]=e,t[n]==e;for(var i=0;i<this._parts.length-1;i++)if(null==(t=t[this._parts[i]]))return!1;return t[n=this._parts[this._parts.length-1]]=e,t[n]==e}catch(t){return!1}return!1},t}(),V=function(t,e){this.handler=t,this.self=e},N=function(){function t(t){this._handlers=[],this._handlersChanged=t}return t.prototype.addHandler=function(t,e){t=jt(t),this._handlers.push(new V(t,e)),lt(this._handlersChanged)&&this._handlersChanged()},t.prototype.removeHandler=function(t,e){var n=!1;t=jt(t);for(var i=0;i<this._handlers.length;i++){var r=this._handlers[i];if(!(r.handler!=t&&null!=t||r.self!=e&&null!=e)&&(this._handlers.splice(i--,1),n=!0,t&&e))break}n&&lt(this._handlersChanged)&&this._handlersChanged()},t.prototype.removeAllHandlers=function(){var t=this._handlers.length>0;this._handlers.length=0,t&&lt(this._handlersChanged)&&this._handlersChanged()},t.prototype.raise=function(t,e){void 0===e&&(e=K.empty);for(var n=this._handlers,i=0;i<n.length;i++){var r=n[i];r.handler.call(r.self,t,e),n[i]!==r&&i--}},Object.defineProperty(t.prototype,"hasHandlers",{get:function(){return this._handlers.length>0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"handlerCount",{get:function(){return this._handlers.length},enumerable:!0,configurable:!0}),t}(),K=function(){function t(){}return t.empty=new t,t}(),z=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.cancel=!1,e}return o(e,t),e}(K),Y=function(t){function e(e,n,i){var r=t.call(this)||this;return r._name=e,r._oldVal=n,r._newVal=i,r}return o(e,t),Object.defineProperty(e.prototype,"propertyName",{get:function(){return this._name},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"oldValue",{get:function(){return this._oldVal},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"newValue",{get:function(){return this._newVal},enumerable:!0,configurable:!0}),e}(K),q=function(t){function e(e,n){var i=t.call(this)||this;return i._xhr=e,i._msg=n,i}return o(e,t),Object.defineProperty(e.prototype,"request",{get:function(){return this._xhr},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"message",{get:function(){return this._msg},set:function(t){this._msg=t},enumerable:!0,configurable:!0}),e}(z);(H=R||(R={}))[H.Add=0]="Add",H[H.Remove=1]="Remove",H[H.Change=2]="Change",H[H.Reset=3]="Reset";var G,W,U=function(t){function e(e,n,i){void 0===e&&(e=R.Reset),void 0===n&&(n=null),void 0===i&&(i=-1);var r=t.call(this)||this;return r.action=e,r.item=n,r.index=i,r}return o(e,t),e.reset=new e(R.Reset),e}(K),X=function(){function t(t,e){this._bnd=new B(t),this._asc=e}return Object.defineProperty(t.prototype,"property",{get:function(){return this._bnd.path},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ascending",{get:function(){return this._asc},enumerable:!0,configurable:!0}),t}(),J=function(t){function e(e){var n=t.call(this)||this;return n.newPageIndex=e,n}return o(e,t),e}(z),Z=function(){function t(){}return t.prototype.groupNameFromItem=function(t,e){return""},t.prototype.namesMatch=function(t,e){return t===e},t}(),$=function(t){function e(e,n){var i=t.call(this)||this;return i._bnd=new B(e),i._converter=n,i}return o(e,t),Object.defineProperty(e.prototype,"propertyName",{get:function(){return this._bnd.path},enumerable:!0,configurable:!0}),e.prototype.groupNameFromItem=function(t,e){return this._converter?this._converter(t,this.propertyName):this._bnd.getValue(t)},e.prototype.namesMatch=function(t,e){return t===e},e}(Z);function Q(){return"5.20221.842"}function tt(t){Ge._licKey=t}function et(t,e){return null==t?null:it(e)?lt(t.implementsInterface)&&t.implementsInterface(e)?t:null:t instanceof e?t:null}function nt(t){return it(t)||ot(t)||at(t)||ut(t)}function it(t){return"string"==typeof t}function rt(t){return!t||!/\S/.test(t)}function ot(t){return"number"==typeof t}function st(t){return ot(t)&&t==Math.round(t)}function at(t){return"boolean"==typeof t}function lt(t){return"function"==typeof t}function ht(t){return void 0===t}function ut(t){return(t instanceof Date||"[object Date]"===Object.prototype.toString.call(t))&&!isNaN(t.getTime())}function ct(t){return t instanceof Array||Array.isArray(t)||"[object Array]"===Object.prototype.toString.call(t)}function pt(t){return null!=t&&"object"==typeof t&&!ut(t)&&!ct(t)}function dt(t){for(var e in t)return!1;return!0}function ft(t){for(var e=t,n=0;null!=document.getElementById(e);n++)e=t+n;return e}function _t(t){if(t instanceof ge)return t;if(t&&t.touches&&t.touches.length>0&&(t=t.touches[0]),ot(t.clientX)&&ot(t.clientY))return new ge(t.clientX+pageXOffset,t.clientY+pageYOffset);throw"Mouse or touch event expected."}function gt(t){return ot(t)?W.Number:at(t)?W.Boolean:ut(t)?W.Date:it(t)?W.String:ct(t)?W.Array:W.Object}function mt(t,e){if(void 0===e&&(e=1e3),!t)return[];var n=t.length;(e<=0||n<e)&&(e=n);var i=[];if(e){for(var r=Object.keys(t[0]),o={},s=r.slice(),a=0;a<e;a++){for(var l=t[a],h=s.length-1;h>=0;h--){var u=s[h],c=l[u];if(nt(c)){var p=Object.getOwnPropertyDescriptor(t[a],u);o[u]={binding:u,dataType:gt(c),isReadOnly:p&&!p.writable&&!p.set},s.splice(h,1)}}if(!s.length)break}for(a=0;a<r.length;a++){var d=o[r[a]];d&&i.push(d)}}return i}function bt(t,e,n,i){if(null!=t){var r=W;if(it(t))switch(e){case r.Number:var o=Te.parseFloat(t,n);return isNaN(o)?t:o;case r.Date:var s=Te.parseDate(t,n,ut(i)?i:null);return s||n||!t||(s=new Date(t)),s&&isFinite(s.getTime())?s:t;case r.Boolean:switch(t.toLowerCase()){case"true":return!0;case"false":return!1}return t;case r.Array:try{var a=t.split(",").map((function(t){return(t=t.trim()).match(/^(\+|\-)?\d+\.?\d*$/)?t:'"'+t+'"'}));return JSON.parse("["+a.join(",")+"]")}catch(t){}}if(e==W.String)return Te.format(t,n)}return t}function vt(t,e,n){if(n){var i=(a=t.toString()).indexOf("e"),r=a.indexOf(".");if(i>-1){if("-"===a[i+1]){var o=parseFloat(a.substr(i+2)),s=a.substr(0,i);r>-1&&(s=s.substr(0,r)+s.substr(r+1)),a="0."+(Array(o).join("0")+s).substr(0,e),t=parseFloat(a)}}else r>-1&&(a=a.substr(0,r+1+e),t=parseFloat(a))}else{var a=t.toFixed(e);t=parseFloat(a)}return t}function yt(t,e,n){if((t=Tt(t)).match(/\{.*"count".*:.*"when".*:.*\}/))try{var i=JSON.parse(t);if(it(i.count)){var r=e[i.count],o=i.when;if(ot(r)&&pt(o)){var s=o[r]||o.other;it(s)&&(t=s)}}}catch(t){}return t.replace(/\{(.*?)(:(.*?))?\}/g,(function(t,i,r,o){var s=t;return i&&"{"!=i[0]&&e&&(s=new B(i).getValue(e),o&&(s=Te.format(s,o)),n&&(s=n(e,i,o,s))),null==s?"":s}))}function wt(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=[],i=-1;return t[0].forEach((function(e,r){if(r>0&&r!=i){var o=t[r],s=e.match(/^:([a-z][0-9]*\b)/i)||e.match(/^:'(.+?)'/)||e.match(/^:"(.+?)"/);s?(o=Te.format(o,s[1]),e=e.substr(s[0].length)):":"==e&&r<t.length-1&&(ot(o)||ut(o))&&(o=Te.format(o,t[r+1]),e="",i=r+1),n.push(o)}e&&n.push(e)})),n.join("")}function xt(t,e){return b()?(t=t.replace(/:\${([^}]*)}/g,(function(t,n){return":"+Ct(n,e)}))).replace(/\${([^}]*)}(:(([A-Za-z]\d*)|"([^"]+)"|'([^']+)'))?/g,(function(t,n,i,r,o,s,a){var l=Ct(n,e);return r?Te.format(l,o||s||a):l})):Ct(t,e)}function Ct(t,e){(e=e||{}).glbz=wt;var n=Object.keys(e),i=n.map((function(t){return e[t]}));return(b()?new(Function.bind.apply(Function,[void 0].concat(n,["return "+t]))):new(Function.bind.apply(Function,[void 0].concat(n,["return glbz`"+t+"`"])))).apply(void 0,i)}function Et(t,e,n){return null!=t&&(null!=n&&t>n&&(t=n),null!=e&&t<e&&(t=e)),t}function Dt(t,e){if(e)for(var n in e)if("_"!=n[0]){It(n in t,'Unknown property "'+n+'".');var i=e[n];t._copy&&t._copy(n,i)||(t[n]instanceof N?lt(i)&&t[n].addHandler(i):!pt(i)||"undefined"!=typeof Element&&i instanceof Element||!t[n]||"itemsSource"==n?t[n]=i:Dt(t[n],i))}return t}function It(t,e){if(!t){e="** Assertion failed in Wijmo: "+e;var n=new Error;throw it(n.stack)&&(e+=" "+n.stack),e}}function Pt(t,e){console.error('** WARNING: "'+t+'" has been deprecated; please use "'+e+'" instead.')}function Tt(t,e){return void 0===e&&(e=!0),ht(t)&&(t=null),It(e&&null==t||it(t),"String expected."),t}function kt(t,e,n){if(void 0===e&&(e=!1),void 0===n&&(n=!1),It(e&&null==t||ot(t),"Number expected."),n&&t&&t<0)throw"Positive number expected.";return t}function St(t,e,n){if(void 0===e&&(e=!1),void 0===n&&(n=!1),It(e&&null==t||st(t),"Integer expected."),n&&t&&t<0)throw"Positive integer expected.";return t}function At(t,e){return void 0===e&&(e=!1),It(e&&null==t||at(t),"Boolean expected."),t}function Ot(t,e){if(void 0===e&&(e=!1),it(t)){var n=bt(t,W.Date,"r");ut(n)&&(t=n)}return It(e&&null==t||ut(t),"Date expected."),t}function jt(t,e){return void 0===e&&(e=!0),It(e&&null==t||lt(t),"Function expected."),t}function Mt(t,e){return void 0===e&&(e=!0),It(e&&null==t||ct(t),"Array expected."),t}function Lt(t,e,n){return void 0===n&&(n=!1),t=et(t,e),It(n||null!=t,e+" expected."),t}function Ft(t,e,n){if(void 0===n&&(n=!1),null==t&&n)return null;var i=it(t)?e[t]:t;return It(null!=i,'Invalid enum value: "'+t+'"'),ot(i)?i:t}function Rt(t,e){if(void 0===e&&(e=!0),null==t&&e)return null;var n=et(t,"ICollectionView");return null!=n?n:(ct(t)||It(!1,"Array or ICollectionView expected."),new Ve(t))}function Ht(t){return null!=t&&null!=t.items&&t.items.length>0}function Bt(t){return t&&t.length?t[0].toUpperCase()+t.substr(1).replace(/([a-z])([A-Z])/g,"$1 $2"):""}function Vt(t){return t&&it(t)&&(t=t.replace(/[&<>"'\/]/g,(function(t){return Kt[t]}))),null!=t?t.toString():""}!function(t){t[t.Back=8]="Back",t[t.Tab=9]="Tab",t[t.Enter=13]="Enter",t[t.Escape=27]="Escape",t[t.Space=32]="Space",t[t.PageUp=33]="PageUp",t[t.PageDown=34]="PageDown",t[t.End=35]="End",t[t.Home=36]="Home",t[t.Left=37]="Left",t[t.Up=38]="Up",t[t.Right=39]="Right",t[t.Down=40]="Down",t[t.Delete=46]="Delete",t[t.F1=112]="F1",t[t.F2=113]="F2",t[t.F3=114]="F3",t[t.F4=115]="F4",t[t.F5=116]="F5",t[t.F6=117]="F6",t[t.F7=118]="F7",t[t.F8=119]="F8",t[t.F9=120]="F9",t[t.F10=121]="F10",t[t.F11=122]="F11",t[t.F12=123]="F12"}(G||(G={})),function(t){t[t.Object=0]="Object",t[t.String=1]="String",t[t.Number=2]="Number",t[t.Boolean=3]="Boolean",t[t.Date=4]="Date",t[t.Array=5]="Array"}(W||(W={}));var Nt,Kt={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function zt(t){return t.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")}function Yt(t){var e=Tt(t);return it(e)&&e.indexOf("<")>-1&&(Nt||(Nt=document.createElement("div")),Nt.innerHTML=e,e=Nt.textContent),e}function qt(t,e){if(t&&e){if(t instanceof HTMLElement&&t.classList&&!y())return t.classList.contains(e);if(t.getAttribute){var n=new RegExp("(\\s|^)"+e+"(\\s|$)");return t&&n.test(t.getAttribute("class"))}}return!1}function Gt(t,e){if(t&&e){if(t instanceof HTMLElement&&t.classList&&!y())return void(e.indexOf(" ")<0?t.classList.add(e):e.split(" ").forEach((function(e){t.classList.add(e)})));t.setAttribute&&e.split(" ").forEach((function(e){if(!qt(t,e)){var n=t.getAttribute("class");t.setAttribute("class",n?n+" "+e:e)}}))}}function Wt(t,e){if(t&&e){if(t instanceof HTMLElement&&t.classList&&!y())return void(e.indexOf(" ")<0?t.classList.remove(e):e.split(" ").forEach((function(e){t.classList.remove(e)})));t.setAttribute&&e.split(" ").forEach((function(e){if(qt(t,e)){var n=new RegExp("((\\s|^)"+e+"(\\s|$))","g"),i=t.getAttribute("class");(i=i.replace(n," ").replace(/ +/g," ").trim())?t.setAttribute("class",i):t.removeAttribute("class")}}))}}function Ut(t,e,n){null==n&&(n=!qt(t,e)),n?Gt(t,e):Wt(t,e)}function Xt(t,e,n,i){t&&(null!=n?i&&t.getAttribute(e)||t.setAttribute(e,n.toString()):t.removeAttribute(e))}function Jt(t,e){var n=null==e;t.checked=b()?e||n:e,t.indeterminate=n}function Zt(t,e){Xt(t,"aria-label",e)}function $t(t,e,n){if(void 0===n&&(n=e),It(t instanceof HTMLInputElement||t instanceof HTMLTextAreaElement,"INPUT or TEXTAREA element expected"),he(document.body,t)&&!t.disabled&&t.offsetHeight){try{t.setSelectionRange(e,n,"backward")}catch(t){}try{return t.focus(),!0}catch(t){}}return!1}function Qt(t){var e="autocomplete",n=t.getAttribute(e);n&&"on"!=n||t.setAttribute(e,"off"),"autocorrect,autocapitalize,spellcheck".split(",").forEach((function(e){t.setAttribute(e,"spellcheck"==e?"false":"off")}))}function te(t){return t&&t.parentNode?t.parentNode.removeChild(t):null}function ee(){var t=document.activeElement;if(t){var e=t.shadowRoot;e&&e.activeElement&&(t=e.activeElement)}return t}function ne(){var t=L.activeElement;if(t){var e=t.shadowRoot;e&&e.activeElement&&(t=e.activeElement)}return t}function ie(t,e){var n=re(t,e<0),i=0;if(e){var r=n.indexOf(ee());r>-1&&(i=(r+e+n.length)%n.length)}if(i<n.length){var o=n[i];return o.focus(),o instanceof HTMLInputElement&&o.select(),!0}return!1}function re(t,e){void 0===e&&(e=!1);var n=[],i=Array.prototype.slice.call(t.querySelectorAll("input,select,textarea,button,a,div")),r={},o=function(t){return t instanceof HTMLInputElement&&"radio"===t.type};i.forEach((function(t){o(t)&&t.checked&&(r[t.name||""]=!0)})),(i=i.filter((function(t){return!o(t)||t.checked||!r[t.name||""]}))).sort((function(t,e){return t.tabIndex-e.tabIndex}));for(var s=0;s<i.length;s++){var a=i[s];if(a.offsetHeight>0&&a.tabIndex>-1&&!a.disabled&&"hidden"!==window.getComputedStyle(a).visibility&&!ue(a,"[disabled],.wj-state-disabled")){if(a instanceof HTMLAnchorElement&&!a.hasAttribute("href"))continue;if(b()&&!a.hasAttribute("tabindex")){if(a instanceof HTMLDivElement)continue;var l=Ge.getControl(ue(a,".wj-flexgrid"));if(l&&0==l.keyActionTab)continue}if("radio"===a.type&&!a.checked&&n.length>0){var h=n[n.length-1];if("radio"===h.type&&h.name===a.name){e&&(n[n.length-1]=a);continue}}!Ge.getControl(a)&&re(a).length||n.push(a)}}return n}function oe(t,e,n){void 0===n&&(n="text/plain");var i=t instanceof Blob;i||!n.match(/\bcsv\b/i)&&!e.match(/\.csv$/i)||(t="\ufeff"+t);var r=i?t:new Blob([t],{type:n});if(lt(navigator.msSaveOrOpenBlob))navigator.msSaveOrOpenBlob(r,e);else{var o=document.createElement("a"),s=function(t){var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!1,window,0,0,0,0,0,!1,!1,!1,!1,0,null),t.dispatchEvent(e)};if("download"in o){var a=window.URL||window.webkitURL,l=a.createObjectURL(r);o.href=l,o.target="_blank",o.download=e,s(o),o=null,window.setTimeout((function(){a.revokeObjectURL(l)}),3e4)}else{var h=new FileReader;h.onloadend=function(){o.href=h.result,o.download=e,s(o),o=null},h.readAsDataURL(r)}}}function se(t){if(t instanceof Element)return t;if(it(t))try{return document.querySelector(t)}catch(t){}return t&&t.jquery?t[0]:null}function ae(t,e,n){t=t.replace(/\bstyle\s*=\s*"/g,'_wj-style="');var i=document.createElement("div");if(i.innerHTML=t,t.indexOf("_wj-style")>-1)for(var r=i.querySelectorAll("[_wj-style]"),o=function(t){var e=r[t];e.getAttribute("_wj-style").split(";").forEach((function(t){var n=t.split(":");2==n.length&&(e.style[n[0].trim()]=n[1].trim())})),e.removeAttribute("_wj-style")},s=0;s<r.length;s++)o(s);return 1==i.children.length&&(i=i.children[0]),n&&fe(i,n),e&&(e=se(e)).appendChild(i),i}function le(t,e){t.textContent=e||""}function he(t,e,n){for(var i=e;i&&t;){if(i===t)return!0;i=(n?i[Ge._OWNR_KEY]:null)||i.parentNode||i.host}return!1}function ue(t,e){if(t){if(lt(t.closest))return t.closest(e);var n=t.matches||t.webkitMatchesSelector||t.msMatchesSelector||t.mozMatchesSelector;if(n)for(;t&&1===t.nodeType;t=t.parentElement||t.parentNode)if(n.call(t,e))return t}return null}function ce(t,e){return ue(t,"."+e)}function pe(t,e){var n=!e,i="disabled";Ut(t,"wj-state-disabled",n),Xt(t,i,n?i:null);for(var r=t.querySelectorAll("input,button"),o=0;o<r.length;o++)Xt(r[o],i,n?i:null)}function de(t){var e=t.getBoundingClientRect();return new be(e.left+pageXOffset,e.top+pageYOffset,e.width,e.height)}function fe(t,e){if(It(pt(e),"css parameter should be an object"),t instanceof Array)for(var n=0;n<t.length;n++)fe(t[n],e);else if(t&&t.style){var i=t.style;for(var r in e){var o=e[r];"number"==typeof o&&r.match(/width|height|left|top|right|bottom|size|padding|margin'/i)&&(o+="px"),i[r]!==o&&(i[r]=o)}}}function _e(t,e,n){null==e&&(e=Ge._ANIM_DEF_DURATION),null==n&&(n=Ge._ANIM_DEF_STEP),t=jt(t),e=kt(e,!1,!0),n=kt(n,!1,!0);var i,r=Date.now(),o=setInterval((function(){var n=Math.min(1,(Date.now()-r)/e);n=Math.sin(n*Math.PI/2),n*=n,i&&cancelAnimationFrame(i),i=requestAnimationFrame((function(){i=null,t(n)})),n>=1&&clearInterval(o)}),n);return o}var ge=function(){function t(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this.x=kt(t),this.y=kt(e)}return t.prototype.equals=function(e){return e instanceof t&&this.x==e.x&&this.y==e.y},t.prototype.clone=function(){return new t(this.x,this.y)},t}(),me=function(){function t(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this.width=kt(t),this.height=kt(e)}return t.prototype.equals=function(e){return e instanceof t&&this.width==e.width&&this.height==e.height},t.prototype.clone=function(){return new t(this.width,this.height)},t}(),be=function(){function t(t,e,n,i){this.left=kt(t),this.top=kt(e),this.width=kt(n),this.height=kt(i)}return Object.defineProperty(t.prototype,"right",{get:function(){return this.left+this.width},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bottom",{get:function(){return this.top+this.height},enumerable:!0,configurable:!0}),t.prototype.equals=function(e){return e instanceof t&&this.left==e.left&&this.top==e.top&&this.width==e.width&&this.height==e.height},t.prototype.clone=function(){return new t(this.left,this.top,this.width,this.height)},t.fromBoundingRect=function(e){return null!=e.left?new t(e.left,e.top,e.width,e.height):null!=e.x?new t(e.x,e.y,e.width,e.height):void It(!1,"Invalid source rectangle.")},t.union=function(e,n){var i=Math.min(e.left,n.left),r=Math.min(e.top,n.top);return new t(i,r,Math.max(e.right,n.right)-i,Math.max(e.bottom,n.bottom)-r)},t.intersection=function(e,n){var i=Math.max(e.left,n.left),r=Math.max(e.top,n.top);return new t(i,r,Math.min(e.right,n.right)-i,Math.min(e.bottom,n.bottom)-r)},t.prototype.contains=function(e){if(e instanceof ge)return e.x>=this.left&&e.x<=this.right&&e.y>=this.top&&e.y<=this.bottom;if(e instanceof t){var n=e;return n.left>=this.left&&n.right<=this.right&&n.top>=this.top&&n.bottom<=this.bottom}It(!1,"Point or Rect expected.")},t.prototype.inflate=function(e,n){return new t(this.left-e,this.top-n,this.width+2*e,this.height+2*n)},t}(),ve=function(){function t(){}return t.addDays=function(t,e){return(t=new Date(t.getTime())).setDate(t.getDate()+e),t},t.addMonths=function(t,e){var n=(t=new Date(t.getTime())).getDate();return t.setMonth(t.getMonth()+e),t.getDate()!=n&&t.setDate(0),t},t.addYears=function(t,e){return(t=new Date(t.getTime())).setFullYear(t.getFullYear()+e),t},t.addHours=function(t,e){return(t=new Date(t.getTime())).setHours(t.getHours()+e),t},t.addMinutes=function(t,e){return(t=new Date(t.getTime())).setMinutes(t.getMinutes()+e),t},t.addSeconds=function(t,e){return(t=new Date(t.getTime())).setSeconds(t.getSeconds()+e),t},t.weekFirst=function(e,n){return void 0===n&&(n=Te.getFirstDayOfWeek()),t.addDays(e,-(e.getDay()-n))},t.weekLast=function(e,n){return void 0===n&&(n=Te.getFirstDayOfWeek()),e=t.weekFirst(e,n),t.addDays(e,6)},t.monthFirst=function(e){return t.addDays(e,1-e.getDate())},t.monthLast=function(e){return e=t.monthFirst(e),e=t.addMonths(e,1),t.addDays(e,-1)},t.yearFirst=function(t){return new Date(t.getFullYear(),0,1)},t.yearLast=function(t){return new Date(t.getFullYear(),11,31)},t.sameDate=function(t,e){return ut(t)&&ut(e)&&t.getFullYear()==e.getFullYear()&&t.getMonth()==e.getMonth()&&t.getDate()==e.getDate()},t.sameTime=function(t,e){return ut(t)&&ut(e)&&t.getHours()==e.getHours()&&t.getMinutes()==e.getMinutes()&&t.getSeconds()==e.getSeconds()&&t.getMilliseconds()==e.getMilliseconds()},t.equals=function(t,e){return null==t&&null==e||ut(t)&&ut(e)&&t.getTime()==e.getTime()},t.fromDateTime=function(e,n){return e||n?(e||(e=n),n||(n=e),t.newDate(e.getFullYear(),e.getMonth(),e.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds())):null},t.toFiscal=function(e,n){var i=Pe.Globalize.calendar;return ct(i.fiscalYearOffsets)?t.addMonths(e,-i.fiscalYearOffsets[n?0:1]):e},t.fromFiscal=function(e,n){var i=Pe.Globalize.calendar;return ct(i.fiscalYearOffsets)?t.addMonths(e,+i.fiscalYearOffsets[n?0:1]):e},t.newDate=function(t,e,n,i,r,o,s){if(null==t||null==e||null==n){var a=new Date;null==t&&(t=a.getFullYear()),null==e&&(e=a.getMonth()),null==n&&(n=a.getDate())}null==i&&(i=0),null==r&&(r=0),null==o&&(o=0),null==s&&(s=0);var l=new Date(t,e,n,i,r,o,s),h=l.getFullYear();return t<100&&h>=1900&&l.setFullYear(l.getFullYear()-1900),l},t.clone=function(e){return t.fromDateTime(e,e)},t}();function ye(t,e){var n=e||{},i=n.method?Tt(n.method).toUpperCase():"GET",r=null==n.async||At(n.async),o=n.data;if(null!=o&&"GET"==i){var s=[];for(var a in o){var l=o[a];ut(l)&&(l=l.toJSON()),s.push(a+"="+encodeURIComponent(l))}if(s.length){var h=t.indexOf("?")<0?"?":"&";t+=h+s.join("&")}o=null}var u=new XMLHttpRequest;u.URL_DEBUG=t;var c=!1;if(null==o||it(o)||(c=pt(o),o=JSON.stringify(o)),u.onload=function(){4==u.readyState&&(u.status<300?n.success&&jt(n.success)(u):n.error&&jt(n.error)(u),n.complete&&jt(n.complete)(u))},u.onerror=function(){if(!lt(n.error))throw"HttpRequest Error: "+u.status+" "+u.statusText;n.error(u)},u.open(i,t,r,n.user,n.password),n.user&&n.password&&u.setRequestHeader("Authorization","Basic "+btoa(n.user+":"+n.password)),c&&function(){for(var t in n.requestHeaders)if("content-type"===t.toLowerCase())return!1;return!0}()&&u.setRequestHeader("Content-Type","application/json"),n.requestHeaders)for(var p in n.requestHeaders)u.setRequestHeader(p,n.requestHeaders[p]);return ot(n.timeout)&&(u.timeout=n.timeout),lt(n.beforeSend)&&n.beforeSend(u),u.send(o),u}var we={};function xe(t,e){if(we[t]=e,"wijmo"===t){var n="undefined"!=typeof window?window:"undefined"!=typeof self?self:null;n&&(n.wijmo=e)}}function Ce(t){return we[t]}var Ee=function(){function t(t){if(void 0===t&&(t=!0),t)this._h={};else{var e=function(){var t=null;return"undefined"!=typeof window?t=window:void 0!==n.g?t=n.g:"undefined"!=typeof self&&(t=self),t}(),i=e&&e.Map;this._m=i&&new Map||new De}}return Object.defineProperty(t.prototype,"isPojoHash",{get:function(){return null!=this._h},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._h&&Object.keys(this._h).length||this._m.size},enumerable:!0,configurable:!0}),t.prototype.clear=function(){this._h?this._h={}:this._m.clear()},t.prototype.delete=function(t){this._h?delete this._h[t]:this._m.delete(t)},t.prototype.get=function(t){return this._h?this._h[t]:this._m.get(t)},t.prototype.has=function(t){return this._h?t in this._h:this._m.has(t)},t.prototype.set=function(t,e){return this._h?this._h[t]=e:this._m.set(t,e),this},t}(),De=function(){function t(){this._d=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this._d.length},enumerable:!0,configurable:!0}),t.prototype.clear=function(){this._d=[]},t.prototype.delete=function(t){var e=this._kIdx(t);return e>-1&&(this._d.splice(e,1),!0)},t.prototype.get=function(t){var e=this._kIdx(t);return e>-1?this._d[e].v:void 0},t.prototype.has=function(t){return this._kIdx(t)>-1},t.prototype.set=function(t,e){var n=this._kIdx(t);return n>-1?this._d[n].v=e:this._d.push({k:t,v:e}),this},t.prototype._kIdx=function(t){var e=this._d,n=e.length;if(t==t){for(var i=0;i<n;i++)if(e[i].k===t)return i}else for(i=0;i<n;i++){var r=e[i].k;if(r!=r)return i}return-1},t}(),Ie=function(){function t(t){this._r=0,this._g=0,this._b=0,this._a=1,t&&this._parse(t)}return Object.defineProperty(t.prototype,"r",{get:function(){return this._r},set:function(t){this._r=Et(kt(t),0,255)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"g",{get:function(){return this._g},set:function(t){this._g=Et(kt(t),0,255)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"b",{get:function(){return this._b},set:function(t){this._b=Et(kt(t),0,255)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"a",{get:function(){return this._a},set:function(t){this._a=Et(kt(t),0,1)},enumerable:!0,configurable:!0}),t.prototype.equals=function(e){return e instanceof t&&this.r==e.r&&this.g==e.g&&this.b==e.b&&this.a==e.a},t.prototype.toString=function(){var t=Math.round(100*this.a);return t>99?"#"+((1<<24)+(this.r<<16)+(this.g<<8)+this.b).toString(16).slice(1):"rgba("+this.r+","+this.g+","+this.b+","+t/100+")"},t.fromRgba=function(e,n,i,r){void 0===r&&(r=1);var o=new t(null);return o.r=Math.round(Et(kt(e),0,255)),o.g=Math.round(Et(kt(n),0,255)),o.b=Math.round(Et(kt(i),0,255)),o.a=Et(kt(r),0,1),o},t.fromHsb=function(e,n,i,r){void 0===r&&(r=1);var o=t._hsbToRgb(Et(kt(e),0,1),Et(kt(n),0,1),Et(kt(i),0,1));return t.fromRgba(o[0],o[1],o[2],r)},t.fromHsl=function(e,n,i,r){void 0===r&&(r=1);var o=t._hslToRgb(Et(kt(e),0,1),Et(kt(n),0,1),Et(kt(i),0,1));return t.fromRgba(o[0],o[1],o[2],r)},t.fromString=function(e){var n=new t(null);return n._parse(Tt(e))?n:null},t.prototype.getHsb=function(){return t._rgbToHsb(this.r,this.g,this.b)},t.prototype.getHsl=function(){return t._rgbToHsl(this.r,this.g,this.b)},t.interpolate=function(e,n,i){i=Et(kt(i),0,1);var r=t._rgbToHsl(e.r,e.g,e.b),o=t._rgbToHsl(n.r,n.g,n.b),s=1-i,a=e.a*s+n.a*i,l=[r[0]*s+o[0]*i,r[1]*s+o[1]*i,r[2]*s+o[2]*i],h=t._hslToRgb(l[0],l[1],l[2]);return t.fromRgba(h[0],h[1],h[2],a)},t.toOpaque=function(e,n){if(1==(e=it(e)?t.fromString(e):Lt(e,t)).a)return e;n=null==n?t.fromRgba(255,255,255,1):it(n)?t.fromString(n):Lt(n,t);var i=e.a,r=1-i;return t.fromRgba(e.r*i+n.r*r,e.g*i+n.g*r,e.b*i+n.b*r)},t.prototype._parse=function(e){if("transparent"==(e=e.toLowerCase()))return this._r=this._g=this._b=this._a=0,!0;if(e&&0!=e.indexOf("#")&&0!=e.indexOf("rgb")&&0!=e.indexOf("hsl")){var n=document.createElement("div");n.style.color=e;var i=n.style.color;i!=e||(i=window.getComputedStyle(n).color)||(document.body.appendChild(n),i=window.getComputedStyle(n).color,te(n)),e=i.toLowerCase()}if(0==e.indexOf("#"))return 4==e.length?(this.r=parseInt(e[1]+e[1],16),this.g=parseInt(e[2]+e[2],16),this.b=parseInt(e[3]+e[3],16),this.a=1,!0):7==e.length&&(this.r=parseInt(e.substr(1,2),16),this.g=parseInt(e.substr(3,2),16),this.b=parseInt(e.substr(5,2),16),this.a=1,!0);if(0==e.indexOf("rgb")){var r=e.indexOf("("),o=e.indexOf(")");if(r>-1&&o>-1&&(s=e.substr(r+1,o-(r+1)).split(",")).length>2)return this.r=parseInt(s[0]),this.g=parseInt(s[1]),this.b=parseInt(s[2]),this.a=s.length>3?parseFloat(s[3]):1,!0}var s;if(0==e.indexOf("hsl")&&(r=e.indexOf("("),o=e.indexOf(")"),r>-1&&o>-1&&(s=e.substr(r+1,o-(r+1)).split(",")).length>2)){var a=parseInt(s[0])/360,l=parseInt(s[1]),h=parseInt(s[2]);s[1].indexOf("%")>-1&&(l/=100),s[2].indexOf("%")>-1&&(h/=100);var u=t._hslToRgb(a,l,h);return this.r=u[0],this.g=u[1],this.b=u[2],this.a=s.length>3?parseFloat(s[3]):1,!0}return!1},t._hslToRgb=function(e,n,i){var r,o,s;if(It(e>=0&&e<=1&&n>=0&&n<=1&&i>=0&&i<=1,"bad HSL values"),0==n)r=o=s=i;else{var a=i<.5?i*(1+n):i+n-i*n,l=2*i-a;r=t._hue2rgb(l,a,e+1/3),o=t._hue2rgb(l,a,e),s=t._hue2rgb(l,a,e-1/3)}return[Math.round(255*r),Math.round(255*o),Math.round(255*s)]},t._hue2rgb=function(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+6*(e-t)*n:n<.5?e:n<2/3?t+(e-t)*(2/3-n)*6:t},t._rgbToHsl=function(t,e,n){It(t>=0&&t<=255&&e>=0&&e<=255&&n>=0&&n<=255,"bad RGB values"),t/=255,e/=255,n/=255;var i,r,o=Math.max(t,e,n),s=Math.min(t,e,n),a=(o+s)/2;if(o==s)i=r=0;else{var l=o-s;switch(r=a>.5?l/(2-o-s):l/(o+s),o){case t:i=(e-n)/l+(e<n?6:0);break;case e:i=(n-t)/l+2;break;case n:i=(t-e)/l+4}i/=6}return[i,r,a]},t._rgbToHsb=function(e,n,i){It(e>=0&&e<=255&&n>=0&&n<=255&&i>=0&&i<=255,"bad RGB values");var r=t._rgbToHsl(e,n,i);return t._hslToHsb(r[0],r[1],r[2])},t._hsbToRgb=function(e,n,i){var r=t._hsbToHsl(e,n,i);return t._hslToRgb(r[0],r[1],r[2])},t._hsbToHsl=function(t,e,n){It(t>=0&&t<=1&&e>=0&&e<=1&&n>=0&&n<=1,"bad HSB values");var i=Et(n*(2-e)/2,0,1),r=1-Math.abs(2*i-1),o=Et(r>0?n*e/r:e,0,1);return It(!isNaN(i)&&!isNaN(o),"bad conversion to HSL"),[t,o,i]},t._hslToHsb=function(t,e,n){It(t>=0&&t<=1&&e>=0&&e<=1&&n>=0&&n<=1,"bad HSL values");var i=Et(1==n?1:(2*n+e*(1-Math.abs(2*n-1)))/2,0,1),r=Et(i>0?2*(i-n)/i:e,0,1);return It(!isNaN(i)&&!isNaN(r),"bad conversion to HSB"),[t,r,i]},t}(),Pe="undefined"!=typeof window&&window.wijmo&&window.wijmo.culture||{Globalize:{numberFormat:{".":".",",":",","-":"-","+":"+","%":"%",percent:{pattern:["-n%","n%"]},currency:{decimals:2,symbol:"$",pattern:["($n)","$n"]}},calendar:{"/":"/",":":":",firstDay:0,days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],daysAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],am:["AM","A"],pm:["PM","P"],eras:["A.D.","B.C."],patterns:{d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",f:"dddd, MMMM dd, yyyy h:mm tt",F:"dddd, MMMM dd, yyyy h:mm:ss tt",t:"h:mm tt",T:"h:mm:ss tt",M:"MMMM d",m:"MMMM d",Y:"MMMM, yyyy",y:"MMMM, yyyy",g:"M/d/yyyy h:mm tt",G:"M/d/yyyy h:mm:ss tt",s:'yyyy"-"MM"-"dd"T"HH":"mm":"ss',o:'yyyy"-"MM"-"dd"T"HH":"mm":"ss"."fffffffK',O:'yyyy"-"MM"-"dd"T"HH":"mm":"ss"."fffffffK',U:"dddd, MMMM dd, yyyy h:mm:ss tt"},fiscalYearOffsets:[-3,-3]}}},Te=function(){function t(){}return t.format=function(e,n,i,r,o){return it(e)?e:ot(e)?(n=n||(e==Math.round(e)?"n0":"n2"),t.formatNumber(e,n,i,r,o)):ut(e)?(n=n||"d",t.formatDate(e,n)):null!=e?e.toString():""},t.formatNumber=function(e,n,i,r,o){e=kt(e),n=Tt(n);var s,a=Pe.Globalize.numberFormat,l=t._parseNumericFormat(n),h=l.spec,u=l.prec,c=a["."]||".",p=a[","]||",",d=a["-"]||"-",f=Math;if(null==u&&(u=null!=o?o:"c"==h?a.currency.decimals:"e"==h?6:"r"==h?15:e==f.round(e)?0:2),l.scale&&(e/=f.pow(10,l.scale)),"d"==h||"x"==h){for(s=(r?f.floor:f.round)(f.abs(e)).toString("d"==h?10:16);s.length<u;)s="0"+s;return e<0&&(s=d+s),"X"==l.specRaw?s.toUpperCase():s}switch("p"==h&&(e=vt(e=t._shiftDecimal(e,2,14),u,r)),r&&"p"!=h&&"e"!=h&&(e=vt(e,u,!0)),h){case"e":s=e.toExponential(u),"E"==l.specRaw&&(s=s.replace("e","E"));break;case"c":case"p":s=t._toFixedStr(f.abs(e),u);break;default:"-"!=(s=t._toFixedStr(e,u))[0]||s.match(/[1-9]/)||(s=s.substr(1))}if((i||"g"==h||"r"==h)&&s.indexOf(".")>-1&&(s=s.replace(/(\.\d*?)0+$/g,"$1").replace(/\.$/,"")),"."!=c&&(s=s.replace(".",c)),"-"!=d&&(s=s.replace("-",d)),p&&("n"==h||"c"==h||"p"==l.specRaw||"F"==l.specRaw||"G"==l.specRaw)){var _=s.indexOf(c),g=/\B(?=(\d\d\d)+(?!\d))/g;s=_>-1?s.substr(0,_).replace(g,p)+s.substr(_):s.replace(g,p)}if("c"==h){var m=e<0&&s.match(/[1-9]/)?0:1,b=a.currency.pattern[m],v=l.curr||a.currency.symbol;"​"==v&&(v=""),s=b.replace("n",s).replace("$",v)}if("p"==h){m=e<0&&s.match(/[1-9]/)?0:1,b=a.percent.pattern[m];var y=a["%"]||"%";s=b.replace("n",s),"%"!=y&&(s=s.replace("%",y)),"-"!=d&&0==m&&(s=s.replace("-",d))}return l.prefix||l.suffix?l.prefix+s+l.suffix:s},t.formatDate=function(e,n){switch(e=Ot(e),n){case"r":case"R":return e.toUTCString();case"u":return e.toISOString().replace(/\.\d{3}/,"")}return n=t._expandFormat(n),t._parseDateFormat(n).map((function(i){return t._formatDatePart(e,n,i)})).join("")},t.parseInt=function(e,n){return Math.round(t.parseFloat(e,n))},t.parseFloat=function(e,n){var i=t._parseNumericFormat(n),r=i.prefix;r&&0==e.indexOf(r)&&(e=e.substring(r.length));var o=i.suffix;if(o){var s=e.lastIndexOf(o);s>-1&&s==e.length-o.length&&(e=e.substring(0,e.length-o.length))}var a=Pe.Globalize.numberFormat,l=a["."]||".",h=a[","]||",",u=a["-"]||"-",c=a["%"]||"%",p=i.curr||a.currency.symbol||"$",d=e.indexOf(c)>-1,f=e.indexOf("(")>-1&&e.indexOf(")")>-1,_=0;if("x"==i.spec)_=parseInt(e,16);else{[p,c,"(",")"].forEach((function(t){e=e.replace(t,"")})),/\s/.test(h)&&(e=e.replace(/\s+/g,""));var g=(e=e.replace(new RegExp("\\"+h,"g"),"").replace(new RegExp("\\"+u,"g"),"-").replace(/(\+|\-)\s+/g,"$1").replace(l,".").trim()).length;!f&&g&&"-"==e[g-1]&&(f=!0,e=e.substring(0,g-1)),_=/^\s*(\+|\-)?\d*(\.\d*)?(\s*E(\+|\-)?\d+)?\s*$/i.test(e)?parseFloat(e):Number.NaN}return isNaN(_)||(f=f||_<0,_=Math.abs(_),d&&(_=t._shiftDecimal(_,-2)),f&&(_=-_),i.scale&&(_*=Math.pow(10,i.scale))),_},t.parseDate=function(e,n,i){if(!(e=Tt(e)))return null;if("u"==n)return new Date(e);var r;if("R"==n||"r"==n){var o=e.match(/((\d+)\-(\d+)\-(\d+))?\s?((\d+):(\d+)(:(\d+))?)?/);return o[1]||o[5]?(r=o[1]?new Date(parseInt(o[2]),parseInt(o[3])-1,parseInt(o[4])):new Date,o[5]&&(r.setHours(parseInt(o[6])),r.setMinutes(parseInt(o[7])),r.setSeconds(o[8]?parseInt(o[9]):0))):r=new Date(e),isNaN(r.getTime())?null:r}n=t._expandFormat(n||"d");var s=Pe.Globalize.calendar,a=t._CJK,l=new RegExp("(\\"+s["/"]+")|(\\"+s[":"]+")|(\\d+)|(["+a+"\\.]{2,})|(["+a+"]+)","gi"),h=e.match(l),u=t._parseDateFormat(n),c=0;if(!(h&&h.length&&u&&u.length))return null;var p,d,f,_,g,m=-1,b=0,v=1,y=0,w=0,x=0,C=0,E=-1,D=null;(i=Ot(i,!0))&&(b=i.getMonth(),v=i.getDate(),y=i.getHours(),w=i.getMinutes(),x=i.getSeconds(),C=i.getMilliseconds());for(var I=0;I<u.length&&h;I++){var P=I-c,T=P>-1&&P<h.length?h[P]:"",k=u[I].length;switch(u[I]){case"EEEE":case"EEE":case"EE":case"E":case"eeee":case"eee":case"ee":case"e":g=u[I];case"yyyy":case"yyy":case"yy":case"y":k>1&&T.length>k&&(h[P]=T.substr(k),T=T.substr(0,k),c++),m=parseInt(T),_=4==T.length;break;case"MMMM":case"MMM":f=!0,b=-1;for(var S=T.toLowerCase(),A="MMMM"==u[I]?s.months:s.monthsAbbr,O=0;O<12;O++)if(0==A[O].toLowerCase().indexOf(S)){b=O;break}if(b>-1)break;case"MM":case"M":f=!0,k>1&&T.length>k&&(h[P]=T.substr(k),T=T.substr(0,k),c++),b=parseInt(T)-1;break;case"dddd":case"ddd":p=!0;break;case"dd":case"d":k>1&&T.length>k&&(h[P]=T.substr(k),T=T.substr(0,k),c++),v=parseInt(T),d=!0;break;case"hh":case"h":k>1&&T.length>k&&(h[P]=T.substr(k),T=T.substr(0,k),c++),y=12==(y=parseInt(T))?0:y;break;case"HH":k>1&&T.length>k&&(h[P]=T.substr(k),T=T.substr(0,k),c++),y=parseInt(T);break;case"H":y=parseInt(T);break;case"mm":case"m":k>1&&T.length>k&&(h[P]=T.substr(k),T=T.substr(0,k),c++),w=parseInt(T);break;case"ss":case"s":k>1&&T.length>k&&(h[P]=T.substr(k),T=T.substr(0,k),c++),x=parseInt(T);break;case"fffffff":case"FFFFFFF":case"ffffff":case"FFFFFF":case"fffff":case"FFFFF":case"ffff":case"FFFF":case"fff":case"FFF":case"ff":case"FF":case"f":case"F":C=parseInt(T)/Math.pow(10,k-3);break;case"tt":case"t":T=T.toUpperCase(),y<12&&s.pm.indexOf(T)>-1&&(y+=12);break;case"q":case"Q":case"u":case"U":E=parseInt(T);break;case"ggg":case"gg":case"g":if(D=s.eras.length>1?t._getEra(T,s):null,s.eras.length>0&&!D)return null;break;case"/":case":":if(T&&T!=s[u[I]])return null;break;case s["/"]:case s[":"]:if(T&&T!=u[I])return null;break;case"K":break;default:t._unquote(u[I]).trim()!=T.trim()&&c++}}if(f&&d&&(isNaN(y)&&(y=0),isNaN(w)&&(w=0),isNaN(x)&&(x=0)),b<0||b>11||isNaN(b)||v<1||v>31||isNaN(v)||y<0||y>=24||isNaN(y)||w<0||w>=60||isNaN(w)||x<0||x>=60||isNaN(x))return null;if(h.length+c>u.length)return null;if(g){if(!f)return null;var j=Pe.Globalize.calendar;if(ct(j.fiscalYearOffsets)){var M="E"==g[0],L=b-j.fiscalYearOffsets[M?0:1];m+=L>11?-1:L<0?1:0}}if(p&&!d)return null;if(!f&&E>=1&&E<=4&&(b=3*(E-1)),isNaN(m)||m<0)m=i?i.getFullYear():(new Date).getFullYear();else if(D&&D.start)m=m+D.start.getFullYear()-1;else if(m<100&&!_){var F=ot(s.twoDigitYearMax)?s.twoDigitYearMax:2029;F>99&&(m+=m+2e3<=F?2e3:1900)}return(r=ve.newDate(m,b,v,y,w+0,x,C)).getMonth()!=b||r.getDate()!=v||isNaN(r.getTime())?null:r},t.getFirstDayOfWeek=function(){return Pe.Globalize.calendar.firstDay||0},t.getNumberDecimalSeparator=function(){return Pe.Globalize.numberFormat["."]||"."},t._toFixedStr=function(t,e){var n=t.toString(),i=n.indexOf("."),r=e-(n.length-i)+1,o=n.indexOf("e")>-1;return!o&&i>-1&&r>=0?n+Array(r+1).join("0"):(i>-1&&!o&&"5"==n[n.length-1]&&(t=+(Math.round(+(Math.abs(t)+"e"+e))+"e"+-e)*(t<0?-1:1)),t.toFixed(e))},t._unquote=function(t){return t.length>1&&t[0]==t[t.length-1]&&("'"==t[0]||'"'==t[0])?t.substr(1,t.length-2):t},t._parseNumericFormat=function(e){var n=t._numFormatInfo[e];if(!n){var i=e&&e.match(/(\"(.*?)\"\s*)?([a-z]+)\s*(\d*)\s*(,*)(\s*\"(.*?)\"\s*)?(.*)/i)||[],r=i[3]?i[3]:"n";r.length>1&&(i=[],r="n"),n={prefix:i[2]||"",spec:r.toLowerCase(),specRaw:r,prec:i[4]?parseInt(i[4]):null,scale:i[5]?3*i[5].length:0,suffix:i[7]||"",curr:i[8]||null},t._numFormatInfo[e]=n}return n},t._parseDateFormat=function(e){var n=t._dateFormatParts[e];if(!n){if(n=[],e){var i=void 0,r=void 0;for(i=0;i>-1&&i<e.length;i++){var o=e[i];if(("'"==o||'"'==o)&&(r=e.indexOf(o,i+1))>-1)n.push(e.substring(i,r+1)),i=r;else if("\\"==o&&i<e.length-1)i++,n.push('"'+e[i]+'"');else{for(r=i+1;r<e.length&&e[r]==o;r++);n.push(e.substring(i,r)),i=r-1}}}t._dateFormatParts[e]=n}return n},t._formatDatePart=function(e,n,i){var r,o=Pe.Globalize.calendar,s=null,a=0,l=0,h=i.length;switch(i){case"yyyy":case"yyy":case"yy":case"y":case"EEEE":case"EEE":case"EE":case"E":case"eeee":case"eee":case"ee":case"e":a=(r="E"==i[0]?ve.toFiscal(e,!0):"e"==i[0]?ve.toFiscal(e,!1):e).getFullYear(),o.eras.length>1&&n.indexOf("g")>-1&&(s=t._getEra(e,o))&&(a=ut(s.start)?a-s.start.getFullYear()+1:Math.abs(a));var u=i.length<3?a%100:3==i.length?a%1e3:a;return t._zeroPad(u,i.length);case"MMMMM":return o.monthsAbbr[e.getMonth()][0];case"MMMM":return o.months[e.getMonth()];case"MMM":return o.monthsAbbr[e.getMonth()];case"MM":case"M":return t._zeroPad(e.getMonth()+1,h);case"dddd":return o.days[e.getDay()];case"ddd":return o.daysAbbr[e.getDay()];case"dd":return t._zeroPad(e.getDate(),2);case"d":return e.getDate().toString();case"hh":case"h":return t._zeroPad(t._h12(e),h);case"HH":case"H":return t._zeroPad(e.getHours(),h);case"mm":case"m":return t._zeroPad(e.getMinutes(),h);case"ss":case"s":return t._zeroPad(e.getSeconds(),h);case"fffffff":case"FFFFFFF":case"ffffff":case"FFFFFF":case"fffff":case"FFFFF":case"ffff":case"FFFF":case"fff":case"FFF":case"ff":case"FF":case"f":case"F":return l=e.getMilliseconds()*Math.pow(10,h-3),"f"==i[0]?t._zeroPad(l,h):l.toFixed(0);case"tt":return e.getHours()<12?o.am[0]:o.pm[0];case"t":return e.getHours()<12?o.am[1]:o.pm[1];case"q":case"Q":return(Math.floor(e.getMonth()/3)+1).toString();case"u":case"U":return r=ve.toFiscal(e,"U"==i),(Math.floor(r.getMonth()/3)+1).toString();case"ggg":case"gg":case"g":if(o.eras.length>1&&(s=t._getEra(e,o))){if(it(s))return s;switch(i){case"gg":return s.name[0];case"g":return s.symbol;default:return s.name}}return o.eras[0];case":":case"/":return o[i];case"K":var c=e.toString().match(/(\+|\-)(\d{2})(\d{2})/);return c?c[1]+c[2]+c[3]:"";case"zzz":case"zz":case"z":var p=-e.getTimezoneOffset(),d=Math.abs(p),f=t.formatNumber,_=void 0;switch(i){case"zzz":_=f(d/60,"d2",!1,!0)+o[":"]+f(d%60,"d2",!1,!0);break;case"zz":_=f(d/60,"d2",!1,!0);break;case"z":_=f(d/60,"d1",!1,!0)}return(p>=0?"+":"-")+_}return h>1&&i[0]==i[h-1]&&('"'==i[0]||"'"==i[0])?i.substr(1,h-2):i},t._getEra=function(t,e){if(e.eras){var n=e.eras,i=e.eras.length;if(ut(t)){if(it(n[0]))return n[t.getFullYear()>=0?0:1];if(ut(n[0].start)){for(var r=0;r<i;r++)if(t>=n[r].start)return n[r];return n[i-1]}}else if(it(t)&&t.length>0)for(t=t.toLowerCase(),r=0;r<i;r++){var o=n[r];if(it(o)){if(0==o.toLowerCase().indexOf(t))return o}else if(o.name&&0==o.name.toLowerCase().indexOf(t)||o.symbol&&0==o.symbol.toLowerCase().indexOf(t))return o}}return null},t._expandFormat=function(t){return Pe.Globalize.calendar.patterns[t]||t},t._zeroPad=function(t,e){var n=t.toFixed(0),i=e-n.length+1;return i>0?Array(i).join("0")+n:n},t._h12=function(t){var e=Pe.Globalize.calendar,n=t.getHours();return e.am&&e.am[0]&&0==(n%=12)&&(n=12),n},t._shiftDecimal=function(t,e,n){if(0==e||isNaN(t))return t;var i=t.toString();if(i.indexOf("e")>-1){var r=t*Math.pow(10,e);return null!=n&&(r=parseFloat(r.toFixed(n))),r}var o=Array(Math.abs(e)+1).join("0");e<0&&(i=o+i);var s=i.indexOf(".");return s<0&&(s=(i+=".").indexOf(".")),e>0&&(i+=o),s+=e,i=(i=i.replace(".","")).substr(0,s)+"."+i.substr(s),parseFloat(i)},t._CJK="a-z"+"u00c0-u017fu3000-u30ffu4e00-u9faf".replace(/u/g,"\\u")+"u1100-u11ffu3130-u318fua960-ua97fuac00-ud7afud7b0-ud7ff".replace(/u/g,"\\u"),t._numFormatInfo={},t._dateFormatParts={},t}();function ke(t){Pe=t}function Se(t,e){var n="undefined"!=typeof window?window.wijmo:null,i=n?n.culture:null,r=i?i[t]:null;Pe[t]=r||e}var Ae,Oe=function(){function t(t,e,n){void 0===e&&(e=""),void 0===n&&(n="_"),this._promptChar="_",this._mskArr=[],this._overWrite=!1,this._full=!0,this._inputBnd=this._input.bind(this),this._keydownBnd=this._keydown.bind(this),this._keypressBnd=this._keypress.bind(this),this._cmpstartBnd=this._cmpstart.bind(this),this._cmpendBnd=this._cmpend.bind(this),this.mask=Tt(e),this.input=t,this.promptChar=Tt(n,!1),this._connect(!0),(this._evtInput=document.createEvent("HTMLEvents")).initEvent("input",!0,!1)}return Object.defineProperty(t.prototype,"input",{get:function(){return this._tbx},set:function(t){this._connect(!1),this._tbx=t,this._connect(!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"mask",{get:function(){return this._msk},set:function(t){t!=this._msk&&(this._msk=Tt(t,!0),this._parseMask(),this._valueChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"promptChar",{get:function(){return this._promptChar},set:function(t){if(t!=this._promptChar){It(1==(t=Tt(t,!1)).length,"promptChar must be a string with length 1.");for(var e=this._tbx,n=e.value,i="",r=this._mskArr,o=this._promptChar,s=0;s<n.length;s++){var a=r[s],l=n[s];a&&a.literal||l!==o||(l=t),i+=l}e.value=i,this._promptChar=t}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"overwriteMode",{get:function(){return this._overWrite},set:function(t){this._overWrite=At(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maskFull",{get:function(){return this._full},enumerable:!0,configurable:!0}),t.prototype.getMaskRange=function(){return this._mskArr.length?[this._firstPos,this._lastPos]:[0,this._tbx.value.length-1]},t.prototype.getRawValue=function(){var t=this._tbx?this._tbx.value:"";if(!this.mask)return t;for(var e="",n=0;n<this._mskArr.length&&n<t.length;n++)this._mskArr[n].literal||t[n]==this._promptChar||(e+=t[n]);return e},t.prototype.refresh=function(){this._parseMask(),this._valueChanged()},t.prototype._input=function(t){var e=this;this._msk&&!this._composing&&t!=this._evtInput&&(t.preventDefault(),t.stopImmediatePropagation(),setTimeout((function(){e._valueChanged(),e._tbx&&e._tbx.dispatchEvent(e._evtInput)})))},t.prototype._keydown=function(t){if(t.keyCode==G.Back){var e=this._tbx.selectionStart,n=this._tbx.selectionEnd;if(e<=this._firstPos&&n==e)return t.preventDefault(),void(this._backSpace=!1)}this._backSpace=t.keyCode==G.Back},t.prototype._keypress=function(t){t.ctrlKey||t.metaKey||t.altKey||this._composing||!this._preventKey(t.charCode)||t.preventDefault()},t.prototype._cmpstart=function(t){this._composing=!0},t.prototype._cmpend=function(t){var e=this;this._composing&&(this._composing=!1,setTimeout((function(){var t=e._tbx;t&&e._valueChanged()&&t.dispatchEvent(e._evtInput)})))},t.prototype._preventKey=function(t){if(t&&this._mskArr.length){var e=this._tbx,n=e.selectionStart,i=String.fromCharCode(t);if(n<this._firstPos&&$t(e,n=this._firstPos),n>=this._mskArr.length)return!0;var r=this._mskArr[n];if(r.literal)this._validatePosition(n);else if(r.wildCard!=i&&!this._isCharValid(r.wildCard,i))return!0}return!1},t.prototype._connect=function(t){var e=this._tbx;e&&(It(e instanceof HTMLInputElement||e instanceof HTMLTextAreaElement,"INPUT or TEXTAREA element expected."),t?(this._autoComplete=e.autocomplete,this._spellCheck=e.spellcheck,e.autocomplete="off",e.spellcheck=!1,e.addEventListener("input",this._inputBnd,!0),e.addEventListener("keydown",this._keydownBnd,!0),e.addEventListener("keypress",this._keypressBnd,!0),e.addEventListener("compositionstart",this._cmpstartBnd,!0),e.addEventListener("compositionend",this._cmpendBnd,!0),e.addEventListener("blur",this._cmpendBnd,!0),this._valueChanged()):(e.autocomplete=this._autoComplete,e.spellcheck=this._spellCheck,e.removeEventListener("input",this._inputBnd,!0),e.removeEventListener("keydown",this._keydownBnd,!0),e.removeEventListener("keypress",this._keypressBnd,!0),e.removeEventListener("compositionstart",this._cmpstartBnd,!0),e.removeEventListener("compositionend",this._cmpendBnd,!0),e.removeEventListener("blur",this._cmpendBnd,!0)))},t.prototype._valueChanged=function(){if(!this._tbx||!this._msk)return!1;var t=this._tbx,e=t.selectionStart,n=e>0?t.value[e-1]:"",i=t.value;t.value=this._applyMask(),""==i&&(e=this._firstPos+1);var r=e>0?t.value[e-1]:"";return e>0&&r==this._promptChar&&n!=this.promptChar&&e--,e==i.length&&(e=this._matchEnd),this._validatePosition(e),i!=t.value},t.prototype._applyMask=function(){var t=this._tbx,e=t.value;if(this._full=!0,this._matchEnd=0,!this._msk)return e;if(!e&&!t.required)return e;if(this._overWrite&&e.length==this.mask.length+1){var n=t.selectionStart;t==document.activeElement&&t.selectionEnd==n&&(e=e.substr(0,n)+e.substr(n+1))}e=this._handleVagueLiterals(e);for(var i="",r=0,o=this._promptChar,s=0;s<this._mskArr.length;s++){var a=this._mskArr[s],l=a.literal;if(l&&l==e[r]&&r++,a.wildCard){if(l=o,e){for(var h=r;h<e.length;h++)if(this._isCharValid(a.wildCard,e[h])){switch(l=e[h],a.charCase){case">":l=l.toUpperCase();break;case"<":l=l.toLowerCase()}l!=o&&(this._matchEnd=i.length+1);break}r=h+1}l==o&&(this._full=!1)}i+=l}return i},t.prototype._handleVagueLiterals=function(t){if(t.length>this._mskArr.length+1)return t;var e=t.length-this._mskArr.length;if(0!=e&&t.length>1){for(var n=-1,i=this._tbx,r=i==ee()?i.selectionStart:i.value.length,o=Math.max(0,r-e);o<this._mskArr.length;o++)if(this._mskArr[o].vague){n=o;break}if(n>-1)if(e<0){var s=Array(1-e).join(this._promptChar),a=n+e;a>-1&&(t=t.substr(0,a)+s+t.substr(a))}else{for(;n>0&&this._mskArr[n-1].literal;)n--;t=t.substr(0,n)+t.substr(n+e)}}return t},t.prototype._isCharValid=function(e,n){if(n==this._promptChar)return!0;switch(e){case"0":return this._isDigit(n);case"9":return this._isDigit(n)||" "==n;case"#":return this._isDigit(n)||" "==n||"+"==n||"-"==n;case"L":return this._isLetter(n);case"l":return this._isLetter(n)||" "==n;case"A":return this._isDigit(n)||this._isLetter(n);case"a":return this._isDigit(n)||this._isLetter(n)||" "==n;case"９":return n>="０"&&n<="９";case"Ｊ":case"Ｇ":return!("Ｇ"==e&&t._X_DBCS_BIG_HIRA.indexOf(n)>-1)&&n>="ぁ"&&n<="ゟ";case"Ｋ":case"Ｎ":return!("Ｎ"==e&&t._X_DBCS_BIG_KATA.indexOf(n)>-1)&&n>="゠"&&n<="ヿ";case"Ｚ":return!(n>="ｦ"&&n<="ﾟ")&&(n<="!"||n>="ÿ");case"H":return n>="!"&&n<="ÿ"||n>="ｦ"&&n<="ﾟ";case"K":case"N":return!("N"==e&&t._X_SBCS_BIG_KATA.indexOf(n)>-1)&&n>="ｦ"&&n<="ﾟ"}return!1},t.prototype._isDigit=function(t){return t>="0"&&t<="9"},t.prototype._isLetter=function(t){return t>="a"&&t<="z"||t>="A"&&t<="Z"},t.prototype._validatePosition=function(t){var e=this._mskArr;if(this._backSpace)for(;t>0&&t<e.length&&e[t-1].literal;)t--;if(0==t||!this._backSpace)for(;t<e.length&&e[t].literal;)t++;ee()==this._tbx&&$t(this._tbx,t),this._backSpace=!1},t.prototype._parseMask=function(){this._mskArr=[],this._firstPos=-1,this._lastPos=-1;for(var t,e=this._msk,n="|",i=0;e&&i<e.length;i++)switch(e[i]){case"0":case"9":case"#":case"A":case"a":case"L":case"l":case"９":case"Ｊ":case"Ｇ":case"Ｋ":case"Ｎ":case"Ｚ":case"K":case"N":case"H":this._firstPos<0&&(this._firstPos=this._mskArr.length),this._lastPos=this._mskArr.length,this._mskArr.push(new je(e[i],n));break;case".":case",":case":":case"/":case"$":switch(e[i]){case".":case",":t=Pe.Globalize.numberFormat[e[i]];break;case":":case"/":t=Pe.Globalize.calendar[e[i]];break;case"$":t=Pe.Globalize.numberFormat.currency.symbol}for(var r=0;r<t.length;r++)this._mskArr.push(new je(t[r]));break;case"<":case">":case"|":n=e[i];break;case"\\":i<e.length-1&&i++,this._mskArr.push(new je(e[i]));break;default:this._mskArr.push(new je(e[i]))}for(i=0;i<this._mskArr.length;i++){var o=this._mskArr[i];if(o.literal)for(r=0;r<i;r++){var s=this._mskArr[r];if(s.wildCard&&this._isCharValid(s.wildCard,o.literal)){o.vague=!0;break}}}},t._X_DBCS_BIG_HIRA="ぁぃぅぇぉっゃゅょゎゕゖ",t._X_DBCS_BIG_KATA="ァィゥェォッャュョヮヵヶ",t._X_SBCS_BIG_KATA="ｧｨｩｪｫｬｭｮｯ",t}(),je=function(t,e){e?(this.wildCard=t,this.charCase=e):this.literal=t};function Me(t,e,n){var i=0,r=0,o=0,s=0,a=null,l=null,h=null,u=n?new B(n):null;if((t=Ft(t,Ae))==Ae.CntAll)return e.length;for(var c=0;c<e.length;c++){var p=e[c];if(u&&(p=u.getValue(p)),null!=p){if(t==Ae.First)return p;i++,(null==a||p<a)&&(a=p),(null==l||p>l)&&(l=p),h=p,ot(p)&&!isNaN(p)?(r++,o+=p,s+=p*p):at(p)&&(r++,1==p&&(o++,s++))}}var d=0==r?0:o/r;switch(t){case Ae.Avg:return d;case Ae.Cnt:return i;case Ae.Max:return l;case Ae.Min:return a;case Ae.Rng:return l-a;case Ae.Sum:return o;case Ae.VarPop:return r<=1?0:s/r-d*d;case Ae.StdPop:return r<=1?0:Math.sqrt(s/r-d*d);case Ae.Var:return r<=1?0:(s/r-d*d)*r/(r-1);case Ae.Std:return r<=1?0:Math.sqrt((s/r-d*d)*r/(r-1));case Ae.Last:return h}throw"Invalid aggregate type."}!function(t){t[t.None=0]="None",t[t.Sum=1]="Sum",t[t.Cnt=2]="Cnt",t[t.Avg=3]="Avg",t[t.Max=4]="Max",t[t.Min=5]="Min",t[t.Rng=6]="Rng",t[t.Std=7]="Std",t[t.Var=8]="Var",t[t.StdPop=9]="StdPop",t[t.VarPop=10]="VarPop",t[t.CntAll=11]="CntAll",t[t.First=12]="First",t[t.Last=13]="Last"}(Ae||(Ae={}));var Le=function(t){function e(){var e=this;return Fe?e.length=0:e=t.call(this)||this,e}return o(e,t),e}(Array),Fe=!0;try{Le.prototype=Array.prototype,Fe=Le.prototype===Array.prototype}catch(H){Fe=!1}var Re="undefined"!=typeof window?window.Symbol:null;!Fe&&Re&&Re.species&&Object.defineProperty(Le,Re.species,{get:function(){return Array},enumerable:!1,configurable:!1});var He,Be=function(t){function e(e){var n=t.call(this)||this;if(n._updating=0,n.collectionChanged=new N,e){e=Mt(e),n._updating++;for(var i=0;i<e.length;i++)n.push(e[i]);n._updating--}return n}return o(e,t),e.prototype.push=function(){for(var e=this,n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return n.forEach((function(n){t.prototype.push.call(e,n),e._raiseCollectionChanged(R.Add,n,e.length-1)})),this.length},e.prototype.shift=function(){var e=t.prototype.shift.call(this);return this._raiseCollectionChanged(R.Remove,e,0),e},e.prototype.unshift=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var i=t.prototype.unshift.apply(this,e);return 1==e.length?this._raiseCollectionChanged(R.Add,e[0],0):this._raiseCollectionChanged(),i},e.prototype.pop=function(){var e=t.prototype.pop.call(this);return this._raiseCollectionChanged(R.Remove,e,this.length),e},e.prototype.splice=function(e,n){for(var i=[],r=2;r<arguments.length;r++)i[r-2]=arguments[r];var o,s=R,a=this._raiseCollectionChanged.bind(this);return n&&i.length?(o=t.prototype.splice.apply(this,[e,n].concat(i)),1==n&&1==i.length?a(s.Change,i[0],e):a()):i.length?(o=t.prototype.splice.apply(this,[e,0].concat(i)),1==i.length?a(s.Add,i[0],e):a()):(o=t.prototype.splice.call(this,e,n),1==n?a(s.Remove,o[0],e):a()),o},e.prototype.slice=function(e,n){return t.prototype.slice.call(this,e,n)},e.prototype.indexOf=function(e,n){return t.prototype.indexOf.call(this,e,n)},e.prototype.sort=function(e){var n=t.prototype.sort.call(this,e);return this._raiseCollectionChanged(),n},e.prototype.insert=function(t,e){this.splice(t,0,e)},e.prototype.remove=function(t){var e=this.indexOf(t);return e>-1&&this.removeAt(e),e>-1},e.prototype.removeAt=function(t){this.splice(t,1)},e.prototype.setAt=function(t,e){t>=this.length&&(this.length=t+1),this.splice(t,1,e)},e.prototype.clear=function(){this.length&&this.splice(0,this.length)},e.prototype.beginUpdate=function(){this._updating++},e.prototype.endUpdate=function(){this._updating--,this._updating<=0&&this._raiseCollectionChanged()},Object.defineProperty(e.prototype,"isUpdating",{get:function(){return this._updating>0},enumerable:!0,configurable:!0}),e.prototype.deferUpdate=function(t){try{this.beginUpdate(),t()}finally{this.endUpdate()}},e.prototype.implementsInterface=function(t){return"INotifyCollectionChanged"==t},e.prototype.onCollectionChanged=function(t){void 0===t&&(t=U.reset),this.isUpdating||this.collectionChanged.raise(this,t)},e.prototype._raiseCollectionChanged=function(t,e,n){if(void 0===t&&(t=R.Reset),!this.isUpdating){var i=new U(t,e,n);this.onCollectionChanged(i)}},e}(Le);!function(t){t[t.Natural=0]="Natural",t[t.First=1]="First",t[t.Last=2]="Last"}(He||(He={}));var Ve=function(){function t(t,e){var n=this;this._srcRaw=null,this._src=null,this._ncc=null,this._view=null,this._pgView=null,this._groups=null,this._fullGroups=null,this._digest="",this._idx=-1,this._filter=null,this._filters=new Be,this._srtDsc=new Be,this._grpDesc=new Be,this._newItem=null,this._edtItem=null,this._edtClone=null,this._committing=!1,this._canceling=!1,this._pendingRefresh=!1,this._pendingRemove=!1,this._pgSz=0,this._pgIdx=0,this._updating=0,this._stableSort=!1,this._srtNulls=He.Last,this._canFilter=!0,this._canGroup=!0,this._canSort=!0,this._canAddNew=!0,this._canCancelEdit=!0,this._canRemove=!0,this._canChangePage=!0,this._refreshOnEdit=!0,this._trackChanges=!1,this._chgAdded=new Be,this._chgRemoved=new Be,this._chgEdited=new Be,this._orgVals=window.Map?new Map:null,this._srtCvt=null,this._srtCmp=null,this._getError=null,this._keepCurrentItem=null,this._initializing=!1,this.collectionChanged=new N,this.sourceCollectionChanging=new N,this.sourceCollectionChanged=new N,this.currentChanged=new N,this.currentChanging=new N,this.pageChanged=new N,this.pageChanging=new N,this._srtDsc.collectionChanged.addHandler((function(){n._srtDsc.forEach((function(t){It(t instanceof X,"sortDescriptions array must contain SortDescription objects.")})),n.canSort&&n._commitAndRefresh()})),this._grpDesc.collectionChanged.addHandler((function(){n._grpDesc.forEach((function(t){It(t instanceof Z,"groupDescriptions array must contain GroupDescription objects.")})),n.canGroup&&n._commitAndRefresh()})),this._filters.collectionChanged.addHandler((function(){n._filters.forEach((function(t){It(lt(t),"filters array must contain IPredicate functions.")})),n.canFilter&&n._commitAndRefresh()})),this.sourceCollection=t||new Be,e&&(this._initializing=!0,this.deferUpdate((function(){Dt(n,e)})),this._initializing=!1),null==this._keepCurrentItem&&(this._keepCurrentItem=!0)}return t.prototype._copy=function(t,e){switch(t){case"sortDescriptions":var n=this.sortDescriptions;return n.deferUpdate((function(){n.clear(),Mt(e).forEach((function(t){it(t)?t=new X(t,!0):t instanceof X||!t.property||(t=new X(t.property,t.ascending)),n.push(t)}))})),!0;case"groupDescriptions":var i=this.groupDescriptions;return i.deferUpdate((function(){i.clear(),e.forEach((function(t){it(t)&&(t=new $(t)),i.push(t)}))})),!0;case"currentItem":return this.currentItem=e,!0}return!1},Object.defineProperty(t.prototype,"calculatedFields",{get:function(){return this._calcFields},set:function(t){if(t&&!window.Proxy&&(console.warn("** Calculated fields require Proxy (see https://www.npmjs.com/package/proxy-polyfill)."),t=null),t!=this._calcFields){this._calcFields=t;var e=this._srcRaw;this._srcRaw=null,this.sourceCollection=e}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"newItemCreator",{get:function(){return this._itemCreator},set:function(t){this._itemCreator=jt(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"sortConverter",{get:function(){return this._srtCvt},set:function(t){t!=this._srtCvt&&(this._srtCvt=jt(t,!0))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"sortComparer",{get:function(){return this._srtCmp},set:function(t){t!=this._srtCmp&&(this._srtCmp=jt(t,!0))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"useStableSort",{get:function(){return this._stableSort},set:function(t){t!=this._stableSort&&(this._stableSort=At(t),this.refresh())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"sortNulls",{get:function(){return this._srtNulls},set:function(t){(t=Ft(t,He))!=this._srtNulls&&(this._srtNulls=t,this.refresh())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"sortNullsFirst",{get:function(){return this.sortNulls!=He.Last},set:function(t){Pt("sortNullsFirst","sortNulls"),this.sortNulls=At(t)?He.First:He.Last},enumerable:!0,configurable:!0}),t.prototype.getAggregate=function(t,e,n){return Me(t,n?this._pgView:this._view,e)},Object.defineProperty(t.prototype,"trackChanges",{get:function(){return this._trackChanges},set:function(t){this._trackChanges=At(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"refreshOnEdit",{get:function(){return this._refreshOnEdit},set:function(t){this._refreshOnEdit=At(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"itemsAdded",{get:function(){return this._chgAdded},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"itemsRemoved",{get:function(){return this._chgRemoved},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"itemsEdited",{get:function(){return this._chgEdited},enumerable:!0,configurable:!0}),t.prototype.clearChanges=function(){this._chgAdded.clear(),this._chgRemoved.clear(),this._chgEdited.clear(),this._orgVals&&this._orgVals.clear()},t.prototype.implementsInterface=function(t){switch(t){case"ICollectionView":case"IEditableCollectionView":case"IPagedCollectionView":case"INotifyCollectionChanged":return!0}return!1},Object.defineProperty(t.prototype,"getError",{get:function(){return this._getError},set:function(t){this._getError!=t&&(this._getError=jt(t),this._raiseCollectionChanged())},enumerable:!0,configurable:!0}),t.prototype.onCollectionChanged=function(t){void 0===t&&(t=U.reset),t.action!=R.Change||this._committing||this._canceling||t.item==this.currentEditItem||t.item==this.currentAddItem||this._trackItemChanged(t.item),this._updating||this.collectionChanged.raise(this,t)},t.prototype._raiseCollectionChanged=function(t,e,n){void 0===t&&(t=R.Reset);var i=new U(t,e,n);this.onCollectionChanged(i)},t.prototype.onSourceCollectionChanging=function(t){return this.sourceCollectionChanging.raise(this,t),!t.cancel},t.prototype.onSourceCollectionChanged=function(t){this.sourceCollectionChanged.raise(this,t)},Object.defineProperty(t.prototype,"canFilter",{get:function(){return this._canFilter},set:function(t){this._canFilter=At(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"canGroup",{get:function(){return this._canGroup},set:function(t){this._canGroup=At(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"canSort",{get:function(){return this._canSort},set:function(t){this._canSort=At(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"currentItem",{get:function(){return this._pgView&&this._idx>-1&&this._idx<this._pgView.length?this._pgView[this._idx]:null},set:function(t){this.moveCurrentTo(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"currentPosition",{get:function(){return this._idx},set:function(t){this.moveCurrentToPosition(kt(t))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"filter",{get:function(){return this._filter},set:function(t){this._filter!=t&&(this._filter=jt(t),this.canFilter&&this.refresh())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"filters",{get:function(){return this._filters},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"groupDescriptions",{get:function(){return this._grpDesc},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"groups",{get:function(){return this._groups},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isEmpty",{get:function(){return!this._pgView||!this._pgView.length},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"sortDescriptions",{get:function(){return this._srtDsc},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"sourceCollection",{get:function(){return this._src},set:function(t){if(t!=this._srcRaw){if(!this.onSourceCollectionChanging(new z))return;var e=this.currentPosition;this.commitEdit(),null!=this._ncc&&this._ncc.collectionChanged.removeHandler(this._sourceChanged),this._srcRaw=t,this._src=Mt(t,!1),this._calcFields&&(this._src=j(this._src,this._calcFields)),this._ncc=et(this._src,"INotifyCollectionChanged"),this._ncc&&this._ncc.collectionChanged.addHandler(this._sourceChanged,this),this.clearChanges(),this.refresh(),this.moveCurrentToFirst(),this.onSourceCollectionChanged(),this.currentPosition<0&&e>-1&&this.onCurrentChanged()}},enumerable:!0,configurable:!0}),t.prototype._sourceChanged=function(t,e){this._updating<=0&&this.refresh()},t.prototype.contains=function(t){return this._pgView.indexOf(t)>-1},t.prototype.moveCurrentTo=function(t){return this.moveCurrentToPosition(this._pgView.indexOf(t))},t.prototype.moveCurrentToFirst=function(){return this.moveCurrentToPosition(0)},t.prototype.moveCurrentToLast=function(){return this.moveCurrentToPosition(this._pgView.length-1)},t.prototype.moveCurrentToPrevious=function(){return this._idx>0&&this.moveCurrentToPosition(this._idx-1)},t.prototype.moveCurrentToNext=function(){return this.moveCurrentToPosition(this._idx+1)},t.prototype.moveCurrentToPosition=function(t){if(t>=-1&&t<this._pgView.length&&t!=this._idx){var e=new z;if(this.onCurrentChanging(e)){var n=this._pgView[t],i=M(n),r=this._edtItem,o=this._newItem;r&&r!=n&&r!=i?this.commitEdit():o&&o!=n&&o!=i&&this.commitNew(),this._idx=t,this.onCurrentChanged()}}return this._idx==t},t.prototype.refresh=function(){if(this._newItem||this._edtItem||this._updating>0)this._pendingRefresh=!0;else{var t=this.currentItem;this._performRefresh(),this.onCollectionChanged(),t==this.currentItem||this._initializing||this.onCurrentChanged()}},t.prototype._commitAndRefresh=function(){this.currentEditItem||this.currentAddItem?(this._pendingRefresh=!0,this.commitEdit()):this.refresh()},t.prototype._performRefresh=function(){if(this._updating>0)this._pendingRefresh=!0;else{this._pendingRefresh=!1,this._pendingRemove=!1;var t=this.currentItem;this._view=this._src?this._performFilter(this._src):[],this.canSort&&this._srtDsc.length>0&&(this._view==this._src&&(this._view=this._src.slice()),this._performSort(this._view)),this._groups=this.canGroup?this._createGroups(this._view):null,this._fullGroups=this._groups,this._groups&&(this._view=this._mergeGroupItems(this._groups)),this._pgIdx=Et(this._pgIdx,0,this.pageCount-1),this._pgView=this._getPageView(),this._groups&&this.pageCount>1&&(this._groups=this._createGroups(this._pgView),this._mergeGroupItems(this._groups));var e=this._keepCurrentItem&&null!=t?this._pgView.indexOf(t):-1;e<0&&(e=Math.min(this._idx,this._pgView.length-1)),this._idx=e,this._digest=this._getGroupsDigest(this.groups)}},t.prototype._performSort=function(t){if(this._stableSort){var e=t.map((function(t,e){return{item:t,index:e}})),n=this._compareItems();e.sort((function(t,e){var i=n(t.item,e.item);return 0==i?t.index-e.index:i}));for(var i=0;i<t.length;i++)t[i]=e[i].item}else t.sort(this._compareItems())},t.prototype._compareItems=function(){var e=this,n=this._srtDsc,i=this._srtCvt,r=this._srtCmp,o=t._collator,s=!0,a=0;return function(t,l){for(var h=0;h<n.length;h++){var u=n[h],c=u._bnd.getValue(t),p=u._bnd.getValue(l);if(i&&(c=i(u,t,c,s),p=i(u,l,p,!1),s=!1),r&&null!=(a=r(c,p))){if(0!=a)return u.ascending?+a:-a}else{if(c!=c&&(c=null),p!=p&&(p=null),c!==p&&(null==c||null==p))switch(e._srtNulls){case He.First:return null==c?-1:1;case He.Last:return null==c?1:-1;default:return a=null==c?-1:1,u.ascending?+a:-a}if("string"==typeof c&&"string"==typeof p){if(o){if(0!=(a=o.compare(c,p)))return u.ascending?+a:-a;continue}var d=c.toLowerCase(),f=p.toLowerCase();d!=f&&(c=d,p=f)}if(0!=(a=c<p?-1:c>p?1:0))return u.ascending?+a:-a}}return 0}},t.prototype._performFilter=function(t){return this.canFilter&&this._filter||this._filters.length?t.filter(this._filterItem,this):t},t.prototype._filterItem=function(t){for(var e=!this.canFilter||!this._filter||this._filter(t),n=0;n<this._filters.length&&e;n++)e=this._filters[n](t);return e},t.prototype.onCurrentChanged=function(t){this.currentChanged.raise(this,t)},t.prototype.onCurrentChanging=function(t){return this.currentChanging.raise(this,t),!t.cancel},Object.defineProperty(t.prototype,"items",{get:function(){return this._pgView},enumerable:!0,configurable:!0}),t.prototype.beginUpdate=function(){this._updating++},t.prototype.endUpdate=function(t){void 0===t&&(t=!0),this._updating--,t&&(this._pendingRefresh=!0),this._updating<=0&&(this._pendingRefresh&&this.refresh(),this._pendingRemove&&(this._pendingRemove=!1,this._raiseCollectionChanged()))},Object.defineProperty(t.prototype,"isUpdating",{get:function(){return this._updating>0},enumerable:!0,configurable:!0}),t.prototype.deferUpdate=function(t,e){void 0===e&&(e=!0);try{this.beginUpdate(),t()}finally{this.endUpdate(e)}},Object.defineProperty(t.prototype,"canAddNew",{get:function(){return this._canAddNew},set:function(t){t!=this._canAddNew&&(this._canAddNew=At(t),this._raiseCollectionChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"canCancelEdit",{get:function(){return this._canCancelEdit},set:function(t){this._canCancelEdit=At(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"canRemove",{get:function(){return this._canRemove},set:function(t){this._canRemove=At(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"currentAddItem",{get:function(){return this._newItem},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"currentEditItem",{get:function(){return this._edtItem},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isAddingNew",{get:function(){return null!=this._newItem},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isEditingItem",{get:function(){return null!=this._edtItem},enumerable:!0,configurable:!0}),t.prototype.editItem=function(t){t!=this._edtItem&&this.moveCurrentTo(t)&&(this.commitEdit(),this._edtItem=t,this._edtClone=this._extend({},this._edtItem))},t.prototype.commitEdit=function(){var t=this._edtItem,e=this._edtClone;if(null!=t){this._committing=!0;var n=this._getChangedFields(t,e),i=this._pendingRefresh;this._edtItem=null,this._edtClone=null;var r=this._pgView.indexOf(t),o=this._digest;if(this._needRefresh(n)&&this._refreshOnEdit&&this._performRefresh(),n&&this._trackItemChanged(t,e),this._pgView.indexOf(t)!=r||o!=this._digest||i?this._raiseCollectionChanged():this._raiseCollectionChanged(R.Change,t,r),this.commitNew(),this._committing=!1,this.sourceCollection instanceof Be){this._updating++;var s=new U(R.Change,t);this.sourceCollection.onCollectionChanged(s),this._updating--}}},t.prototype.cancelEdit=function(){var t=this._edtItem;if(null!=t){if(this._edtItem=null,!this.canCancelEdit)return;var e=this._src.indexOf(t);e>=0&&this._edtClone&&(this._extend(this._src[e],this._edtClone),this._edtClone=null,this._canceling=!0,this._raiseCollectionChanged(R.Change,t,e),this._canceling=!1,this._pendingRefresh&&this._refreshOnEdit&&(this._performRefresh(),this._raiseCollectionChanged()))}},t.prototype.addNew=function(t,e){if(void 0===e&&(e=!1),this.commitEdit(),!this.canAddNew)return null;var n=this.sourceCollection;if(null==t&&(t=this.newItemCreator?this.newItemCreator():n&&n.length?new n[0].constructor:{}),null!=t){if(this._updating++,n.push(t),this._updating--,t=n[n.length-1],this._newItem=t,this._pgView!=this._src&&this._pgView.push(t),this.groups&&this.groups.length){var i=this.groups[this.groups.length-1];for(i.items.push(t);i.groups&&i.groups.length;)(i=i.groups[i.groups.length-1]).items.push(t)}this._raiseCollectionChanged(R.Add,t,this._pgView.length-1),this.moveCurrentTo(t),e&&this.commitNew()}return this._newItem},t.prototype.commitNew=function(){var t=this._newItem;if(null!=t){this._newItem=null;var e=this._pgView.indexOf(t),n=this._digest;if(this._refreshOnEdit&&this._performRefresh(),this._trackChanges){var i=this._chgEdited.indexOf(t);i>-1&&this._chgEdited.removeAt(i),this._chgAdded.indexOf(t)<0&&this._chgAdded.push(t)}this._pgView.indexOf(t)!=e||n!=this._digest||this.calculatedFields?this._raiseCollectionChanged():this._raiseCollectionChanged(R.Change,t,e)}},t.prototype.cancelNew=function(){var t=this._newItem;null!=t&&this.remove(t)},t.prototype.remove=function(t){var e=t==this._newItem;if(e&&(this._newItem=null),t==this._edtItem&&this.cancelEdit(),this.canRemove){var n=this._src.indexOf(t);if(n>-1){var i=this.currentItem;this._updating++,this._src.splice(n,1),this._updating--;var r=this._digest;if(this._refreshOnEdit)this._performRefresh();else{this._updating>0&&(this._pendingRemove=!0);var o=this._pgView.indexOf(t);o>=0&&this._pgView.splice(o,1)}if(this._trackChanges){var s=this._chgAdded.indexOf(t);s>-1&&this._chgAdded.removeAt(s);var a=this._chgEdited.indexOf(t);a>-1&&this._chgEdited.removeAt(a),this._chgRemoved.indexOf(t)<0&&!e&&s<0&&this._chgRemoved.push(t)}var l=this.sortDescriptions.length>0,h=this.pageSize>0&&this._pgIdx>-1;l||h||r!=this._getGroupsDigest(this.groups)?this._raiseCollectionChanged():this._raiseCollectionChanged(R.Remove,t,n),this.currentItem!==i&&this.onCurrentChanged()}}},t.prototype.removeAt=function(t){t=St(t),this.remove(this._pgView[t])},t.prototype._trackItemChanged=function(t,e){if(this._trackChanges){var n=this.sourceCollection;if(n&&n.indexOf(t)>-1){var i=this._orgVals,r=i?i.get(t):null;e&&!r&&i&&(i.set(t,e),r=e);var o=this._chgEdited.indexOf(t),s=R.Change;if(r&&this._sameContent(t,r)&&o>-1)return this._chgEdited.removeAt(o),void i.delete(t);if(o<0&&this._chgAdded.indexOf(t)<0)this._chgEdited.push(t);else if(o>-1){var a=new U(s,t,o);this._chgEdited.onCollectionChanged(a)}else(o=this._chgAdded.indexOf(t))>-1&&(a=new U(s,t,o),this._chgAdded.onCollectionChanged(a))}}},t.prototype._extend=function(t,e,n){for(var i in void 0===n&&(n=2),e)try{var r=e[i];n>0&&pt(r)?(t[i]={},this._extend(t[i],r,n-1)):t[i]=r}catch(t){}return t},t.prototype._getChangedFields=function(t,e,n){void 0===n&&(n=2),It(null!=e&&null!=t,"Two objects expected.");var i={};for(var r in e)try{this._sameValue(t[r],e[r],n)||(i[r]=!0)}catch(t){}for(var r in t)try{i[r]||this._sameValue(t[r],e[r],n)||(i[r]=!0)}catch(t){}var o=Object.keys(i);return o.length?o:null},t.prototype._sameValue=function(t,e,n){return void 0===n&&(n=2),!(t!==e&&!ve.equals(t,e)&&(!pt(t)||!pt(e)||n>0&&null!=this._getChangedFields(t,e,n-1)))},t.prototype._sameContent=function(t,e){return null==this._getChangedFields(t,e)},t.prototype._needRefresh=function(t){if(this._pendingRefresh)return!0;if(!t)return!1;if(this._filter)return!0;for(var e=0;e<this._srtDsc.length;e++){var n=this._getBindingRoot(this._srtDsc[e].property);if(t.indexOf(n)>-1)return!0}for(e=0;e<this._grpDesc.length;e++){var i=this._grpDesc[e];if(!(i instanceof $))return!0;if(n=this._getBindingRoot(i.propertyName),t.indexOf(n)>-1)return!0}return!1},t.prototype._getBindingRoot=function(t){var e=t.indexOf(".");return e>-1?t.substr(0,e):t},Object.defineProperty(t.prototype,"canChangePage",{get:function(){return this._canChangePage},set:function(t){this._canChangePage=At(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isPageChanging",{get:function(){return!1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"itemCount",{get:function(){return this._pgView.length},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pageIndex",{get:function(){return this._pgIdx},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pageSize",{get:function(){return this._pgSz},set:function(t){t!=this._pgSz&&(this._pgSz=St(t),this.refresh())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"totalItemCount",{get:function(){return this._view.length},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pageCount",{get:function(){return this.pageSize?Math.ceil(this.totalItemCount/this.pageSize):1},enumerable:!0,configurable:!0}),t.prototype.moveToFirstPage=function(){return this.moveToPage(0)},t.prototype.moveToLastPage=function(){return this.moveToPage(this.pageCount-1)},t.prototype.moveToPreviousPage=function(){return this.moveToPage(this.pageIndex-1)},t.prototype.moveToNextPage=function(){return this.moveToPage(this.pageIndex+1)},t.prototype.moveToPage=function(t){var e=Et(t,0,this.pageCount-1);if(e!=this._pgIdx){if(!this.canChangePage)return!1;var n=new J(e);if(this.onPageChanging(n)&&this.onCurrentChanging(n)){this.commitEdit(),this.commitNew();var i=this.currentItem;this._pgIdx=e,this._pgView=this._getPageView(),this._idx=0,this.groupDescriptions&&0!=this.groupDescriptions.length?this.refresh():(this.onCollectionChanged(),i!=this.currentItem&&this.onCurrentChanged()),this.onPageChanged()}}return this._pgIdx==t},t.prototype.onPageChanged=function(t){this.pageChanged.raise(this,t)},t.prototype.onPageChanging=function(t){return this.pageChanging.raise(this,t),!t.cancel},t.prototype._getFullGroup=function(t){var e=this._getGroupByPath(this._fullGroups,t.level,t._path);return null!=e&&(t=e),t},t.prototype._getGroupByPath=function(t,e,n){if(t)for(var i=0;i<t.length;i++){var r=t[i];if(r.level==e&&r._path==n)return r;if(r.level<e&&0==n.indexOf(r._path)&&null!=(r=this._getGroupByPath(r.groups,e,n)))return r}return null},t.prototype._getPageView=function(){if(this.pageSize<=0||this._pgIdx<0)return this._view;var t=this._pgSz*this._pgIdx,e=Math.min(t+this._pgSz,this._view.length);return this._view.slice(t,e)},t.prototype._createGroups=function(t){var e=this;if(!this._grpDesc||!this._grpDesc.length)return null;var n=[],i={},r=null;return t.forEach((function(t){for(var o=n,s=e._grpDesc.length,a="",l=0;l<s;l++){var h=e._grpDesc[l],u=h.groupNameFromItem(t,l),c=l==s-1;!(r=i[a])&&nt(u)&&(r={},i[a]=r);var p=e._getGroup(h,o,r,u,l,c);a+="/"+u,p._path=a,c&&p.items.push(t),o=p.groups}})),n},t.prototype._getGroupsDigest=function(t){for(var e="",n=0;null!=t&&n<t.length;n++){var i=t[n];e+="{"+i.name+":"+(i.items?i.items.length:"*"),i.groups.length>0&&(e+=",",e+=this._getGroupsDigest(i.groups)),e+="}"}return e},t.prototype._mergeGroupItems=function(t){for(var e=[],n=0;n<t.length;n++){var i=t[n];if(!i._isBottomLevel)for(var r=this._mergeGroupItems(i.groups),o=0,s=r.length;o<s;o++)i._items.push(r[o]);for(o=0,s=i._items.length;o<s;o++)e.push(i._items[o])}return e},t.prototype._getGroup=function(t,e,n,i,r,o){var s;if(n&&nt(i)){if(s=n[i])return s}else for(var a=0;a<e.length;a++)if(t.namesMatch(e[a].name,i))return e[a];var l=new Ne(t,i,r,o);return e.push(l),n&&(n[i]=l),l},t._collator="undefined"!=typeof window&&window.Intl&&Intl.Collator?new Intl.Collator:null,t}(),Ne=function(){function t(t,e,n,i){this._gd=t,this._name=e,this._level=n,this._isBottomLevel=i,this._groups=[],this._items=[]}return Object.defineProperty(t.prototype,"name",{get:function(){return this._name},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"level",{get:function(){return this._level},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isBottomLevel",{get:function(){return this._isBottomLevel},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"items",{get:function(){return this._items},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"groups",{get:function(){return this._groups},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"groupDescription",{get:function(){return this._gd},enumerable:!0,configurable:!0}),t.prototype.getAggregate=function(t,e,n){var i=et(n,Ve);return Me(t,(i?i._getFullGroup(this):this).items,e)},t}(),Ke="undefined"!=typeof window&&window["wj-control-is-element"]?HTMLElement:Object,ze=!1;try{ze=(function(){}.prototype=Array.prototype)!==Array.prototype}catch(H){ze=!0}var Ye=ze||Ke!==Object,qe=function(t){function e(){var e=this;return Ye&&(e=t.call(this)||this),e}return o(e,t),e}(Ke),Ge=function(t){function e(n,i,r){void 0===i&&(i=null),void 0===r&&(r=!1);var o=t.call(this)||this;o._listeners=[],o._pristine=!0,o._focus=!1,o._updating=0,o._fullUpdate=!1,o.gotFocus=new N,o.lostFocus=new N,o.invalidInput=new N,o.refreshing=new N,o.refreshed=new N,o._updateWme(),It(null==e.getControl(n),"Element is already hosting a control.");var s=se(n);It(null!=s,"Cannot find the host element."),o._orgTabIndex=s.hasAttribute("tabindex")?s.tabIndex:0,o._orgOuter=s.outerHTML,o._orgTag=s.tagName,o._orgAtts=s.attributes,"INPUT"!=s.tagName&&"SELECT"!=s.tagName||(s=o._replaceWithDiv(s)),o._e=s,s[e._CTRL_KEY]=o;var a=o.addEventListener.bind(o);if(1==r){o._szCtl=new me(s.offsetWidth,s.offsetHeight);var l=window.ResizeObserver,h=null;l&&(h=o._szObserver=new l((function(t){return o._resizeObserverCallback(t)}))),h?h.observe(s):a(window,"resize",o._handleResize.bind(o))}var u=o._handleFocusBlur.bind(o);a(s,"focus",u,!0),a(s,"blur",u,!0);var c=o._handleDisabled.bind(o);return a(s,"mousedown",c,!0),a(s,"mouseup",c,!0),a(s,"click",c,!0),a(s,"dblclick",c,!0),a(s,"wheel",c,E(!0,!0)),a(s,"keydown",(function(t){o.isDisabled&&t.keyCode!=G.Tab&&t.preventDefault()})),0==e._ctlCnt&&We(!0),e._ctlCnt++,o}return o(e,t),e.prototype.getTemplate=function(){for(var t=Object.getPrototypeOf(this);t;t=Object.getPrototypeOf(t)){var e=t.constructor.controlTemplate;if(e)return e}return null},e.prototype.applyTemplate=function(t,n,i,r){var o=this,s=this._e;t&&Gt(s,t);var a=null;n&&(a=ae(n,s));for(var l=s.querySelectorAll("a.wj-btn"),h=0;h<l.length;h++){var u=l[h];Xt(u,"role","button",!0),Xt(u,"href","",!0),Xt(u,"draggable",!1,!0)}var c=s.querySelectorAll("button");for(h=0;h<c.length;h++)Xt(c[h],"type","button",!0);var p=s.querySelectorAll("input"),d=1==p.length?p[0]:null;if(d){var f=e._rxInputAtts;this._copyAttributes(d,s.attributes,f),this._copyAttributes(d,this._orgAtts,f)}if(d&&s.id){for(var _=s;_.parentElement;)_=_.parentElement;var g=_.querySelector('label[for="'+s.id+'"]');if(g instanceof HTMLLabelElement){var m=ft(s.id+"_input");d.id=m,g.htmlFor=m}}if(d){var b=d.value,v=!0,y=!1,w=document.createEvent("HTMLEvents");w.initEvent("change",!0,!1),this.gotFocus.addHandler((function(){v=!1,y=!0,b=d.value})),this.addEventListener(s,"focusin",(function(t){v&&(y=!0,v=!1,b=d.value)})),this.addEventListener(d,"input",(function(){o._pristine=!1,setTimeout((function(){b=d.value}))})),this.addEventListener(d,"change",(function(t){t.isTrusted&&(b=d.value)}));var x=function(){o._containsFocus()||(v=!0,o._pristine&&(o._pristine=!1,o._updateState()),y&&b!=d.value&&(b=d.value,d.dispatchEvent(w)),y=!1)};this.addEventListener(s,"blur",(function(){x()})),this.lostFocus.addHandler((function(){x()}))}if(d?s.tabIndex=-1:s.getAttribute("tabindex")||(s.tabIndex=0),this._updateState(),i)for(var C in i){var E=i[C];if(this[C]=a.querySelector('[wj-part="'+E+'"]'),null==this[C]&&a.getAttribute("wj-part")==E&&(this[C]=a),null==this[C])throw'Missing template part: "'+E+'"';if(E==r){var D="name",I=s.attributes[D];I&&I.value&&this[C].setAttribute(D,I.value),D="accesskey",(I=s.attributes[D])&&I.value&&(this[C].setAttribute(D,I.value),s.removeAttribute(D))}}return a},e.prototype.dispose=function(){if(this._e){for(var t=this._e.querySelectorAll(".wj-control"),n=0;n<t.length;n++){var i=e.getControl(t[n]);i&&i.dispose()}this._toInv&&(clearTimeout(this._toInv),this._toInv=null),this._toFocus&&(clearTimeout(this._toFocus),this._toFocus=null);var r=this._szObserver;for(var o in r&&r.disconnect(),this.removeEventListener(),this)o.length>2&&0==o.indexOf("on")&&(a=this[o[2].toLowerCase()+o.substr(3)])instanceof N&&a.removeAllHandlers();var s=this.collectionView;if(s instanceof Ve)for(var o in s){var a;(a=s[o])instanceof N&&a.removeHandler(null,this)}this._e.parentNode&&null!=this._orgOuter&&(this._e.outerHTML=this._orgOuter),this._e[e._CTRL_KEY]=null,this._e=this._orgOuter=this._orgTag=this._szObserver=null,e._ctlCnt--,0==e._ctlCnt&&We(!1)}},e.getControl=function(t){var n=se(t);return n?Lt(n[e._CTRL_KEY],e,!0):null},Object.defineProperty(e.prototype,"hostElement",{get:function(){return this._e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rightToLeft",{get:function(){return null==this._rtlDir&&(this._rtlDir=!!this._e&&"rtl"==getComputedStyle(this._e).direction),this._rtlDir},enumerable:!0,configurable:!0}),e.prototype.focus=function(){var t=this._e;t&&t.offsetHeight&&(this.isDisabled||!(t.tabIndex>=0)&&ie(t,0)||t.focus())},e.prototype.containsFocus=function(){return this._containsFocusImpl(ee())},e.prototype._containsFocus=function(){return this._containsFocusImpl(ne())},e.prototype._containsFocusImpl=function(t){return he(this._e,t,!0)},e.prototype.invalidate=function(t){var n=this;void 0===t&&(t=!0),this._rtlDir=null,this._fullUpdate=this._fullUpdate||t,this._toInv&&(clearTimeout(this._toInv),this._toInv=null),this.isUpdating||(this._toInv=setTimeout((function(){n.refresh(n._fullUpdate),n._toInv=null}),e._REFRESH_INTERVAL))},e.prototype.refresh=function(t){var e=this;void 0===t&&(t=!0),this.isUpdating||(this.onRefreshing(),this.refreshed.hasHandlers&&setTimeout((function(){e.onRefreshed()}))),!this.isUpdating&&this._toInv&&(clearTimeout(this._toInv),this._toInv=null,this._fullUpdate=!1),this._updateState(),this._updateWme()},e.invalidateAll=function(t){t||(t=document.body);var n=t.children;if(n)for(var i=0;i<n.length;i++)e.invalidateAll(n[i]);var r=e.getControl(t);r&&r.invalidate()},e.refreshAll=function(t){if(t||(t=document.body),t.children)for(var n=0;n<t.children.length;n++)e.refreshAll(t.children[n]);var i=e.getControl(t);i&&i.refresh()},e.disposeAll=function(t){var n=e.getControl(t);if(n)n.dispose();else if(t.children)for(var i=0;i<t.children.length;i++)e.disposeAll(t.children[i])},e.prototype.beginUpdate=function(){this._updating++},e.prototype.endUpdate=function(){this._updating--,this._updating<=0&&this.invalidate()},Object.defineProperty(e.prototype,"isUpdating",{get:function(){return this._updating>0},enumerable:!0,configurable:!0}),e.prototype.deferUpdate=function(t){try{this.beginUpdate(),t()}finally{this.endUpdate()}},Object.defineProperty(e.prototype,"isTouching",{get:function(){return e._touching},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tabOrder",{get:function(){return this._orgTabIndex},set:function(t){this._setTabOrder(t)},enumerable:!0,configurable:!0}),e.prototype._setTabOrder=function(t){var e=this._e;this._orgTabIndex=t;var n=e.querySelectorAll("input"),i=1===n.length?n[0]:null;e.tabIndex=this.isDisabled||i?-1:this._orgTabIndex,i&&(i.tabIndex=this._orgTabIndex)},Object.defineProperty(e.prototype,"isDisabled",{get:function(){return this._e&&null!=this._e.getAttribute("disabled")},set:function(t){this._setIsDisabled(t)},enumerable:!0,configurable:!0}),e.prototype._setIsDisabled=function(t){if((t=!!At(t,!0))!=this.isDisabled){var n=this._e;if(n){Ut(n,"wj-state-disabled",t),Xt(n,"disabled",t?"disabled":null),n.tabIndex=this.isDisabled||1===n.querySelectorAll("input").length?-1:this._orgTabIndex;for(var i=n.querySelectorAll("input,textarea,button,command,fieldset,keygen,optgroup,option,select"),r=e._DSBL_KEY,o=0;o<i.length;o++){var s=i[o];if(t)s[r]=s.disabled,s.disabled=!0;else if(ue(s,".wj-control.wj-state-disabled"))s[r]=s.disabled,s.disabled=!0;else{var a=s[r];at(a)||(a=!1),s.disabled=a,delete s[r]}}}}},e.prototype.initialize=function(t){Dt(this,t)},e.prototype.addEventListener=function(t,e,n,i,r){if(t){null==i&&(i=!1),at(i)&&null==r&&(e.indexOf("touch")>-1||e.indexOf("wheel")>-1)&&(r=!1);var o=at(i)&&at(r)?E(i,r):i;t.addEventListener(e,n,o),this._listeners.push({target:t,type:e,fn:n,capture:i})}},e.prototype.removeEventListener=function(t,e,n,i){for(var r=0,o=0;o<this._listeners.length;o++){var s=this._listeners[o];null!=t&&t!=s.target||null!=e&&e!=s.type||null!=n&&n!=s.fn||null!=i&&i!=s.capture||(s.target.removeEventListener(s.type,s.fn,s.capture),this._listeners.splice(o,1),o--,r++)}return r},e.prototype.onGotFocus=function(t){this.gotFocus.raise(this,t)},e.prototype.onLostFocus=function(t){this.lostFocus.raise(this,t)},e.prototype.onInvalidInput=function(t){var n=this;if(this.invalidInput.raise(this,t),t.cancel){var i=e._FOCUS_INTERVAL+50;Date.now()-e._tsInvalidInput>i+50&&(e._toInvalidInput&&clearTimeout(e._toInvalidInput),e._toInvalidInput=setTimeout((function(){e._toInvalidInput=null,e._tsInvalidInput=Date.now(),n.focus()}),i))}return this._updateState(),!t.cancel},e.prototype.onRefreshing=function(t){this.refreshing.raise(this,t)},e.prototype.onRefreshed=function(t){this.refreshed.raise(this,t)},e.prototype._getProductInfo=function(){return"B0C3,Control"},e.prototype._updateWme=function(){var t=this._getProductInfo(),n=e._toWme,i=cn;lt(i)&&!n[t]&&(n[t]=!0,i(this,e._licKey))},e.prototype._hasPendingUpdates=function(){return null!=this._toInv},e.prototype._handleResize=function(){if(this._e.parentElement){var t=new me(this._e.offsetWidth,this._e.offsetHeight);t.equals(this._szCtl)||(this._szCtl=t,(t.width||t.height)&&this.invalidate())}},e.prototype._resizeObserverCallback=function(t){t.forEach((function(t){var n=e.getControl(t.target);n&&n._handleResize()}))},e.prototype._handleFocusBlur=function(){var t=this;this._toFocus||(this._toFocus=setTimeout((function(){t._toFocus=null,t._updateFocusState()}),e._FOCUS_INTERVAL))},e.prototype._updateFocusState=function(){setTimeout((function(){for(var t=K.empty,n=document.body.querySelectorAll(".wj-state-focused"),i=0;i<n.length;i++)(a=e.getControl(n[i]))&&a._focus&&!a.containsFocus()&&(Wt(a._e,"wj-state-focus"),a._focus=!1,a._updateState(),a.onLostFocus(t));var r=ee();if(r)for(var o=!0,s=r;s;){var a;(a=e.getControl(s))&&!a._focus&&a.containsFocus()&&(o&&(Gt(s,"wj-state-focus"),o=!1),a._focus=!0,a._updateState(),a.onGotFocus(t)),s=s[e._OWNR_KEY]||s.parentNode}}))},e.prototype._updateState=function(){var t=this.hostElement;if(t){Ut(t,"wj-state-focused",this._focus),this._rtlDir="rtl"==getComputedStyle(t).direction,Ut(t,"wj-rtl",this._rtlDir);var e=t.querySelector("input");if(e instanceof HTMLInputElement){Ut(t,"wj-state-empty",0==e.value.length),Ut(t,"wj-state-readonly",e.readOnly);var n=e.validationMessage;Ut(t,"wj-state-invalid",!this._pristine&&null!=n&&n.length>0)}}},e.prototype._handleDisabled=function(t){(this.isDisabled||ue(t.target,".wj-state-disabled"))&&(t.preventDefault(),t.stopPropagation(),t.stopImmediatePropagation())},e.prototype._replaceWithDiv=function(t){var e=document.createElement("div");return t.parentElement.replaceChild(e,t),e.innerHTML=t.innerHTML,this._copyAttributes(e,t.attributes,/id|style|class/i),e},e.prototype._copyAttributes=function(t,e,n){if(t)for(var i=0;i<e.length;i++){var r=e[i].name;r.match(n)&&t.setAttribute(r,e[i].value)}},e.prototype._getKeyCode=function(t){var e=t.keyCode;if(this.rightToLeft)switch(e){case G.Right:e=G.Left;break;case G.Left:e=G.Right}return e},e._toWme={},e._ctlCnt=0,e._touching=!1,e._tsInvalidInput=0,e._REFRESH_INTERVAL=10,e._FOCUS_INTERVAL=5,e._ANIM_DEF_DURATION=400,e._ANIM_DEF_STEP=35,e._CLICK_DELAY=800,e._CLICK_REPEAT=75,e._CLIPBOARD_DELAY=100,e._POPUP_ZINDEX=1500,e._SEARCH_DELAY=500,e._HOVER_DELAY=400,e._LEAVE_DELAY=600,e._DRAG_SCROLL_EDGE=15,e._DRAG_SCROLL_STEP=20,e._CTRL_KEY="$WJ-CTRL",e._OWNR_KEY="$WJ-OWNR",e._SCRL_KEY="$WJ-SCRL",e._TTIP_KEY="$WJ-TTIP",e._DSBL_KEY="$WJ-DSBL",e._rxInputAtts=/name|tabindex|placeholder|autofocus|autocomplete|autocorrect|autocapitalize|spellcheck|readonly|minlength|maxlength|pattern|type|aria-.+/i,e}(qe);function We(t){if("ontouchstart"in window||"onpointerdown"in window){var e=document,n=E(!0,!0),i=Ue,r=Xe,o=t?e.addEventListener.bind(e):e.removeEventListener.bind(e);"ontouchstart"in window?(o("touchstart",i,n),o("touchend",r,n),o("touchcancel",r,n)):"onpointerdown"in window&&(o("pointerdown",i,n),o("pointerup",r,n),o("pointercancel",r,n))}}function Ue(t){null!=t.pointerType&&"touch"!=t.pointerType||(Ge._toTouch&&(clearTimeout(Ge._toTouch),Ge._toTouch=null),Ge._touching=!0)}function Xe(t){if((null==t.pointerType||"touch"==t.pointerType)&&(Ge._toTouch=setTimeout((function(){Ge._toTouch=null,Ge._touching=!1}),900),document.querySelector("ion-app"))){var e=t.target;ue(e,".wj-dropdown-panel,.wj-dropdown")&&(e.focus(),t.stopPropagation(),t.stopImmediatePropagation())}}var Je,Ze=function(){function t(t){this._title=null,this._copyCss=!0,null!=t&&Dt(this,t)}return Object.defineProperty(t.prototype,"title",{get:function(){return this._title},set:function(t){this._title=Tt(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"copyCss",{get:function(){return this._copyCss},set:function(t){this._copyCss=At(t)},enumerable:!0,configurable:!0}),t.prototype.addCSS=function(t){this._css||(this._css=[]),this._css.push(t)},t.prototype.append=function(t){var e=this._getDocument();if(it(t))e.write(t);else if(t instanceof Element){t instanceof HTMLElement&&Ge.refreshAll(t);for(var n=t.cloneNode(!0),i=n.querySelectorAll("input"),r=0;r<i.length;r++){var o=i[r];switch(o.type){case"checkbox":Xt(o,"checked",!!o.checked||null),Xt(o,"indeterminate",!!o.indeterminate||null);break;case"radio":Xt(o,"checked",!!o.checked||null);break;default:Xt(o,"value",o.value||null)}}e.write(n.outerHTML)}else It(!1,"content should be an HTML string or an Element.")},t.prototype.print=function(t){var e=this;this._iframe&&(this._close(),setTimeout((function(){var n=e._iframe.contentWindow,i="onafterprint"in n&&!p();i&&(n.onafterprint=function(){e._afterPrint(t)}),b()&&null==n.document.body||!document.queryCommandSupported("print")?(n.focus(),n.print()):n.document.execCommand("print",!0,null),i||e._afterPrint(t)}),100))},t.prototype._afterPrint=function(t){document.body.removeChild(this._iframe),this._iframe=null,lt(t)&&t()},t.prototype._getDocument=function(){if(!this._iframe){var t=this._iframe=document.createElement("iframe");Gt(t,"wj-printdocument"),fe(t,{position:"fixed",left:32e3,top:32e3}),document.body.appendChild(t)}return this._iframe.contentDocument},t.prototype._close=function(){var t=this,e=this._getDocument();if(e.close(),e.title=null!=this.title?this.title:document.title,e.title&&e.title.trim()||(e.title=" "),this._copyCss&&[document.head,document.body].forEach((function(e){for(var n=e.querySelectorAll("LINK"),i=0;i<n.length;i++){var r=n[i];if(r.rel.match(/stylesheet/i)&&(!r.type||r.type.match(/text\/css/i))){var o=ye(r.href,{async:!1});t._addStyle(o.responseText)}}var s=e.querySelectorAll("STYLE");for(i=0;i<s.length;i++)t._addStyle(s[i].textContent)})),this._css)for(var n=0;n<this._css.length;n++){var i=e.createElement("style"),r=ye(this._css[n],{async:!1});i.textContent=r.responseText,e.head.appendChild(i)}},t.prototype._addStyle=function(t){var e=this._getDocument(),n=e.createElement("style");n.textContent=t,e.head.appendChild(n)},t}(),$e=function(){function t(){}return t.copy=function(e){t._copyPaste(Tt(e),null)},t.paste=function(e){e=jt(e),t._copyPaste(null,e)},t._copyPaste=function(t,e){for(var n=ee(),i=ue(n,".wj-control");i&&Ge.getControl(i);)i=i.parentElement;if(i=i||document.body){var r=!1,o=ae('<textarea class="wj-clipboard">',i,{position:"fixed",opacity:"0"});o.onkeydown=function(t){return t.preventDefault()},o.onchange=function(t){return t.stopImmediatePropagation()},it(t)?(o.value=t,o.select(),document.execCommand("copy")&&(r=!0)):(o.select(),lt(e)&&document.execCommand("paste")&&(e(o.value),r=!0)),setTimeout((function(){n.focus({preventScroll:!0}),(b()?setTimeout:function(t,e){return t()})((function(){return te(o)}),500),!r&&lt(e)&&e(o.value)}),Ge._CLIPBOARD_DELAY)}},t}(),Qe=function(){function t(t){this._isDown=!1,this._mousedownBnd=this._mousedown.bind(this),this._mouseupBnd=this._mouseup.bind(this),this._clickBnd=this._click.bind(this),this.element=t,this._connect(!0)}return Object.defineProperty(t.prototype,"element",{get:function(){return this._e},set:function(t){this._connect(!1),this._e=Lt(t,HTMLElement,!0),this._connect(!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"disabled",{get:function(){return this._disabled},set:function(t){this._disabled=At(t)},enumerable:!0,configurable:!0}),t.prototype._connect=function(e){var n=this;this._e&&t._startEvents.forEach((function(t){e?n._e.addEventListener(t,n._mousedownBnd):n._e.removeEventListener(t,n._mousedownBnd)}))},t.prototype._clearTimeouts=function(){this._toRepeat&&(clearTimeout(this._toRepeat),this._toRepeat=null),this._toDelay&&(clearTimeout(this._toDelay),this._toDelay=null)},t.prototype._mousedown=function(e){var n=this;this._isDown&&this._mouseup(null),this._disabled||(this._isDown=!0,t._stopEvents.forEach((function(t){document.addEventListener(t,n._mouseupBnd)})),this._clearTimeouts(),this._toDelay=setTimeout((function(){n._isDown&&(n._click(),n._toRepeat=setTimeout(n._clickBnd,Ge._CLICK_REPEAT))}),Ge._CLICK_DELAY))},t.prototype._mouseup=function(e){var n=this;this._isDown&&e&&"keydown"!=e.type&&this._clicked&&e.preventDefault(),t._stopEvents.forEach((function(t){document.removeEventListener(t,n._mouseupBnd)})),this._clearTimeouts(),this._isDown=!1,this._clicked=!1},t.prototype._click=function(){this._clicked=!0,this._clearTimeouts(),this._e&&(this._e.click(),this._isDown&&(this._toRepeat=setTimeout(this._clickBnd,Ge._CLICK_REPEAT)))},t._startEvents=["mousedown","touchstart"],t._stopEvents=["mouseup","mouseout","keydown","touchend","touchcancel"],t}();function tn(t,e,n,i,r,o){void 0===r&&(r=!0);var s=t.offsetHeight||t.offsetWidth,a=n;(at(n)||null==n)&&(a=n?Je.AboveLeft:Je.BelowLeft);var l=function(t){var e=document.body;if(t instanceof HTMLElement){if(!he(document.body,t))return e;for(var n=t;n;n=n.parentElement){if("DIALOG"==n.tagName||"ION-CONTENT"==n.tagName||"fixed"==getComputedStyle(n).position){e=n;break}if(on(n)){e=n.querySelector(".ui-dialog-content")||n;break}}}return e}(e);if(function(t,e){t.offsetHeight&&t.offsetWidth&&t.parentElement==e||(fe(t,{opacity:"0",position:"fixed",left:0,top:0,transform:"",display:""}),e.appendChild(t))}(t,l),function(t,e,n){if(e instanceof HTMLElement&&n){var i=n instanceof HTMLElement?n:e,r=getComputedStyle(i);1==new Ie(r.backgroundColor).a&&fe(t,{color:r.color,backgroundColor:r.backgroundColor,fontFamily:r.fontFamily,fontSize:r.fontSize,fontWeight:r.fontWeight,fontStyle:r.fontStyle})}}(t,e,r),Ge.refreshAll(t),p()?requestAnimationFrame((function(){nn(t,e,a)})):nn(t,e,a),e instanceof HTMLElement&&(t[Ge._OWNR_KEY]=e),!s){if(function(t,e,n){var i=e instanceof MouseEvent?e.target:e;if(i instanceof HTMLElement&&i.parentElement!=document.body){var r=Date.now(),o=i.getBoundingClientRect(),s=new Ge(document.createElement("div"));t[Ge._SCRL_KEY]=s,s.addEventListener(document,"scroll",(function(a){if(a.target!=t.parentElement&&Date.now()-r>100&&he(document,i)&&!he(t,a.target)&&(a.target!=document||null!=e&&"fixed"==t.style.position)){var l=i.getBoundingClientRect(),h=Math.abs(l.left-o.left),u=Math.abs(l.top-o.top);(h>1||u>1)&&(lt(n)&&n(),rn(t,!0),s.dispose())}}),!0)}}(t,e,o),i)return _e((function(e){return t.style.opacity=e<1?e.toString():""}));t.style.opacity=""}return null}function en(t,e,n){void 0===e&&(e=!0),void 0===n&&(n=!1);var i=null;return n?i=_e((function(n){t.style.opacity=(1-n).toString(),1==n&&(rn(t,e),t.style.opacity="")})):rn(t,e),i}function nn(t,e,n){var i=function(t,e){return e instanceof MouseEvent?e.clientX<=0&&e.clientY<=0&&e.target instanceof HTMLElement?be.fromBoundingRect(e.target.getBoundingClientRect()):new be(e.pageX-pageXOffset,e.pageY-pageYOffset,0,0):e instanceof ge?new be(e.x,e.y,0,0):e instanceof HTMLElement?be.fromBoundingRect(e.getBoundingClientRect()):e&&null!=e.top&&null!=e.left?e:null}(0,e),r=function(t){var e=document.body,n=document.documentElement,i=t.parentElement,r=new ge(e.scrollLeft||pageXOffset,e.scrollTop||pageYOffset);if(i!=e){var o=i==e?n:t.offsetParent||i;if(o==e&&(o=i),o){var s=o.getBoundingClientRect();r=new ge(o.scrollLeft-s.left,o.scrollTop-s.top)}}if(i instanceof HTMLElement){var a=getComputedStyle(i);r.x-=parseFloat(a.borderLeftWidth),r.y-=parseFloat(a.borderTopWidth)}return r}(t),o=function(t,e,n,i){var r=document.documentElement,o=r.clientWidth,s=r.clientHeight,a=Je;switch(n){case a.AboveLeft:case a.AboveRight:case a.BelowLeft:case a.BelowRight:if(e){var l=e.width;l&&(b()&&(l-=t.offsetWidth-t.clientWidth),t.style.minWidth=l+"px")}}var h=getComputedStyle(t),u=parseFloat(h.marginTop)+parseFloat(h.marginBottom),c=parseFloat(h.marginLeft)+parseFloat(h.marginRight),p=new me(t.offsetWidth+c,t.offsetHeight+u),d=new ge((o-p.width)/2,Math.round((s-p.height)/2*.7));if(e){"rtl"==h.direction&&(n=function(t){var e=Je;switch(t){case e.AboveLeft:return e.AboveRight;case e.AboveRight:return e.AboveLeft;case e.BelowLeft:return e.BelowRight;case e.BelowRight:return e.BelowLeft;case e.Left:return e.Right;case e.LeftTop:return e.RightTop;case e.LeftBottom:return e.RightBottom;case e.Right:return e.Left;case e.RightTop:return e.LeftTop;case e.RightBottom:return e.LeftBottom}return t}(n));var f=e.left,_=o-e.right;switch(d.x=e.left,n){case a.Above:case a.Below:d.x=e.left+(e.width-p.width)/2;break;case a.AboveLeft:case a.BelowLeft:d.x=e.left;break;case a.AboveRight:case a.BelowRight:d.x=e.right-p.width;break;case a.Left:case a.LeftTop:case a.LeftBottom:d.x=f>=p.width||f>=_?e.left-p.width:e.right;break;case a.RightTop:case a.RightBottom:case a.Right:d.x=_>=p.width||_>=f?e.right:e.left-p.width}var g=e.top,m=s-e.bottom;switch(n){case a.Above:case a.AboveLeft:case a.AboveRight:d.y=g>p.height||g>m?e.top-p.height:e.bottom;break;case a.Below:case a.BelowLeft:case a.BelowRight:d.y=m>p.height||m>g?e.bottom:e.top-p.height;break;case a.LeftTop:case a.RightTop:d.y=e.top;break;case a.LeftBottom:case a.RightBottom:d.y=e.bottom-p.height;break;case a.Left:case a.Right:d.y=e.bottom-p.height+(p.height-e.height)/2}}return d.x=Math.min(d.x,o-p.width),d.y=Math.min(d.y,s-p.height),d.x=Math.max(0,d.x)+i.x,d.y=Math.max(0,d.y)+i.y,d}(t,i,n,r),s={position:"absolute",zIndex:Ge._POPUP_ZINDEX},a=0==r.x;a?(s.left=o.x,s.top=o.y):s.transform="translate("+o.x+"px, "+o.y+"px)";var l=t.getBoundingClientRect().width;if(fe(t,s),a){var h=l-t.getBoundingClientRect().width;h>0&&(t.style.left=o.x-Math.ceil(h)+"px")}}function rn(t,e){t.style.display="none",e&&t.parentElement&&setTimeout((function(){"none"==t.style.display&&(te(t),lt(e)&&e())}),Ge._FOCUS_INTERVAL+50);var n=t[Ge._SCRL_KEY];n instanceof Ge&&n.dispose(),delete t[Ge._SCRL_KEY],delete t[Ge._OWNR_KEY]}function on(t){var e=window.jQuery,n=lt(e)?e(t):null;return n&&lt(n.dialog)&&qt(t,"ui-dialog")}!function(t){t[t.Above=0]="Above",t[t.AboveRight=1]="AboveRight",t[t.RightTop=2]="RightTop",t[t.Right=3]="Right",t[t.RightBottom=4]="RightBottom",t[t.BelowRight=5]="BelowRight",t[t.Below=6]="Below",t[t.BelowLeft=7]="BelowLeft",t[t.LeftBottom=8]="LeftBottom",t[t.Left=9]="Left",t[t.LeftTop=10]="LeftTop",t[t.AboveLeft=11]="AboveLeft"}(Je||(Je={}));var sn=function(){function t(t){this._showAutoTipBnd=this._showAutoTip.bind(this),this._hideAutoTipBnd=this._hideAutoTip.bind(this),this._mousemoveBnd=this._mousemove.bind(this),this._html=!0,this._cssClass="",this._gap=6,this._isAnimated=!1,this._position=Je.Above,this._showAtMouse=!1,this._showDelay=500,this._hideDelay=0,this._tips=[],this.popup=new N,Dt(this,t)}return Object.defineProperty(t.prototype,"position",{get:function(){return this._position},set:function(t){this._position=Ft(t,Je)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isAnimated",{get:function(){return this._isAnimated},set:function(t){this._isAnimated=At(t)},enumerable:!0,configurable:!0}),t.prototype.setTooltip=function(e,n,i){e=se(e),n=this._getContent(n);var r=this._indexOf(e);r>-1&&(this._detach(e),this._tips.splice(r,1)),n&&(this._attach(e),this._tips.push({element:e,content:n,position:i}));var o=t._eTip;o&&o[Ge._TTIP_KEY]==e&&(n?this._setContent(n):this._hideAutoTip())},t.prototype.getTooltip=function(t){t=se(t);for(var e=this._tips,n=0;n<e.length;n++)if(e[n].element==t)return e[n].content;return null},t.prototype.show=function(e,n,i,r){if(e=se(e),n=this._getContent(n),e){null==r&&(r=this.position);var o=t._eTip;o||(Gt(o=t._eTip=document.createElement("div"),"wj-tooltip"),o.style.visibility="none"),Gt(o,this.cssClass),this._setContent(n),o[Ge._TTIP_KEY]=e;var s=new an(n,e);if(this.onPopup(s),s.content&&!s.cancel){this._setContent(s.content),i||(i=be.fromBoundingRect(e.getBoundingClientRect()));var a=this.gap,l=Je;if(a)switch(r){case l.Above:case l.AboveLeft:case l.AboveRight:case l.Below:case l.BelowLeft:case l.BelowRight:i=i.inflate(0,a);break;default:i=i.inflate(a,0)}tn(o,i,r,this.isAnimated),document.addEventListener("mousedown",this._hideAutoTipBnd)}}},t.prototype.hide=function(){var e=t._eTip;e&&(te(e),Wt(e,this.cssClass),e.innerHTML=""),document.removeEventListener("mousedown",this._hideAutoTipBnd)},t.prototype.dispose=function(){var t=this;this.isVisible&&this.hide();var e=this._tips;e.length&&(e.forEach((function(e){t._detach(e.element)})),e.splice(0,e.length)),this._clearTimeouts()},Object.defineProperty(t.prototype,"isVisible",{get:function(){var e=t._eTip;return null!=e&&null!=e.parentElement&&e.offsetWidth>0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isContentHtml",{get:function(){return this._html},set:function(t){this._html=At(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cssClass",{get:function(){return this._cssClass},set:function(t){this._cssClass=Tt(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"gap",{get:function(){return this._gap},set:function(t){this._gap=kt(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showAtMouse",{get:function(){return this._showAtMouse},set:function(t){this._showAtMouse=At(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showDelay",{get:function(){return this._showDelay},set:function(t){this._showDelay=St(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hideDelay",{get:function(){return this._hideDelay},set:function(t){this._hideDelay=St(t)},enumerable:!0,configurable:!0}),t.prototype.onPopup=function(t){return this.popup&&this.popup.raise(this,t),!t.cancel},t.prototype._indexOf=function(t){for(var e=0;e<this._tips.length;e++)if(this._tips[e].element==t)return e;return-1},t.prototype._attach=function(t){t.addEventListener("mouseenter",this._showAutoTipBnd),t.addEventListener("mouseleave",this._hideAutoTipBnd),t.addEventListener("click",this._showAutoTipBnd),this.showAtMouse&&t.addEventListener("mousemove",this._mousemoveBnd)},t.prototype._detach=function(t){t.removeEventListener("mouseenter",this._showAutoTipBnd),t.removeEventListener("mouseleave",this._hideAutoTipBnd),t.removeEventListener("click",this._showAutoTipBnd),t.removeEventListener("mousemove",this._mousemoveBnd)},t.prototype._showAutoTip=function(t){var e=this;if(!t.defaultPrevented)if("click"!=t.type||Ge._touching){var n="mouseenter"==t.type?this._showDelay:0,i=this._hideDelay;this._clearTimeouts(),this._eMouse=t,this._toShow=setTimeout((function(){var n=e._indexOf(t.target);if(n>-1){var r=e._tips[n],o=e._eMouse,s=e._showAtMouse?new be(o.clientX,o.clientY,0,0):null,a=r&&r.element;if(a&&(a.offsetHeight||a.offsetWidth)){var l=Ge.getControl(r.element);null!=l&&0==l.isVisible||(e.show(r.element,r.content,s,r.position),i>0&&(e._toHide=setTimeout((function(){e.hide()}),i)))}}}),n)}else this._hideAutoTip()},t.prototype._mousemove=function(t){this._eMouse=t},t.prototype._hideAutoTip=function(){this._clearTimeouts(),this.hide()},t.prototype._clearTimeouts=function(){this._toShow&&(clearTimeout(this._toShow),this._toShow=null),this._toHide&&(clearTimeout(this._toHide),this._toHide=null)},t.prototype._getContent=function(t){if((t=Tt(t))&&"#"==t[0]){var e=se(t);e&&(t=e.innerHTML)}return t},t.prototype._setContent=function(e){var n=t._eTip;n&&(this._html?n.innerHTML=e:n.textContent=e)},t}(),an=function(t){function e(e,n){var i=t.call(this)||this;return i._content=Tt(e),i._e=n,i}return o(e,t),Object.defineProperty(e.prototype,"tip",{get:function(){return sn._eTip},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"element",{get:function(){return this._e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"content",{get:function(){return this._content},set:function(t){this._content=Tt(t)},enumerable:!0,configurable:!0}),e}(z);xe("wijmo",r);var ln="The Wijmo license in this application ",hn={evl:"Wijmo Evaluation Version ({version})",prd:ln+"is not valid for the <b>{control}</b> control.",ver:ln+"is not valid for the version in use. The license version is <b>{licVer}</b>; the product version is <b>{version}</b>.",dmn:ln+"is not valid for the current domain. The license domain is <b>{licDomain}</b>; the current domain is <b>{domain}</b>.",exp:ln+"has expired. The license expiration date is <b>{expDate:d}</b>.",lic:ln+"is invalid.",mss:ln+"is not set.",ctc:'If you are a customer, you can <a target="_blank" rel="noopener" href="https://www.grapecity.com/licensing/wijmo?utm_source=Wijmo-In-App&utm_medium=Click-to-Site&utm_campaign=Wijmo-User-Analysis">create a license</a> online. Otherwise, you can <a target="_blank" rel="noopener" href="https://www.grapecity.com/wijmo/request-trial-key?utm_source=Wijmo-In-App&utm_medium=Click-to-Site&utm_campaign=Wijmo-User-Analysis">generate a 30-day license</a> for free. For further assistance, contact GrapeCity: <a href="mailto:us.sales@grapecity.com">us.sales@grapecity.com</a>.',hdr:"Wijmo License",cls:"CLOSE"},un={};function cn(t,e){var n=Ge._wme;if(!(n&&he(document.body,n)&&n.offsetWidth&&n.offsetHeight))if(e){var i=pn(t);un[i]||(un[i]=!0,function(t,e,n,i){var r=function(t,e){try{e="#"+e;var n=t.indexOf(e);if(n>-1)return{prefix:t.substring(0,n),lic:JSON.parse(yn(t.substr(n+e.length)))}}catch(t){}return null}(t,e.algorithmCode);if(!r)return i();var o=r.lic,s=r.prefix+"#"+e.algorithmCode;if(function(t){for(var e=0,n=5381,i=0,r=t.length-1;r>=0;r--){var o=t.charCodeAt(r);e=o+(e<<6)+(e<<16)-e,n=o+((n<<5)+n),i=o+((i<<5)-i)}var s=e^n^i;return s<0&&(s=~s),s.toString(16).toUpperCase()}(s+JSON.stringify(o.D))!=o.H)return i();var a=window.msCrypto||window.crypto,l=a?a.subtle:null;if(!l||!location.protocol.match(/^https/i))return n(o.D);var h={name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}},u={alg:"RS256",e:"AQAB",kty:"RSA",n:En(e.publicKey)};u=window.msCrypto?Dn(JSON.stringify(u)):u;try{In(l.importKey("jwk",u,h,!1,["verify"])).then((function(t){var e=function(t){return String.fromCharCode.apply(null,new vn(t))}(Cn(function(t){return btoa(encodeURIComponent(t).replace(/%([0-9A-F]{2})/g,(function(t,e){return String.fromCharCode(parseInt(e,16))})))}(s+JSON.stringify(o.D))));In(l.verify(h,t,Cn(o.S),Dn(e))).then((function(t){return t?n(o.D):i()}))}),(function(){return n(o.D)}))}catch(t){return n(o.D)}}(e,{algorithmCode:"B0",publicKey:"l6/zrbWoSbcLFwEetFh38rH3ErBZE9H+Cqix3R+wTlfA1wD5B+lUcCQn+EJ60I4RGrm0x1sFjkiLWwB0jAn6BWZv0W4WbqAKriOdeoivxDp1Wmjs3qkEDhvbsjPtfvwx2BHil6o+/tDrdMJQSGs18WZm2PoQLQuL+9VhZ4FNRHUQU3Jtioke/OZEGHJOdYVwvCGalzBad6QFOiVbDBQPePpS3++GJzOxN8SN/7lyS5/IdKiy3WJRaVGkB370+HbN6hKraDfUgReLX26yxRaKC/5aWnGAJ2NnWLoGyAGRcwT9dVjo4bcAZNrrA0U9JVKQxaSskhdv2p49XzJkltXx5w=="},(function(n){fn(t,e,n),delete un[i]}),(function(){fn(t,e,null),delete un[i]})))}else fn(t,null,null)}function pn(t){return t._getProductInfo().split(",")[0]}function dn(t){return t._getProductInfo().split(",")[1]}function fn(t,e,n){var i=Pe.Licensing||hn,r=null;n?function(t,e){if(e.Exp){var n=e.Exp,i=new Date(parseInt(n.substr(0,4))||0,parseInt(n.substr(4,2))-1||0,parseInt(n.substr(6,2))||0);if(Math.ceil((i.valueOf()-Date.now())/864e5)<=0)return!1}return!0}(0,n)?function(t,e){var n=e.Anl?e.Anl.ver:null,i="5.20221.842";return!n||parseInt(n.replace("v",""))+10>=parseInt(i.split(".")[1])}(0,n)?function(t,e){if(mn()||!e.Dms)return!0;for(var n=location.hostname,i=e.Dms.split(","),r=0;r<i.length;r++)if(_n(n,i[r]))return!0;return!1}(0,n)?function(t,e){var n=pn(t);if(n&&n.length>=4)for(var i=0;i<e.Prd.length;i++)if(e.Prd[i].C.indexOf(n)>-1)return!0;return!1}(t,n)?gn(0,n)&&(r=i.evl):r=i.prd:r=i.dmn:r=i.ver:r=i.exp:r=e?i.lic:i.mss,r&&function(t,e,n){if(e=bn(t,e,n),!un[" "]&&!mn()&&!gn(0,n)){un[" "]=!0;var i=Pe.Licensing||hn,r=ae('<div style="position:fixed;background:rgba(0,0,0,0.3);left:0;top:0;width:100%;height:100%;font-family: sans-serif;z-index:10000;"><div style="position:relative;overflow:auto;background:white;width:450px;padding:36pt;left:50%;top:50%;transform:translate(-50%,-50%)"><div><p style="font-size:150%;font-weight:bold">'+i.hdr+"</p><p>"+e+'</p></div><div style="text-align:right;margin-top:24pt"><button style="border:none;background:rgba(158,158,158,.2);padding:8px 16px">'+i.cls+"</button></div></div></div>",document.body);r.addEventListener("click",(function(t){t.target instanceof HTMLButtonElement&&te(r)}))}if(!Ge._wme){var o=ae('<div><a href="'+function(){switch(Pe.Globalize.name){case"ja":return"https://www.grapecity.co.jp/developer/support/wijmo-license";case"ko":return"https://www.grapecity.co.kr/wijmojs#price";default:return"https://www.grapecity.com/licensing/wijmo?utm_source=Wijmo-In-App&utm_medium=Click-to-Site&utm_campaign=Wijmo-User-Analysis"}}()+'" target="_blank" rel="noopener">'+bn(t)+"</a></div>"),s={position:"fixed",display:"block",visibility:"visible",background:"rgba(240,240,240,.9)",padding:"8px 12px",margin:"6px",fontFamily:"sans-serif",fontSize:"14pt",fontWeight:"bold",zIndex:1e4,opacity:.8,height:"auto",width:"auto",transform:"none"};switch(Math.round(100*Math.random())%3){case 0:s.right=s.bottom=0;break;case 1:s.left=s.bottom=0;break;case 2:s.right=s.top=0}fe(o,s),document.body.appendChild(o),Ge._wme=o,function(t,e){var n,i=ae(e);i.className="wj-tooltip",fe(i,{pointerEvents:"auto",padding:"10px",margin:"6px"}),[t,i].forEach((function(t){t.addEventListener("mouseenter",(function(){return o(!0)})),t.addEventListener("mouseleave",(function(){return o(!1)}))}));var r=0;function o(e){r+=e?1:-1,n&&clearTimeout(n),n=setTimeout((function(){n=null,1==r?tn(i,t.getBoundingClientRect()):r<1&&en(i)}),500)}}(o,e)}}(t,r+="<br/><br/>"+i.ctc,n)}function _n(t,e){var n="^"+e.replace(/\./g,"\\.").replace(/\*/g,"(.*)")+"$",i=new RegExp(n,"i").test(t);return i||"*."!=e.substr(0,2)?i:_n(t,e.substr(2))}function gn(t,e){return!!e&&e.Evl}function mn(){var t=location,e=atob("Xih8bG9jYWxob3N0fGZpZGRsZS5qc2hlbGwubmV0fHJ1bi5wbG5rci5jb3xzLmNvZGVwZW4uaW98bnVsbC5qc2Jpbi5jb218Lio/LnN0YWNrYmxpdHouaW98MTI3LjAuMC4xfFt3LV0rLmxvY2FsfFt3LV0rfDo6MSkk");return"file:"==t.protocol||new RegExp(e,"i").test(t.hostname)}function bn(t,e,n){(!e||e.trim().length<15)&&(e=(Pe.Licensing||hn).evl),(!e||e.trim().length<15)&&(e=atob("V2lqbW8gRXZhbHVhdGlvbiBWZXJzaW9uICh7dmVyc2lvbn0p"));var i=null;if(n&&n.Exp){var r=n.Exp;i=new Date(parseInt(r.substr(0,4))||0,parseInt(r.substr(4,2))-1||0,parseInt(r.substr(6,2))||0)}return yt(e,{version:"5.20221.842",domain:location.hostname,control:dn(t),licVer:n&&n.Anl?"5."+n.Anl.ver.replace("v","")+".*":null,licDomain:n?n.Dms:null,expDate:i})}var vn="undefined"==typeof window?null:window.Uint8Array||window.TypedArray;function yn(t){if(!t)return"";var e=function(t){for(var e=t.split(""),n=e.length-5;n>=0;n--)wn(e,n+1,n+3,xn),wn(e,n,n+2,xn);return e.join("")}(t);e=function(t){return t.split("").reverse().join("")}(e);var n=Math.ceil(e.length/2);return function(t){for(var e=atob(t),n="",i=0;i<e.length;i++)n+="%"+("00"+e.charCodeAt(i).toString(16)).slice(-2);return decodeURIComponent(n)}(e=(e=(e=e.substr(n)+e.substr(0,n)).replace("#","=")).replace("&","=="))}function wn(t,e,n,i){t.length>1&&t.splice(n,1,i(t.splice(e,1,i(t[n]))[0]))}function xn(t){return function(t,e){var n=t.charCodeAt(0);return n>=65&&n<=90?t.toLowerCase():n>=97&&n<=122?t.toUpperCase():n>=48&&n<=57?String.fromCharCode(48+(n-48+10-1)%10):t}(t)}function Cn(t){for(var e=atob(t),n=e.length,i=new vn(n),r=0;r<n;r++)i[r]=e.charCodeAt(r);return i.buffer}function En(t){return t.replace(/\+/g,"-").replace(/\//g,"_").replace(/\=+$/,"")}function Dn(t){for(var e=new ArrayBuffer(t.length),n=new vn(e),i=0,r=t.length;i<r;i++)n[i]=t.charCodeAt(i);return e}function In(t){return"oncomplete"in t&&(t.then=function(e,n){t.resolve=e,t.reject=n},t.oncomplete=function(e){t.resolve(t.result)},t.onerror=function(e){t.reject()}),t}}}]);